"use strict";(self.webpackChunkplate_text_editor=self.webpackChunkplate_text_editor||[]).push([["839"],{56993(){},3471(e,t,l){l.d(t,{a:()=>ij});var a,r=l(74848),s=l(28398),n=l(36914),o=l(28516),i=l(44378);let d=[o.G6.configure({inject:{nodeProps:{defaultNodeValue:"start",nodeKey:"align",styleKey:"textAlign",validNodeValues:["start","left","center","right","end","justify"]},targetPlugins:[...i.t.heading,i.t.p,i.t.img,i.t.mediaEmbed]}})];var c=l(34261),u=l(87526),x=l(38072);let m=[{match:"***",mode:"mark",type:[i.t.bold,i.t.italic]},{match:"__*",mode:"mark",type:[i.t.underline,i.t.italic]},{match:"__**",mode:"mark",type:[i.t.underline,i.t.bold]},{match:"___***",mode:"mark",type:[i.t.underline,i.t.bold,i.t.italic]},{match:"**",mode:"mark",type:i.t.bold},{match:"__",mode:"mark",type:i.t.underline},{match:"*",mode:"mark",type:i.t.italic},{match:"_",mode:"mark",type:i.t.italic},{match:"~~",mode:"mark",type:i.t.strikethrough},{match:"^",mode:"mark",type:i.t.sup},{match:"~",mode:"mark",type:i.t.sub},{match:"==",mode:"mark",type:i.t.highlight},{match:"≡",mode:"mark",type:i.t.highlight},{match:"`",mode:"mark",type:i.t.code}],h=[{match:"# ",mode:"block",type:i.t.h1},{match:"## ",mode:"block",type:i.t.h2},{match:"### ",mode:"block",type:i.t.h3},{match:"#### ",mode:"block",type:i.t.h4},{match:"##### ",mode:"block",type:i.t.h5},{match:"###### ",mode:"block",type:i.t.h6},{match:"> ",mode:"block",type:i.t.blockquote},{match:"```",mode:"block",type:i.t.codeBlock,format:e=>{(0,u.bl)(e,{defaultType:i.t.p,insertNodesOptions:{select:!0}})}},{match:["---","—-","___ "],mode:"block",type:i.t.hr,format:e=>{e.tf.setNodes({type:i.t.hr}),e.tf.insertNodes({children:[{text:""}],type:i.t.p})}}],p=[{match:["* ","- "],mode:"block",type:"list",format:e=>{(0,x.o)(e,{listStyleType:i.t.ul})}},{match:[String.raw`^\d+\.$ `,String.raw`^\d+\)$ `],matchByRegex:!0,mode:"block",type:"list",format:(e,t)=>{let{matchString:l}=t;(0,x.o)(e,{listRestartPolite:Number(l)||1,listStyleType:i.t.ol})}},{match:["[] "],mode:"block",type:"list",format:e=>{(0,x.o)(e,{listStyleType:i.t.listTodo}),e.tf.setNodes({checked:!1,listStyleType:i.t.listTodo})}},{match:["[x] "],mode:"block",type:"list",format:e=>{(0,x.o)(e,{listStyleType:i.t.listTodo}),e.tf.setNodes({checked:!0,listStyleType:i.t.listTodo})}}],g=[c.YI.configure({options:{enableUndoOnDelete:!0,rules:[...h,...m,...c.Zt,...c.VX,...c.Sd,...c.$y,...c.K9,...c.N5,...p].map(e=>({...e,query:e=>!e.api.some({match:{type:e.getType(i.t.codeBlock)}})}))}})];var f=l(14723),b=l(22732);let v=(0,b.F)("relative mb-1",{variants:{variant:{h1:"mt-[1.6em] pb-1 font-bold font-heading text-4xl",h2:"mt-[1.4em] pb-px font-heading font-semibold text-2xl tracking-tight",h3:"mt-[1em] pb-px font-heading font-semibold text-xl tracking-tight",h4:"mt-[0.75em] font-heading font-semibold text-lg tracking-tight",h5:"mt-[0.75em] font-semibold text-lg tracking-tight",h6:"mt-[0.75em] font-semibold text-base tracking-tight"}}});function j(e){let{variant:t="h1",...l}=e;return(0,r.jsx)(s.tc,{as:t,className:v({variant:t}),...l,children:l.children})}var y=l(62734),w=l(34164),k=l(50856);function C(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,k.QP)((0,w.$)(t))}let N=[s.mv.withComponent(function(e){return(0,r.jsx)(s.tc,{...e,className:C("m-0 px-0 py-1"),children:e.children})}),f.LZ.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h1",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+1"}}}),f.oL.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h2",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+2"}}}),f.Vv.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h3",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+3"}}}),f.Y8.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h4",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+4"}}}),f.DP.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h5",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+5"}}}),f.ae.configure({node:{component:function(e){return(0,r.jsx)(j,{variant:"h6",...e})}},rules:{break:{empty:"reset"}},shortcuts:{toggle:{keys:"mod+alt+6"}}}),f.nL.configure({node:{component:function(e){return(0,r.jsx)(s.tc,{as:"blockquote",className:"my-1 border-l-2 pl-6 italic",...e})}},shortcuts:{toggle:{keys:"mod+shift+period"}}}),f.C4.withComponent(function(e){let t=(0,y.cQ)(),l=(0,y.f7)(),a=(0,y.zL)();return(0,r.jsxs)(s.tc,{...e,children:[(0,r.jsx)("div",{className:"py-6",contentEditable:!1,children:(0,r.jsx)("hr",{className:C("h-0.5 rounded-sm border-none bg-muted bg-clip-content",l&&a&&"ring-2 ring-ring ring-offset-2",!t&&"cursor-pointer")})}),e.children]})})],A=[f.jV,f.YU,f.yg,f.VH.configure({node:{component:function(e){return(0,r.jsx)(s.nK,{...e,as:"code",className:"whitespace-pre-wrap rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm",children:e.children})}},shortcuts:{toggle:{keys:"mod+e"}}}),f.xD.configure({shortcuts:{toggle:{keys:"mod+shift+x"}}}),f.xu.configure({shortcuts:{toggle:{keys:"mod+comma"}}}),f.jH.configure({shortcuts:{toggle:{keys:"mod+period"}}}),f.k3.configure({node:{component:function(e){return(0,r.jsx)(s.nK,{...e,as:"mark",className:"bg-highlight/30 text-inherit",children:e.children})}},shortcuts:{toggle:{keys:"mod+shift+h"}}}),f.jQ.withComponent(function(e){return(0,r.jsx)(s.nK,{...e,as:"kbd",className:"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]",children:e.children})})];var _=l(16515),S=l(42922),z=l(43272),B=l.n(z),E=l(97795),D=l(87677);function O(e){let{...t}=e;return(0,r.jsx)(E.bL,{"data-slot":"context-menu",...t})}function M(e){let{...t}=e;return(0,r.jsx)(E.l9,{"data-slot":"context-menu-trigger",...t})}function T(e){let{...t}=e;return(0,r.jsx)(E.YJ,{"data-slot":"context-menu-group",...t})}function I(e){let{...t}=e;return(0,r.jsx)(E.Pb,{"data-slot":"context-menu-sub",...t})}function F(e){let{className:t,inset:l,children:a,...s}=e;return(0,r.jsxs)(E.ZP,{className:C("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[inset]:pl-8 data-[state=open]:text-accent-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-inset":l,"data-slot":"context-menu-sub-trigger",...s,children:[a,(0,r.jsx)(D.A,{className:"ml-auto"})]})}function L(e){let{className:t,...l}=e;return(0,r.jsx)(E.G5,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"context-menu-sub-content",...l})}function R(e){let{className:t,...l}=e;return(0,r.jsx)(E.ZL,{children:(0,r.jsx)(E.UC,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"context-menu-content",...l})})}function P(e){let{className:t,inset:l,variant:a="default",...s}=e;return(0,r.jsx)(E.q7,{className:C("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-inset":l,"data-slot":"context-menu-item","data-variant":a,...s})}var H=l(77455),q=l(57746),V=l(76055);let Q=(0,b.F)("pointer-events-none absolute inset-0 z-1 bg-brand/[.13] transition-opacity",{defaultVariants:{active:!0},variants:{active:{false:"opacity-0",true:"opacity-100"}}});function U(e){let t=(0,_._W)(),l=(0,s.gO)(V.qp,"isDragging");return t&&"tr"!==e.plugin.key&&"table"!==e.plugin.key?(0,r.jsx)("div",{className:Q({active:t&&!l}),"data-slot":"block-selection"}):null}let W=[_.vO.configure(e=>{let{editor:t}=e;return{options:{enableContextMenu:!0,isSelectable:e=>!(0,H.Ut)(t,[i.t.column,i.t.codeLine,i.t.td]).includes(e.type),onKeyDownSelecting:(e,t)=>{(0,q.isHotkey)("mod+j")(t)&&e.getApi(S.WB).aiChat.show()}},render:{belowRootNodes:e=>{var t;return(null==(t=e.attributes.className)?void 0:t.includes("slate-selectable"))?(0,r.jsx)(U,{...e}):null}}}}),_.E.configure({render:{aboveEditable:function(e){let{children:t}=e,{api:l,editor:a}=(0,s.CF)(_.E),[n,o]=z.useState(null),d=function(){let[e,t]=z.useState(!1);return z.useEffect(()=>{function e(){t("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),e}(),[c]=(0,s.x8)("readOnly"),u=(0,s.gO)(_.E,"openId")===_.AZ,x=z.useCallback(e=>{a.getApi(_.vO).blockSelection.getNodes().forEach(t=>{let[l,r]=t;l[i.t.listType]&&a.tf.unsetNodes([i.t.listType,"indent"],{at:r}),a.tf.toggleBlock(e,{at:r})})},[a]),m=z.useCallback(e=>{a.getTransforms(_.vO).blockSelection.setNodes({align:e})},[a]);return d?t:(0,r.jsxs)(O,{modal:!1,onOpenChange:e=>{e||l.blockMenu.hide()},children:[(0,r.jsx)(M,{asChild:!0,onContextMenu:e=>{let t=e.target.dataset;if((null==t?void 0:t.slateEditor)==="true"||c||(null==t?void 0:t.plateOpenContextMenu)==="false")return e.preventDefault();setTimeout(()=>{l.blockMenu.show(_.AZ,{x:e.clientX,y:e.clientY})},0)},children:(0,r.jsx)("div",{className:"w-full",children:t})}),u&&(0,r.jsxs)(R,{className:"w-64",onCloseAutoFocus:e=>{e.preventDefault(),a.getApi(_.vO).blockSelection.focus(),"askAI"===n&&a.getApi(S.WB).aiChat.show(),o(null)},children:[(0,r.jsxs)(T,{children:[(0,r.jsx)(P,{onClick:()=>{o("askAI")},children:"Ask AI"}),(0,r.jsx)(P,{onClick:()=>{a.getTransforms(_.vO).blockSelection.removeNodes(),a.tf.focus()},children:"Delete"}),(0,r.jsx)(P,{onClick:()=>{a.getTransforms(_.vO).blockSelection.duplicate()},children:"Duplicate"}),(0,r.jsxs)(I,{children:[(0,r.jsx)(F,{children:"Turn into"}),(0,r.jsxs)(L,{className:"w-48",children:[(0,r.jsx)(P,{onClick:()=>x(i.t.p),children:"Paragraph"}),(0,r.jsx)(P,{onClick:()=>x(i.t.h1),children:"Heading 1"}),(0,r.jsx)(P,{onClick:()=>x(i.t.h2),children:"Heading 2"}),(0,r.jsx)(P,{onClick:()=>x(i.t.h3),children:"Heading 3"}),(0,r.jsx)(P,{onClick:()=>x(i.t.blockquote),children:"Blockquote"})]})]})]}),(0,r.jsxs)(T,{children:[(0,r.jsx)(P,{onClick:()=>a.getTransforms(_.vO).blockSelection.setIndent(1),children:"Indent"}),(0,r.jsx)(P,{onClick:()=>a.getTransforms(_.vO).blockSelection.setIndent(-1),children:"Outdent"}),(0,r.jsxs)(I,{children:[(0,r.jsx)(F,{children:"Align"}),(0,r.jsxs)(L,{className:"w-48",children:[(0,r.jsx)(P,{onClick:()=>m("left"),children:"Left"}),(0,r.jsx)(P,{onClick:()=>m("center"),children:"Center"}),(0,r.jsx)(P,{onClick:()=>m("right"),children:"Right"})]})]})]})]})]})}}})];var $=l(46570);let G=[$.SK.configure({options:{className:"before:absolute before:cursor-text before:text-muted-foreground/80 before:content-[attr(placeholder)]",placeholders:{[i.t.p]:"Type something..."},query:e=>{let{path:t}=e;return 1===t.length}}})];var K=l(54197),Z=l(50643),Y=l(33362);let J=(0,b.F)("inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function X(e){let{className:t,variant:l,size:a,asChild:s=!1,...n}=e,o=s?Y.DX:"button";return(0,r.jsx)(o,{className:C(J({variant:l,size:a,className:t})),"data-slot":"button",...n})}var ee=l(12778),et=l(91307),el=l(71377),ea=l(41181),er=l(59155),es=l(81153),en=l(27235),eo=l(51089),ei=l(43598),ed=l(7913),ec=l(72250),eu=l(48697),ex=l(98445),em=l(17215),eh=l(3595),ep=l(75107),eg=l(62837),ef=l(45773),eb=l(68309);function ev(e){let{...t}=e;return(0,r.jsx)(eg.bL,{"data-slot":"dropdown-menu",...t})}function ej(e){let{...t}=e;return(0,r.jsx)(eg.ZL,{"data-slot":"dropdown-menu-portal",...t})}function ey(e){let{...t}=e;return(0,r.jsx)(eg.l9,{"data-slot":"dropdown-menu-trigger",...t})}function ew(e){let{className:t,sideOffset:l=4,...a}=e;return(0,r.jsx)(eg.ZL,{children:(0,r.jsx)(eg.UC,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"dropdown-menu-content",sideOffset:l,...a})})}function ek(e){let{...t}=e;return(0,r.jsx)(eg.YJ,{"data-slot":"dropdown-menu-group",...t})}function eC(e){let{className:t,inset:l,variant:a="default",...s}=e;return(0,r.jsx)(eg.q7,{className:C("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-inset":l,"data-slot":"dropdown-menu-item","data-variant":a,...s})}function eN(e){let{className:t,children:l,checked:a,...s}=e;return(0,r.jsxs)(eg.H_,{checked:a,className:C("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-slot":"dropdown-menu-checkbox-item",...s,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(eg.VF,{children:(0,r.jsx)(ef.A,{className:"size-4"})})}),l]})}function eA(e){let{...t}=e;return(0,r.jsx)(eg.z6,{"data-slot":"dropdown-menu-radio-group",...t})}function e_(e){let{className:t,children:l,...a}=e;return(0,r.jsxs)(eg.hN,{className:C("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-slot":"dropdown-menu-radio-item",...a,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(eg.VF,{children:(0,r.jsx)(eb.A,{className:"size-2 fill-current"})})}),l]})}function eS(e){let{className:t,inset:l,...a}=e;return(0,r.jsx)(eg.JU,{className:C("px-2 py-1.5 font-medium text-sm data-[inset]:pl-8",t),"data-inset":l,"data-slot":"dropdown-menu-label",...a})}function ez(e){let{className:t,...l}=e;return(0,r.jsx)(eg.wv,{className:C("-mx-1 my-1 h-px bg-border",t),"data-slot":"dropdown-menu-separator",...l})}function eB(e){let{...t}=e;return(0,r.jsx)(eg.Pb,{"data-slot":"dropdown-menu-sub",...t})}function eE(e){let{className:t,inset:l,children:a,...s}=e;return(0,r.jsxs)(eg.ZP,{className:C("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[inset]:pl-8 data-[state=open]:text-accent-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-inset":l,"data-slot":"dropdown-menu-sub-trigger",...s,children:[a,(0,r.jsx)(D.A,{className:"ml-auto size-4"})]})}function eD(e){let{className:t,...l}=e;return(0,r.jsx)(eg.G5,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"dropdown-menu-sub-content",...l})}var eO=l(72440);function eM(e){let{className:t,orientation:l="horizontal",decorative:a=!0,...s}=e;return(0,r.jsx)(eO.b,{className:C("shrink-0 bg-border data-[orientation=horizontal]:h-px data-[orientation=vertical]:h-full data-[orientation=horizontal]:w-full data-[orientation=vertical]:w-px",t),"data-slot":"separator",decorative:a,orientation:l,...s})}function eT(e){let{delayDuration:t=0,...l}=e;return(0,r.jsx)(eh.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...l})}function eI(e){let{...t}=e;return(0,r.jsx)(eT,{children:(0,r.jsx)(eh.bL,{"data-slot":"tooltip",...t})})}function eF(e){let{...t}=e;return(0,r.jsx)(eh.l9,{"data-slot":"tooltip-trigger",...t})}function eL(e){let{className:t,sideOffset:l=0,children:a,...s}=e;return(0,r.jsx)(eh.ZL,{children:(0,r.jsxs)(eh.UC,{className:C("fade-in-0 zoom-in-95 data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in text-balance rounded-md bg-foreground px-3 py-1.5 text-background text-xs data-[state=closed]:animate-out",t),"data-slot":"tooltip-content",sideOffset:l,...s,children:[a,(0,r.jsx)(eh.i3,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-foreground fill-foreground"})]})})}function eR(e){let{className:t,...l}=e;return(0,r.jsx)(em.bL,{className:C("relative flex select-none items-center",t),...l})}function eP(e){let{className:t,...l}=e;return(0,r.jsx)(em.hT,{className:C("flex items-center",t),...l})}let eH=(0,b.F)("inline-flex cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-[color,box-shadow] hover:bg-muted hover:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-checked:bg-accent aria-checked:text-accent-foreground aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{defaultVariants:{size:"default",variant:"default"},variants:{size:{default:"h-9 min-w-9 px-2",lg:"h-10 min-w-10 px-2.5",sm:"h-8 min-w-8 px-1.5"},variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"}}}),eq=(0,b.F)(C("inline-flex items-center justify-center rounded-r-md font-medium text-foreground text-sm transition-colors disabled:pointer-events-none disabled:opacity-50"),{defaultVariants:{size:"sm",variant:"default"},variants:{size:{default:"h-9 w-6",lg:"h-10 w-8",sm:"h-8 w-4"},variant:{default:"bg-transparent hover:bg-muted hover:text-muted-foreground aria-checked:bg-accent aria-checked:text-accent-foreground",outline:"border border-input border-l-0 bg-transparent hover:bg-accent hover:text-accent-foreground"}}}),eV=(a=function(e){let{children:t,className:l,isDropdown:a,pressed:s,size:n="sm",variant:o,...i}=e;return"boolean"==typeof s?(0,r.jsx)(eP,{disabled:i.disabled,type:"single",value:"single",children:(0,r.jsx)(e$,{className:C(eH({size:n,variant:o}),a&&"justify-between gap-1 pr-1",l),value:s?"single":"",...i,children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-1 items-center gap-2 whitespace-nowrap",children:t}),(0,r.jsx)("div",{children:(0,r.jsx)(ep.A,{className:"size-3.5 text-muted-foreground","data-icon":!0})})]}):t})}):(0,r.jsx)(em.$n,{className:C(eH({size:n,variant:o}),a&&"pr-1",l),...i,children:t})},function(e){let{tooltip:t,tooltipContentProps:l,tooltipProps:s,tooltipTriggerProps:n,...o}=e,[i,d]=z.useState(!1);z.useEffect(()=>{d(!0)},[]);let c=(0,r.jsx)(a,{...o});return t&&i?(0,r.jsxs)(eI,{...s,children:[(0,r.jsx)(eF,{asChild:!0,...n,children:c}),(0,r.jsx)(eK,{...l,children:t})]}):c});function eQ(e){let{className:t,...l}=e;return(0,r.jsx)(eV,{className:C("group flex gap-0 px-0 hover:bg-transparent",t),...l})}function eU(e){let{children:t,className:l,size:a="sm",variant:s,...n}=e;return(0,r.jsx)("span",{className:C(eH({size:a,variant:s}),"rounded-r-none","group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground",l),...n,children:t})}function eW(e){let{className:t,size:l,variant:a,...s}=e;return(0,r.jsx)("span",{className:C(eq({size:l,variant:a}),"group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground",t),onClick:e=>e.stopPropagation(),role:"button",...s,children:(0,r.jsx)(ep.A,{className:"size-3.5 text-muted-foreground","data-icon":!0})})}function e$(e){let{className:t,size:l="sm",variant:a,...s}=e;return(0,r.jsx)(em.sy,{className:C(eH({size:l,variant:a}),t),...s})}function eG(e){let{children:t,className:l}=e;return(0,r.jsxs)("div",{className:C("group/toolbar-group","relative hidden has-[button]:flex",l),children:[(0,r.jsx)("div",{className:"flex items-center",children:t}),(0,r.jsx)("div",{className:"group-last/toolbar-group:hidden! mx-1.5 py-0.5",children:(0,r.jsx)(eM,{orientation:"vertical"})})]})}function eK(e){let{children:t,className:l,sideOffset:a=4,...s}=e;return(0,r.jsx)(eh.ZL,{children:(0,r.jsx)(eh.UC,{className:C("z-50 w-fit origin-(--radix-tooltip-content-transform-origin) text-balance rounded-md bg-primary px-3 py-1.5 text-primary-foreground text-xs",l),"data-slot":"tooltip-content",sideOffset:a,...s,children:t})})}function eZ(e){let{children:t,className:l,label:a,...s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ez,{className:C("hidden","mb-0 shrink-0 peer-has-[[role=menuitem]]/menu-group:block peer-has-[[role=menuitemradio]]/menu-group:block peer-has-[[role=option]]/menu-group:block")}),(0,r.jsxs)(eA,{...s,className:C("hidden","peer/menu-group group/menu-group my-1.5 has-[[role=menuitem]]:block has-[[role=menuitemradio]]:block has-[[role=option]]:block",l),children:[a&&(0,r.jsx)(eS,{className:"select-none font-semibold text-muted-foreground text-xs",children:a}),t]})]})}function eY(e){let{options:t,...l}=e,{emojiPickerState:a,isOpen:s,setIsOpen:n}=(0,Z.d8)(t);return(0,r.jsx)(eJ,{control:(0,r.jsx)(eV,{isDropdown:!0,pressed:s,tooltip:"Emoji",...l,children:(0,r.jsx)(el.A,{})}),isOpen:s,setIsOpen:n,children:(0,r.jsx)(eX,{...a,isOpen:s,setIsOpen:n,settings:null==t?void 0:t.settings})})}function eJ(e){let{children:t,control:l,isOpen:a,setIsOpen:s}=e;return(0,r.jsxs)(et.bL,{onOpenChange:s,open:a,children:[(0,r.jsx)(et.l9,{asChild:!0,children:l}),(0,r.jsx)(et.ZL,{children:(0,r.jsx)(et.UC,{className:"z-100",children:t})})]})}function eX(e){let{clearSearch:t,emoji:l,emojiLibrary:a,focusedCategory:s,hasFound:n,i18n:o,icons:i={categories:te,search:tt},isSearching:d,refs:c,searchResult:u,searchValue:x,setSearch:m,settings:h=ee.f,visibleCategories:p,handleCategoryClick:g,onMouseOver:f,onSelectEmoji:b}=e;return(0,r.jsxs)("div",{className:C("flex flex-col rounded-xl bg-popover text-popover-foreground","h-[23rem] w-80 border shadow-md"),children:[(0,r.jsx)(e9,{emojiLibrary:a,focusedCategory:s,i18n:o,icons:i,onClick:g}),(0,r.jsx)(e5,{i18n:o,searchValue:x,setSearch:m,children:(0,r.jsx)(e3,{clearSearch:t,i18n:o,searchValue:x})}),(0,r.jsx)(e2,{emojiLibrary:a,i18n:o,isSearching:d,onMouseOver:f,onSelectEmoji:b,refs:c,searchResult:u,settings:h,visibleCategories:p}),(0,r.jsx)(e6,{emoji:l,hasFound:n,i18n:o,isSearching:d})]})}let e0=z.memo(function(e){let{emoji:t,index:l,onMouseOver:a,onSelect:s}=e;return(0,r.jsxs)("button",{"aria-label":t.skins[0].native,className:"group relative flex size-9 cursor-pointer items-center justify-center border-none bg-transparent text-2xl leading-none","data-index":l,onClick:()=>s(t),onMouseEnter:()=>a(t),onMouseLeave:()=>a(),tabIndex:-1,type:"button",children:[(0,r.jsx)("div",{"aria-hidden":"true",className:"absolute inset-0 rounded-full opacity-0 group-hover:opacity-100"}),(0,r.jsx)("span",{className:"relative","data-emoji-set":"native",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols'},children:t.skins[0].native})]})}),e1=z.memo(function(e){let{emojiLibrary:t,row:l,onMouseOver:a,onSelectEmoji:s}=e;return(0,r.jsx)("div",{className:"flex","data-index":l.id,children:l.elements.map((e,l)=>(0,r.jsx)(e0,{emoji:t.getEmoji(e),index:l,onMouseOver:a,onSelect:s},e))},l.id)});function e2(e){let{emojiLibrary:t,i18n:l,isSearching:a=!1,refs:s,searchResult:n,settings:o=ee.f,visibleCategories:i,onMouseOver:d,onSelectEmoji:c}=e,u=o.perLine.value*o.buttonSize.value,x=z.useCallback(e=>!!i.has(e)&&i.get(e),[i]),m=z.useCallback(()=>t.getGrid().sections().map(e=>{let{id:a}=e,s=t.getGrid().section(a),{buttonSize:n}=o;return(0,r.jsxs)("div",{"data-id":a,ref:s.root,style:{width:u},children:[(0,r.jsx)("div",{className:"-top-px sticky z-1 bg-popover/90 p-1 py-2 font-semibold text-sm backdrop-blur-xs",children:l.categories[a]}),(0,r.jsx)("div",{className:"relative flex flex-wrap",style:{height:s.getRows().length*n.value},children:x(a)&&s.getRows().map(e=>(0,r.jsx)(e1,{emojiLibrary:t,onMouseOver:d,onSelectEmoji:c,row:e},e.id))})]},a)}),[t,u,l.categories,x,c,d,o]),h=z.useCallback(()=>(0,r.jsxs)("div",{"data-id":"search",style:{width:u},children:[(0,r.jsx)("div",{className:"-top-px sticky z-1 bg-popover/90 p-1 py-2 font-semibold text-card-foreground text-sm backdrop-blur-xs",children:l.searchResult}),(0,r.jsx)("div",{className:"relative flex flex-wrap",children:n.map((e,l)=>(0,r.jsx)(e0,{emoji:t.getEmoji(e.id),index:l,onMouseOver:d,onSelect:c},e.id))})]}),[t,u,l.searchResult,n,c,d]);return(0,r.jsx)("div",{className:C("h-full min-h-[50%] overflow-y-auto overflow-x-hidden px-2","[&::-webkit-scrollbar]:w-4","[&::-webkit-scrollbar-button]:hidden [&::-webkit-scrollbar-button]:size-0","[&::-webkit-scrollbar-thumb]:min-h-11 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-muted [&::-webkit-scrollbar-thumb]:hover:bg-muted-foreground/25","[&::-webkit-scrollbar-thumb]:border-4 [&::-webkit-scrollbar-thumb]:border-popover [&::-webkit-scrollbar-thumb]:border-solid [&::-webkit-scrollbar-thumb]:bg-clip-padding"),"data-id":"scroll",ref:s.current.contentRoot,children:(0,r.jsx)("div",{className:"h-full",ref:s.current.content,children:a?h():m()})})}function e5(e){let{children:t,i18n:l,searchValue:a,setSearch:s}=e;return(0,r.jsx)("div",{className:"flex items-center px-2",children:(0,r.jsxs)("div",{className:"relative flex grow items-center",children:[(0,r.jsx)("input",{"aria-label":"Search",autoComplete:"off",autoFocus:!0,className:"block w-full appearance-none rounded-full border-0 bg-muted px-10 py-2 text-sm outline-none placeholder:text-muted-foreground focus-visible:outline-none",onChange:e=>s(e.target.value),placeholder:l.search,type:"text",value:a}),t]})})}function e3(e){let{clearSearch:t,i18n:l,searchValue:a}=e;return(0,r.jsxs)("div",{className:"flex items-center text-foreground",children:[(0,r.jsx)("div",{className:C("-translate-y-1/2 absolute top-1/2 left-2.5 z-10 flex size-5 items-center justify-center text-foreground"),children:tt.loupe}),a&&(0,r.jsx)(X,{"aria-label":"Clear",className:C("-translate-y-1/2 absolute top-1/2 right-0.5 flex size-8 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-popover-foreground hover:bg-transparent"),onClick:t,size:"icon",title:l.clear,type:"button",variant:"ghost",children:tt.delete})]})}function e4(e){let{emoji:t}=e;return(0,r.jsxs)("div",{className:"flex h-14 max-h-14 min-h-14 items-center border-muted border-t p-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center text-2xl",children:null==t?void 0:t.skins[0].native}),(0,r.jsxs)("div",{className:"overflow-hidden pl-2",children:[(0,r.jsx)("div",{className:"truncate font-semibold text-sm",children:null==t?void 0:t.name}),(0,r.jsx)("div",{className:"truncate text-sm",children:`:${null==t?void 0:t.id}:`})]})]})}function e7(e){let{i18n:t}=e;return(0,r.jsxs)("div",{className:"flex h-14 max-h-14 min-h-14 items-center border-muted border-t p-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center text-2xl",children:"\uD83D\uDE22"}),(0,r.jsxs)("div",{className:"overflow-hidden pl-2",children:[(0,r.jsx)("div",{className:"truncate font-bold text-sm",children:t.searchNoResultsTitle}),(0,r.jsx)("div",{className:"truncate text-sm",children:t.searchNoResultsSubtitle})]})]})}function e8(e){let{i18n:t}=e;return(0,r.jsxs)("div",{className:"flex h-14 max-h-14 min-h-14 items-center border-muted border-t p-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center text-2xl",children:"☝️"}),(0,r.jsx)("div",{className:"overflow-hidden pl-2",children:(0,r.jsx)("div",{className:"truncate font-semibold text-sm",children:t.pick})})]})}function e6(e){let{emoji:t,hasFound:l=!0,i18n:a,isSearching:s=!1,...n}=e,o=!t&&(!s||l),i=s&&!l,d=t&&!i&&!i;return(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)(e4,{emoji:t,...n}),o&&(0,r.jsx)(e8,{i18n:a,...n}),i&&(0,r.jsx)(e7,{i18n:a,...n})]})}function e9(e){let{emojiLibrary:t,focusedCategory:l,i18n:a,icons:s,onClick:n}=e;return(0,r.jsx)(eT,{delayDuration:500,children:(0,r.jsx)("nav",{className:"mb-2.5 border-0 border-b border-b-border border-solid p-1.5",id:"emoji-nav",children:(0,r.jsx)("div",{className:"relative flex items-center justify-evenly",children:t.getGrid().sections().map(e=>{let{id:t}=e;return(0,r.jsxs)(eI,{children:[(0,r.jsx)(eF,{asChild:!0,children:(0,r.jsx)(X,{"aria-label":a.categories[t],className:C("h-fit rounded-full fill-current p-1.5 text-muted-foreground hover:bg-muted hover:text-muted-foreground",t===l&&"pointer-events-none bg-accent fill-current text-accent-foreground"),onClick:()=>{n(t)},size:"sm",type:"button",variant:"ghost",children:(0,r.jsx)("span",{className:"inline-flex size-5 items-center justify-center",children:s.categories[t].outline})})}),(0,r.jsx)(eL,{side:"bottom",children:a.categories[t]})]},t)})})})})}let te={activity:{outline:(0,r.jsxs)("svg",{className:"size-full",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("path",{d:"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1"}),(0,r.jsx)("path",{d:"m5 4.9 14 14.2"}),(0,r.jsx)("path",{d:"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3"})]}),solid:(0,r.jsxs)("svg",{className:"size-full",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("path",{d:"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1"}),(0,r.jsx)("path",{d:"m5 4.9 14 14.2"}),(0,r.jsx)("path",{d:"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3"})]})},custom:{outline:(0,r.jsx)(ea.A,{className:"size-full"}),solid:(0,r.jsx)(ea.A,{className:"size-full"})},flags:{outline:(0,r.jsx)(er.A,{className:"size-full"}),solid:(0,r.jsx)(er.A,{className:"size-full"})},foods:{outline:(0,r.jsx)(es.A,{className:"size-full"}),solid:(0,r.jsx)(es.A,{className:"size-full"})},frequent:{outline:(0,r.jsx)(en.A,{className:"size-full"}),solid:(0,r.jsx)(en.A,{className:"size-full"})},nature:{outline:(0,r.jsx)(eo.A,{className:"size-full"}),solid:(0,r.jsx)(eo.A,{className:"size-full"})},objects:{outline:(0,r.jsx)(ei.A,{className:"size-full"}),solid:(0,r.jsx)(ei.A,{className:"size-full"})},people:{outline:(0,r.jsx)(el.A,{className:"size-full"}),solid:(0,r.jsx)(el.A,{className:"size-full"})},places:{outline:(0,r.jsx)(ed.A,{className:"size-full"}),solid:(0,r.jsx)(ed.A,{className:"size-full"})},symbols:{outline:(0,r.jsx)(ec.A,{className:"size-full"}),solid:(0,r.jsx)(ec.A,{className:"size-full"})}},tt={delete:(0,r.jsx)(eu.A,{className:"size-4 text-current"}),loupe:(0,r.jsx)(ex.A,{className:"size-4 text-current"})},tl=[K.Y.withComponent(function(e){let{attributes:t,children:l,className:a,...n}=e,{emojiPickerState:o,isOpen:i,setIsOpen:d}=(0,Z.d8)({closeOnSelect:!0}),{emojiToolbarDropdownProps:c,props:u}=(0,K.y)({isOpen:i,setIsOpen:d});return(0,r.jsx)(s.tc,{attributes:{...t,"data-plate-open-context-menu":!0},className:C("my-1 flex rounded-sm bg-muted p-4 pl-3",a),style:{backgroundColor:n.element.backgroundColor},...n,children:(0,r.jsxs)("div",{className:"flex w-full gap-2 rounded-md",children:[(0,r.jsx)(eJ,{...c,control:(0,r.jsx)(X,{className:"size-6 select-none p-1 text-[18px] hover:bg-muted-foreground/15",contentEditable:!1,style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols'},variant:"ghost",children:n.element.icon||"\uD83D\uDCA1"}),children:(0,r.jsx)(eX,{...o,...u})}),(0,r.jsx)("div",{className:"w-full",children:l})]})})})];var ta=l(38262),tr=l(89568),ts=l(46100),tn=l(14021),to=l(35404),ti=l(2258),td=l(34881),tc=l(10830);function tu(e){let{...t}=e;return(0,r.jsx)(tc.bL,{"data-slot":"dialog",...t})}function tx(e){let{...t}=e;return(0,r.jsx)(tc.l9,{"data-slot":"dialog-trigger",...t})}function tm(e){let{...t}=e;return(0,r.jsx)(tc.ZL,{"data-slot":"dialog-portal",...t})}function th(e){let{className:t,...l}=e;return(0,r.jsx)(tc.hJ,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"dialog-overlay",...l})}function tp(e){let{className:t,children:l,showCloseButton:a=!0,...s}=e;return(0,r.jsxs)(tm,{"data-slot":"dialog-portal",children:[(0,r.jsx)(th,{}),(0,r.jsxs)(tc.UC,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg",t),"data-slot":"dialog-content",...s,children:[l,a&&(0,r.jsxs)(tc.bm,{className:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","data-slot":"dialog-close",children:[(0,r.jsx)(eu.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function tg(e){let{className:t,...l}=e;return(0,r.jsx)("div",{className:C("flex flex-col gap-2 text-center sm:text-left",t),"data-slot":"dialog-header",...l})}function tf(e){let{className:t,...l}=e;return(0,r.jsx)(tc.hE,{className:C("font-semibold text-lg leading-none",t),"data-slot":"dialog-title",...l})}function tb(e){let{className:t,...l}=e;return(0,r.jsx)(tc.VY,{className:C("text-muted-foreground text-sm",t),"data-slot":"dialog-description",...l})}function tv(e){let{className:t,...l}=e;return(0,r.jsx)(td.uB,{className:C("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),"data-slot":"command",...l})}function tj(e){let{className:t,...l}=e;return(0,r.jsxs)("div",{className:"flex h-9 items-center gap-2 border-b px-3","data-slot":"command-input-wrapper",children:[(0,r.jsx)(ex.A,{className:"size-4 shrink-0 opacity-50"}),(0,r.jsx)(td.uB.Input,{className:C("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),"data-slot":"command-input",...l})]})}function ty(e){let{className:t,...l}=e;return(0,r.jsx)(td.uB.List,{className:C("max-h-[300px] scroll-py-1 overflow-y-auto overflow-x-hidden",t),"data-slot":"command-list",...l})}function tw(e){let{...t}=e;return(0,r.jsx)(td.uB.Empty,{className:"py-6 text-center text-sm","data-slot":"command-empty",...t})}function tk(e){let{className:t,...l}=e;return(0,r.jsx)(td.uB.Group,{className:C("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:text-xs",t),"data-slot":"command-group",...l})}function tC(e){let{className:t,...l}=e;return(0,r.jsx)(td.uB.Item,{className:C("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),"data-slot":"command-item",...l})}function tN(e){let{...t}=e;return(0,r.jsx)(et.bL,{"data-slot":"popover",...t})}function tA(e){let{...t}=e;return(0,r.jsx)(et.l9,{"data-slot":"popover-trigger",...t})}function t_(e){let{className:t,align:l="center",sideOffset:a=4,...s}=e;return(0,r.jsx)(et.ZL,{children:(0,r.jsx)(et.UC,{align:l,className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"popover-content",sideOffset:a,...s})})}function tS(e){let{...t}=e;return(0,r.jsx)(et.Mz,{"data-slot":"popover-anchor",...t})}function tz(){var e;let[t,l]=z.useState(!1),a=(0,y.cQ)(),n=(0,s.Q_)(),o=(0,s.iQ)(),i=o.lang||"plaintext",[d,c]=z.useState(""),u=z.useMemo(()=>tE.filter(e=>!d||e.label.toLowerCase().includes(d.toLowerCase())),[d]);return a?null:(0,r.jsxs)(tN,{onOpenChange:l,open:t,children:[(0,r.jsx)(tA,{asChild:!0,children:(0,r.jsx)(X,{"aria-expanded":t,className:"h-6 select-none justify-between gap-1 px-2 text-muted-foreground text-xs",role:"combobox",size:"sm",variant:"ghost",children:(null==(e=tE.find(e=>e.value===i))?void 0:e.label)??"Plain Text"})}),(0,r.jsx)(t_,{className:"w-[200px] p-0",onCloseAutoFocus:()=>c(""),children:(0,r.jsxs)(tv,{shouldFilter:!1,children:[(0,r.jsx)(tj,{className:"h-9",onValueChange:e=>c(e),placeholder:"Search language...",value:d}),(0,r.jsx)(tw,{children:"No language found."}),(0,r.jsx)(ty,{className:"h-[344px] overflow-y-auto",children:(0,r.jsx)(tk,{children:u.map(e=>(0,r.jsxs)(tC,{className:"cursor-pointer",onSelect:e=>{n.tf.setNodes({lang:e},{at:o}),c(e),l(!1)},value:e.value,children:[(0,r.jsx)(ef.A,{className:C(i===e.value?"opacity-100":"opacity-0")}),e.label]},e.label))})})]})})]})}function tB(e){let{value:t,...l}=e,[a,s]=z.useState(!1);return z.useEffect(()=>{setTimeout(()=>{s(!1)},2e3)},[a]),(0,r.jsxs)(X,{onClick:()=>{navigator.clipboard.writeText("function"==typeof t?t():t),s(!0)},...l,children:[(0,r.jsx)("span",{className:"sr-only",children:"Copy"}),a?(0,r.jsx)(ef.A,{className:"!size-3"}):(0,r.jsx)(to.A,{className:"!size-3"})]})}let tE=[{label:"Auto",value:"auto"},{label:"Plain Text",value:"plaintext"},{label:"ABAP",value:"abap"},{label:"Agda",value:"agda"},{label:"Arduino",value:"arduino"},{label:"ASCII Art",value:"ascii"},{label:"Assembly",value:"x86asm"},{label:"Bash",value:"bash"},{label:"BASIC",value:"basic"},{label:"BNF",value:"bnf"},{label:"C",value:"c"},{label:"C#",value:"csharp"},{label:"C++",value:"cpp"},{label:"Clojure",value:"clojure"},{label:"CoffeeScript",value:"coffeescript"},{label:"Coq",value:"coq"},{label:"CSS",value:"css"},{label:"Dart",value:"dart"},{label:"Dhall",value:"dhall"},{label:"Diff",value:"diff"},{label:"Docker",value:"dockerfile"},{label:"EBNF",value:"ebnf"},{label:"Elixir",value:"elixir"},{label:"Elm",value:"elm"},{label:"Erlang",value:"erlang"},{label:"F#",value:"fsharp"},{label:"Flow",value:"flow"},{label:"Fortran",value:"fortran"},{label:"Gherkin",value:"gherkin"},{label:"GLSL",value:"glsl"},{label:"Go",value:"go"},{label:"GraphQL",value:"graphql"},{label:"Groovy",value:"groovy"},{label:"Haskell",value:"haskell"},{label:"HCL",value:"hcl"},{label:"HTML",value:"html"},{label:"Idris",value:"idris"},{label:"Java",value:"java"},{label:"JavaScript",value:"javascript"},{label:"JSON",value:"json"},{label:"Julia",value:"julia"},{label:"Kotlin",value:"kotlin"},{label:"LaTeX",value:"latex"},{label:"Less",value:"less"},{label:"Lisp",value:"lisp"},{label:"LiveScript",value:"livescript"},{label:"LLVM IR",value:"llvm"},{label:"Lua",value:"lua"},{label:"Makefile",value:"makefile"},{label:"Markdown",value:"markdown"},{label:"Markup",value:"markup"},{label:"MATLAB",value:"matlab"},{label:"Mathematica",value:"mathematica"},{label:"Mermaid",value:"mermaid"},{label:"Nix",value:"nix"},{label:"Notion Formula",value:"notion"},{label:"Objective-C",value:"objectivec"},{label:"OCaml",value:"ocaml"},{label:"Pascal",value:"pascal"},{label:"Perl",value:"perl"},{label:"PHP",value:"php"},{label:"PowerShell",value:"powershell"},{label:"Prolog",value:"prolog"},{label:"Protocol Buffers",value:"protobuf"},{label:"PureScript",value:"purescript"},{label:"Python",value:"python"},{label:"R",value:"r"},{label:"Racket",value:"racket"},{label:"Reason",value:"reasonml"},{label:"Ruby",value:"ruby"},{label:"Rust",value:"rust"},{label:"Sass",value:"scss"},{label:"Scala",value:"scala"},{label:"Scheme",value:"scheme"},{label:"SCSS",value:"scss"},{label:"Shell",value:"shell"},{label:"Smalltalk",value:"smalltalk"},{label:"Solidity",value:"solidity"},{label:"SQL",value:"sql"},{label:"Swift",value:"swift"},{label:"TOML",value:"toml"},{label:"TypeScript",value:"typescript"},{label:"VB.Net",value:"vbnet"},{label:"Verilog",value:"verilog"},{label:"VHDL",value:"vhdl"},{label:"Visual Basic",value:"vbnet"},{label:"WebAssembly",value:"wasm"},{label:"XML",value:"xml"},{label:"YAML",value:"yaml"}],tD=(0,tr.$)(ts.l),tO=[ta.cM.configure({node:{component:function(e){let{editor:t,element:l}=e;return(0,r.jsx)(s.tc,{className:"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] dark:**:[.hljs-addition]:bg-[#3c5743] dark:**:[.hljs-addition]:text-[#ceead5] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] dark:**:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#6596cf] **:[.hljs-built\\\\\\\\_in,.hljs-symbol]:text-[#e36209] dark:**:[.hljs-built\\\\\\\\_in,.hljs-symbol]:text-[#c3854e] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] dark:**:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] dark:**:[.hljs-deletion]:bg-[#473235] dark:**:[.hljs-deletion]:text-[#e7c7cb] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language\\\\\\\\_]:text-[#d73a49] dark:**:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language\\\\\\\\_]:text-[#ee6960] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] dark:**:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#36a84f] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] dark:**:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#3593ff] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] dark:**:[.hljs-section]:text-[#61a5f2] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class\\\\\\\\_,.hljs-title.class\\\\\\\\_.inherited\\\\\\\\_\\\\\\\\_,.hljs-title.function\\\\\\\\_]:text-[#6f42c1] dark:**:[.hljs-title,.hljs-title.class\\\\\\\\_,.hljs-title.class\\\\\\\\_.inherited\\\\\\\\_\\\\\\\\_,.hljs-title.function\\\\\\\\_]:text-[#a77bfa]",...e,children:(0,r.jsxs)("div",{className:"relative rounded-md bg-muted/50",children:[(0,r.jsx)("pre",{className:"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid",children:(0,r.jsx)("code",{children:e.children})}),(0,r.jsxs)("div",{className:"absolute top-1 right-1 z-10 flex select-none gap-0.5",contentEditable:!1,children:[(0,u.N_)(l.lang)&&(0,r.jsx)(X,{className:"size-6 text-xs",onClick:()=>(0,u.mU)(t,{element:l}),size:"icon",title:"Format code",variant:"ghost",children:(0,r.jsx)(tn.A,{className:"!size-3.5 text-muted-foreground"})}),(0,r.jsx)(tz,{}),(0,r.jsx)(tB,{className:"size-6 gap-1 text-muted-foreground text-xs",size:"icon",value:()=>ti.lZ.string(l),variant:"ghost"})]})]})})}},options:{lowlight:tD},shortcuts:{toggle:{keys:"mod+alt+8"}}}),ta.po.withComponent(function(e){return(0,r.jsx)(s.tc,{...e})}),ta.E9.withComponent(function(e){let t=e.leaf.className;return(0,r.jsx)(s.nK,{className:t,...e})})];var tM=l(90843),tT=l(66723),tI=l(93026),tF=l(48118),tL=l(39630),tR=l(32708);let tP=(0,s.Xf)(tI.vu,function(e){let{width:t}=e.element,l=(0,y.cQ)(),a=(0,s.gO)(_.vO,"isSelectionAreaVisible"),{isDragging:n,previewRef:o,handleRef:i}=(0,V.PM)({element:e.element,orientation:"horizontal",type:"column",canDropNode:e=>{let{dragEntry:t,dropEntry:l}=e;return ti.s2.equals(ti.s2.parent(t[1]),ti.s2.parent(l[1]))}});return(0,r.jsxs)("div",{className:"group/column relative",style:{width:t??"100%"},children:[!l&&!a&&(0,r.jsx)("div",{className:C("-translate-x-1/2 -translate-y-1/2 absolute top-2 left-1/2 z-50","pointer-events-auto flex items-center","opacity-0 transition-opacity group-hover/column:opacity-100"),ref:i,children:(0,r.jsx)(tH,{})}),(0,r.jsx)(s.tc,{...e,className:"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0",ref:(0,tF.rF)(e.ref,o),children:(0,r.jsxs)("div",{className:C("relative h-full border border-transparent p-1.5",!l&&"rounded-lg border-border border-dashed",n&&"opacity-50"),children:[e.children,!l&&!a&&(0,r.jsx)(tq,{})]})})]})}),tH=z.memo(function(){return(0,r.jsx)(eT,{children:(0,r.jsxs)(eI,{children:[(0,r.jsx)(eF,{asChild:!0,children:(0,r.jsx)(X,{className:"!px-1 h-5",variant:"ghost",children:(0,r.jsx)(tL.A,{className:"text-muted-foreground",onClick:e=>{e.stopPropagation(),e.preventDefault()}})})}),(0,r.jsx)(eL,{children:"Drag to move column"})]})})});function tq(){let{dropLine:e}=(0,V.P8)({orientation:"horizontal"});return e?(0,r.jsx)("div",{className:C("slate-dropLine","absolute bg-brand/50","left"===e&&"group-first/column:-left-1 inset-y-0 left-[-10.5px] w-1","right"===e&&"group-last/column:-right-1 inset-y-0 right-[-11px] w-1")}):null}function tV(e){let{children:t}=e,l=(0,s.Q_)(),a=(0,y.cQ)(),n=(0,s.iQ)(),{props:o}=(0,$.W6)({element:n}),i=(0,y.f7)(),d=(0,s.QR)(e=>e.api.isCollapsed(),[]),c=(0,s.hc)(),u=e=>{(0,tT.m1)(l,{at:n,widths:e})};return(0,r.jsxs)(tN,{modal:!1,open:c&&!a&&i&&d,children:[(0,r.jsx)(tS,{children:t}),(0,r.jsx)(t_,{align:"center",className:"w-auto p-1",onOpenAutoFocus:e=>e.preventDefault(),side:"top",sideOffset:10,children:(0,r.jsxs)("div",{className:"box-content flex h-8 items-center",children:[(0,r.jsx)(X,{className:"size-8",onClick:()=>u(["50%","50%"]),variant:"ghost",children:(0,r.jsx)(tQ,{})}),(0,r.jsx)(X,{className:"size-8",onClick:()=>u(["33%","33%","33%"]),variant:"ghost",children:(0,r.jsx)(tU,{})}),(0,r.jsx)(X,{className:"size-8",onClick:()=>u(["70%","30%"]),variant:"ghost",children:(0,r.jsx)(tW,{})}),(0,r.jsx)(X,{className:"size-8",onClick:()=>u(["30%","70%"]),variant:"ghost",children:(0,r.jsx)(t$,{})}),(0,r.jsx)(X,{className:"size-8",onClick:()=>u(["25%","50%","25%"]),variant:"ghost",children:(0,r.jsx)(tG,{})}),(0,r.jsx)(eM,{className:"mx-1 h-6",orientation:"vertical"}),(0,r.jsx)(X,{className:"size-8",variant:"ghost",...o,children:(0,r.jsx)(tR.A,{})})]})})]})}let tQ=e=>(0,r.jsx)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M8.5 3H13V13H8.5V3ZM7.5 2H8.5H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H8.5H7.5H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H7.5ZM7.5 13H3L3 3H7.5V13Z",fill:"currentColor",fillRule:"evenodd"})}),tU=e=>(0,r.jsx)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M9.25 3H6.75V13H9.25V3ZM9.25 2H6.75H5.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H5.75H6.75H9.25H10.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H10.25H9.25ZM10.25 3V13H13V3H10.25ZM3 13H5.75V3H3L3 13Z",fill:"currentColor",fillRule:"evenodd"})}),tW=e=>(0,r.jsx)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M11.25 3H13V13H11.25V3ZM10.25 2H11.25H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H11.25H10.25H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H10.25ZM10.25 13H3L3 3H10.25V13Z",fill:"currentColor",fillRule:"evenodd"})}),t$=e=>(0,r.jsx)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M5.75 3H13V13H5.75V3ZM4.75 2H5.75H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H5.75H4.75H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H4.75ZM4.75 13H3L3 3H4.75V13Z",fill:"currentColor",fillRule:"evenodd"})}),tG=e=>(0,r.jsx)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M10.25 3H5.75V13H10.25V3ZM10.25 2H5.75H4.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H4.75H5.75H10.25H11.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H11.25H10.25ZM11.25 3V13H13V3H11.25ZM3 13H4.75V3H3L3 13Z",fill:"currentColor",fillRule:"evenodd"})}),tK=[tM.E5.withComponent(function(e){return(0,r.jsx)(s.tc,{className:"mb-2",...e,children:(0,r.jsx)(tV,{children:(0,r.jsx)("div",{className:"flex size-full rounded",children:e.children})})})}),tM.db.withComponent(tP)];var tZ=l(43404);let tY=(0,s.LS)(tZ.t,{handlers:{onClick:e=>{let{api:t,event:l,setOption:a,type:r}=e,s=l.target,n=!1,o=()=>{a("activeId",null),n=!0};for((0,H.wt)(s)||o();s.parentElement;){if(s.classList.contains(`slate-${r}`)){let e=t.comment.node();if(!e){o();break}a("activeId",t.comment.nodeId(e[0])??null),n=!0;break}s=s.parentElement}n||o()}},options:{activeId:null,commentingBlock:null,hoverId:null,uniquePathMap:new Map}}).extendTransforms(e=>{let{editor:t,setOption:l,tf:{comment:{setDraft:a}}}=e;return{setDraft:()=>{t.api.isCollapsed()&&t.tf.select(t.api.block()[1]),a(),t.tf.collapse(),l("activeId",(0,tZ.u)()),l("commentingBlock",t.selection.focus.path.slice(0,1))}}}).configure({node:{component:function(e){let{children:t,leaf:l}=e,{api:a,setOption:n}=(0,s.CF)(tY),o=(0,s.gO)(tY,"hoverId"),i=(0,s.gO)(tY,"activeId"),d=(0,tZ.c)(l)>1,c=a.comment.nodeId(l),u=i===c,x=o===c;return(0,r.jsx)(s.nK,{...e,attributes:{...e.attributes,onClick:()=>n("activeId",c??null),onMouseEnter:()=>n("hoverId",c??null),onMouseLeave:()=>n("hoverId",null)},className:C("border-b-2 border-b-highlight/[.36] bg-highlight/[.13] transition-colors duration-200",(x||u)&&"border-b-highlight bg-highlight/25",d&&"border-b-2 border-b-highlight/[.7] bg-highlight/25",(x||u)&&d&&"border-b-highlight bg-highlight/45"),children:t})}},shortcuts:{setDraft:{keys:"mod+shift+m"}}}),tJ=[tY];var tX=l(51957),t0=l(51605);function t1(){let e=(0,s.iQ)();return(0,s.gO)(S.EF,"isSuggested",e.id)?(0,r.jsx)(t2,{}):null}function t2(){let e=(0,s.gO)(S.EF,"suggestionText");return(0,r.jsx)("span",{className:"pointer-events-none text-muted-foreground/70 max-sm:hidden",contentEditable:!1,children:e&&e})}var t5=l(47715),t3=l(7071);let t4=[t0.LK.configure({options:{plainMarks:[i.t.suggestion,i.t.comment],remarkPlugins:[t3.A,t5.A,t0.Ko,t0.nn]}})],t7=[...t4,S.EF.configure(e=>{let{api:t}=e;return{options:{completeOptions:{api:"/api/ai/copilot",body:{system:`You are an advanced AI writing assistant, similar to VSCode Copilot but for general text. Your task is to predict and generate the next part of the text based on the given context.
  
  Rules:
  - Continue the text naturally up to the next punctuation mark (., ,, ;, :, ?, or !).
  - Maintain style and tone. Don't repeat given text.
  - For unclear context, provide the most likely continuation.
  - Handle code snippets, lists, or structured text if needed.
  - Don't include """ in your response.
  - CRITICAL: Always end with a punctuation mark.
  - CRITICAL: Avoid starting a new block. Do not use block formatting like >, #, 1., 2., -, etc. The suggestion should continue in the same block as the context.
  - If no context is provided or you can't generate a continuation, return "0" without explanation.`},onError:()=>{t.copilot.setBlockSuggestion({text:(0,t0.eA)(tX.a.lorem.sentence())})},onFinish:(e,l)=>{"0"!==l&&t.copilot.setBlockSuggestion({text:(0,t0.eA)(l)})}},debounceDelay:500,renderGhostText:t1,getPrompt:e=>{let{editor:t}=e,l=t.api.block({highest:!0});if(!l)return"";let a=(0,t0.g$)(t,{value:[l[0]]});return`Continue the text up to the next punctuation mark:
  """
  ${a}
  """`}},shortcuts:{accept:{keys:"tab"},acceptNextWord:{keys:"mod+right"},reject:{keys:"escape"},triggerSuggestion:{keys:"ctrl+space"}}}})];function t8(){let{cursors:e}=(0,_.s8)();return(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(t6,{...e},e.id))})}function t6(e){let{id:t,caretPosition:l,data:a,selection:n,selectionRects:o}=e,i=(0,s.gO)(S.WB,"streaming"),{style:d,selectionStyle:c=d}=a??{},u=ti.Cb.isCollapsed(n);return i?null:(0,r.jsxs)(r.Fragment,{children:[o.map((e,l)=>(0,r.jsx)("div",{className:C("pointer-events-none absolute z-10","selection"===t&&"bg-brand/25","selection"===t&&u&&"bg-primary"),style:{...c,...e}},l)),l&&(0,r.jsx)("div",{className:C("pointer-events-none absolute z-10 w-0.5","drag"===t&&"w-px bg-brand"),style:{...l,...d}})]})}let t9=[_.CB.configure({render:{afterEditable:()=>(0,r.jsx)(t8,{})}})];var le=l(41797),lt=l(60250),ll=l(1207),la=l(79767);function lr(e){let{className:t,classNames:l,showOutsideDays:a=!0,captionLayout:s="label",buttonVariant:n="ghost",formatters:o,components:i,...d}=e,c=(0,ll.a)();return(0,r.jsx)(la.h,{captionLayout:s,className:C("group/calendar bg-background p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),classNames:{root:C("w-fit",c.root),months:C("relative flex flex-col gap-4 md:flex-row",c.months),month:C("flex w-full flex-col gap-4",c.month),nav:C("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",c.nav),button_previous:C(J({variant:n}),"size-(--cell-size) select-none p-0 aria-disabled:opacity-50",c.button_previous),button_next:C(J({variant:n}),"size-(--cell-size) select-none p-0 aria-disabled:opacity-50",c.button_next),month_caption:C("flex h-(--cell-size) w-full items-center justify-center px-(--cell-size)",c.month_caption),dropdowns:C("flex h-(--cell-size) w-full items-center justify-center gap-1.5 font-medium text-sm",c.dropdowns),dropdown_root:C("relative rounded-md border border-input shadow-xs has-focus:border-ring has-focus:ring-[3px] has-focus:ring-ring/50",c.dropdown_root),dropdown:C("absolute inset-0 bg-popover opacity-0",c.dropdown),caption_label:C("select-none font-medium","label"===s?"text-sm":"flex h-8 items-center gap-1 rounded-md pr-1 pl-2 text-sm [&>svg]:size-3.5 [&>svg]:text-muted-foreground",c.caption_label),table:"w-full border-collapse",weekdays:C("flex",c.weekdays),weekday:C("flex-1 select-none rounded-md font-normal text-[0.8rem] text-muted-foreground",c.weekday),week:C("mt-2 flex w-full",c.week),week_number_header:C("w-(--cell-size) select-none",c.week_number_header),week_number:C("select-none text-[0.8rem] text-muted-foreground",c.week_number),day:C("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md",d.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",c.day),range_start:C("rounded-l-md bg-accent",c.range_start),range_middle:C("rounded-none",c.range_middle),range_end:C("rounded-r-md bg-accent",c.range_end),today:C("rounded-md bg-accent text-accent-foreground data-[selected=true]:rounded-none",c.today),outside:C("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:C("text-muted-foreground opacity-50",c.disabled),hidden:C("invisible",c.hidden),...l},components:{Root:e=>{let{className:t,rootRef:l,...a}=e;return(0,r.jsx)("div",{className:C(t),"data-slot":"calendar",ref:l,...a})},Chevron:e=>{let{className:t,orientation:l,...a}=e;return"left"===l?(0,r.jsx)(lt.A,{className:C("size-4",t),...a}):"right"===l?(0,r.jsx)(D.A,{className:C("size-4",t),...a}):(0,r.jsx)(ep.A,{className:C("size-4",t),...a})},DayButton:ls,WeekNumber:e=>{let{children:t,...l}=e;return(0,r.jsx)("td",{...l,children:(0,r.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:t})})},...i},formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...o},showOutsideDays:a,...d})}function ls(e){let{className:t,day:l,modifiers:a,...s}=e,n=(0,ll.a)(),o=z.useRef(null);return z.useEffect(()=>{var e;a.focused&&(null==(e=o.current)||e.focus())},[a.focused]),(0,r.jsx)(X,{className:C("flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-start=true]:rounded-l-md data-[range-end=true]:bg-primary data-[range-middle=true]:bg-accent data-[range-start=true]:bg-primary data-[selected-single=true]:bg-primary data-[range-end=true]:text-primary-foreground data-[range-middle=true]:text-accent-foreground data-[range-start=true]:text-primary-foreground data-[selected-single=true]:text-primary-foreground group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-[3px] group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground [&>span]:text-xs [&>span]:opacity-70",n.day,t),"data-day":l.date.toLocaleDateString(),"data-range-end":a.range_end,"data-range-middle":a.range_middle,"data-range-start":a.range_start,"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,ref:o,size:"icon",variant:"ghost",...s})}let ln=[le.w.withComponent(function(e){let t,l,a,n,o,{editor:i,element:d}=e,c=(0,y.cQ)(),u=(0,r.jsx)("span",{className:C("w-fit cursor-pointer rounded-sm bg-muted px-1 text-muted-foreground"),contentEditable:!1,draggable:!0,children:d.date?(t=new Date,a=(l=new Date(d.date)).getDate()===t.getDate()&&l.getMonth()===t.getMonth()&&l.getFullYear()===t.getFullYear(),n=new Date(t.setDate(t.getDate()-1)).toDateString()===l.toDateString(),o=new Date(t.setDate(t.getDate()+2)).toDateString()===l.toDateString(),a?"Today":n?"Yesterday":o?"Tomorrow":l.toLocaleDateString(void 0,{day:"numeric",month:"long",year:"numeric"})):(0,r.jsx)("span",{children:"Pick a date"})});return c?u:(0,r.jsxs)(s.tc,{...e,attributes:{...e.attributes,contentEditable:!1},className:"inline-block",children:[(0,r.jsxs)(tN,{children:[(0,r.jsx)(tA,{asChild:!0,children:u}),(0,r.jsx)(t_,{className:"w-auto p-0",children:(0,r.jsx)(lr,{initialFocus:!0,mode:"single",onSelect:e=>{e&&i.tf.setNodes({date:e.toDateString()},{at:d})},selected:new Date(d.date)})})]}),e.children]})})];var lo=l(53682),li=l(57343),ld=l(96005),lc=l(98979),lu=l(3946),lx=l(5061),lm=l(87799);let lh=(0,b.F)(C("bg-emerald-100 text-emerald-700 no-underline transition-colors duration-200"),{defaultVariants:{insertActive:!1,remove:!1,removeActive:!1},variants:{insertActive:{false:"",true:"bg-emerald-200/80"},remove:{false:"",true:"bg-red-100 text-red-700"},removeActive:{false:"",true:"bg-red-200/80 no-underline"}}});function lp(e){let{children:t,suggestionData:l}=e,{isLineBreak:a,type:n}=l,o="remove"===n,i="insert"===n,d=(0,s.gO)(lg,"activeId"),c=(0,s.gO)(lg,"hoverId"),u=d===l.id,x=c===l.id,m=z.useRef(null),{setOption:h}=(0,s.CF)(lg);return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)("span",{className:C("absolute text-justify",lh({insertActive:i&&(u||x),remove:o,removeActive:(u||x)&&o})),contentEditable:!1,ref:m,style:{bottom:3.5,height:21},children:(0,r.jsx)(lm.A,{className:"mt-0.5 size-4"})})]}):(0,r.jsx)("div",{className:C(lh({insertActive:i&&(u||x),remove:o,removeActive:(u||x)&&o})),"data-block-suggestion":"true",onMouseEnter:()=>h("hoverId",l.id),onMouseLeave:()=>h("hoverId",null),children:t})})}let lg=(0,s.LS)(li.a,e=>{let{editor:t}=e;return{options:{activeId:null,currentUserId:t.getOption(lK,"currentUserId"),hoverId:null,uniquePathMap:new Map}}}).configure({handlers:{onClick:e=>{let{api:t,event:l,setOption:a,type:r}=e,s=l.target,n=!1,o="true"===s.dataset.blockSuggestion,i=()=>{a("activeId",null),n=!0};for((0,H.wt)(s)||o||i();s.parentElement&&!(0,H.vt)(s.parentElement);){let e="true"===s.dataset.blockSuggestion;if(s.classList.contains(`slate-${r}`)||e){let l=t.suggestion.node({isText:!e});if(!l){i();break}a("activeId",t.suggestion.nodeId(l[0])??null),n=!0;break}s=s.parentElement}n||i()}},render:{belowNodes:e=>{let{api:t,element:l}=e;if(!t.suggestion.isBlockSuggestion(l))return;let a=l.suggestion;return function(e){let{children:t}=e;return(0,r.jsx)(lp,{suggestionData:a,children:t})}},node:function(e){let{api:t,setOption:l}=(0,s.CF)(lg),a=e.leaf,n=t.suggestion.nodeId(a)??"",o=(0,s.gO)(lg,"activeId"),i=(0,s.gO)(lg,"hoverId"),d=t.suggestion.dataList(a),c=d.some(e=>"remove"===e.type),u=d.some(e=>e.id===o),x=d.some(e=>e.id===i),m={delete:"del",insert:"ins",update:"span"}[c?"delete":"insert"];return(0,r.jsx)(s.nK,{...e,as:m,attributes:{...e.attributes,onMouseEnter:()=>l("hoverId",n),onMouseLeave:()=>l("hoverId",null)},className:C(lh({insertActive:u||x,remove:c,removeActive:(u||x)&&c})),children:e.children})}}}),lf=[lg];var lb=l(34303);function lv(e){let{className:t,...l}=e;return(0,r.jsx)(lb.bL,{className:C("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),"data-slot":"avatar",...l})}function lj(e){let{className:t,...l}=e;return(0,r.jsx)(lb._V,{className:C("aspect-square size-full",t),"data-slot":"avatar-image",...l})}function ly(e){let{className:t,...l}=e;return(0,r.jsx)(lb.H4,{className:C("flex size-full items-center justify-center rounded-full bg-muted",t),"data-slot":"avatar-fallback",...l})}var lw=l(46846),lk=l(98163),lC=l(18373),lN=l(19368),lA=l(54718),l_=l(65892),lS=l(1839),lz=l(6632),lB=l(69796);let lE=(0,b.F)("relative w-full cursor-text select-text overflow-y-auto caret-primary selection:bg-brand/25 focus-visible:outline-none [&_.slate-selection-area]:z-50 [&_.slate-selection-area]:border [&_.slate-selection-area]:border-brand/25 [&_.slate-selection-area]:bg-brand/15",{defaultVariants:{variant:"default"},variants:{variant:{comment:C("flex flex-wrap justify-between gap-1 px-1 py-0.5 text-sm","rounded-md border-[1.5px] border-transparent bg-transparent","has-[[data-slate-editor]:focus]:border-brand/50 has-[[data-slate-editor]:focus]:ring-2 has-[[data-slate-editor]:focus]:ring-brand/30","has-aria-disabled:border-input has-aria-disabled:bg-muted"),default:"h-full",demo:"h-[650px]",select:C("group rounded-md border border-input ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2","has-data-readonly:w-fit has-data-readonly:cursor-default has-data-readonly:border-transparent has-data-readonly:focus-within:[box-shadow:none]")}}});function lD(e){let{className:t,variant:l,...a}=e;return(0,r.jsx)(s.ww,{className:C("ignore-click-outside/toolbar",lE({variant:l}),t),...a})}let lO=(0,b.F)(C("group/editor","relative w-full cursor-text select-text overflow-x-hidden whitespace-pre-wrap break-words","rounded-md ring-offset-background focus-visible:outline-none","**:data-slate-placeholder:!top-1/2 **:data-slate-placeholder:-translate-y-1/2 placeholder:text-muted-foreground/80 **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!","[&_strong]:font-bold"),{defaultVariants:{variant:"default"},variants:{disabled:{true:"cursor-not-allowed opacity-50"},focused:{true:"ring-2 ring-ring ring-offset-2"},variant:{ai:"w-full px-0 text-base md:text-sm",aiChat:"max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-3 py-2 text-base md:text-sm",comment:C("rounded-none border-none bg-transparent text-sm"),default:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",demo:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",fullWidth:"size-full px-16 pt-4 pb-72 text-base sm:px-24",none:"",select:"px-3 py-2 text-base data-readonly:w-fit"}}}),lM=e=>{let{className:t,disabled:l,focused:a,variant:n,ref:o,...i}=e;return(0,r.jsx)(s.wP,{className:C(lO({disabled:l,focused:a,variant:n}),t),disableDefaultStyles:!0,disabled:l,ref:o,...i})};function lT(e){var t;let{comment:l,discussionLength:a,documentContent:n,editingId:o,index:i,setEditingId:d,showDocumentContent:c=!1,onEditorClick:u}=e,x=(0,s.Q_)(),m=(0,s.gO)(lK,"user",l.userId),h=(0,s.gO)(lK,"currentUserId"),p=async e=>{let t=x.getOption(lK,"discussions").map(t=>t.id===e?{...t,isResolved:!0}:t);x.setOption(lK,"discussions",t)},g=async e=>{let t=x.getOption(lK,"discussions").filter(t=>t.id!==e);x.setOption(lK,"discussions",t)},f=async e=>{let t=x.getOption(lK,"discussions").map(t=>{if(t.id===e.discussionId){let l=t.comments.map(t=>t.id===e.id?{...t,contentRich:e.contentRich,isEdited:!0,updatedAt:new Date}:t);return{...t,comments:l}}return t});x.setOption(lK,"discussions",t)},{tf:b}=(0,s.CF)(lo.j),v=h===l.userId,j=l.contentRich,y=lF({id:l.id,value:j},[j]),w=o&&o===l.id,[k,C]=z.useState(!1),[N,A]=z.useState(!1);return(0,r.jsxs)("div",{onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsxs)(lv,{className:"size-5",children:[(0,r.jsx)(lj,{alt:null==m?void 0:m.name,src:null==m?void 0:m.avatarUrl}),(0,r.jsx)(ly,{children:null==m||null==(t=m.name)?void 0:t[0]})]}),(0,r.jsx)("h4",{className:"mx-2 font-semibold text-sm leading-none",children:null==m?void 0:m.name}),(0,r.jsxs)("div",{className:"text-muted-foreground/80 text-xs leading-none",children:[(0,r.jsx)("span",{className:"mr-1",children:lR(new Date(l.createdAt))}),l.isEdited&&(0,r.jsx)("span",{children:"(edited)"})]}),v&&(k||N)&&(0,r.jsxs)("div",{className:"absolute top-0 right-0 flex space-x-1",children:[0===i&&(0,r.jsx)(X,{className:"h-6 p-1 text-muted-foreground",onClick:()=>{p(l.discussionId),b.comment.unsetMark({id:l.discussionId})},type:"button",variant:"ghost",children:(0,r.jsx)(ef.A,{className:"size-4"})}),(0,r.jsx)(lI,{comment:l,dropdownOpen:N,onCloseAutoFocus:()=>{setTimeout(()=>{y.tf.focus({edge:"endEditor"})},0)},onRemoveComment:()=>{1===a&&(b.comment.unsetMark({id:l.discussionId}),g(l.discussionId))},setDropdownOpen:A,setEditingId:d})]})]}),0===i&&c&&(0,r.jsxs)("div",{className:"relative mt-1 flex pl-[32px] text-sm text-subtle-foreground",children:[a>1&&(0,r.jsx)("div",{className:"absolute top-[5px] left-3 h-full w-0.5 shrink-0 bg-muted"}),(0,r.jsx)("div",{className:"my-px w-0.5 shrink-0 bg-highlight"}),n&&(0,r.jsx)("div",{className:"ml-2",children:n})]}),(0,r.jsxs)("div",{className:"relative my-1 pl-[26px]",children:[i!==a-1&&(0,r.jsx)("div",{className:"absolute top-0 left-3 h-full w-0.5 shrink-0 bg-muted"}),(0,r.jsx)(s.T6,{editor:y,readOnly:!w,children:(0,r.jsxs)(lD,{variant:"comment",children:[(0,r.jsx)(lM,{className:"w-auto grow",onClick:()=>null==u?void 0:u(),variant:"comment"}),w&&(0,r.jsxs)("div",{className:"ml-auto flex shrink-0 gap-1",children:[(0,r.jsx)(X,{className:"size-[28px]",onClick:e=>{e.stopPropagation(),d(null),y.tf.replaceNodes(j,{at:[],children:!0})},size:"icon",variant:"ghost",children:(0,r.jsx)("div",{className:"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-primary/40",children:(0,r.jsx)(eu.A,{className:"size-3 stroke-[3px] text-background"})})}),(0,r.jsx)(X,{onClick:e=>{e.stopPropagation(),f({id:l.id,contentRich:y.children,discussionId:l.discussionId,isEdited:!0}),d(null)},size:"icon",variant:"ghost",children:(0,r.jsx)("div",{className:"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-brand",children:(0,r.jsx)(ef.A,{className:"size-3 stroke-[3px] text-background"})})})]})]})})]})]})}function lI(e){let{comment:t,dropdownOpen:l,setDropdownOpen:a,setEditingId:n,onCloseAutoFocus:o,onRemoveComment:i}=e,d=(0,s.Q_)(),c=z.useRef(!1),u=z.useCallback(()=>{if(!t.id)return alert("You are operating too quickly, please try again later.");let e=d.getOption(lK,"discussions").map(e=>{if(e.id!==t.discussionId)return e;let l=e.comments.findIndex(e=>e.id===t.id);return -1===l?e:{...e,comments:[...e.comments.slice(0,l),...e.comments.slice(l+1)]}});d.setOption(lK,"discussions",e),null==i||i()},[t.discussionId,t.id,d,i]),x=z.useCallback(()=>{if(c.current=!0,!t.id)return alert("You are operating too quickly, please try again later.");n(t.id)},[t.id,n]);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:a,open:l,children:[(0,r.jsx)(ey,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(X,{className:C("h-6 p-1 text-muted-foreground"),variant:"ghost",children:(0,r.jsx)(lA.A,{className:"size-4"})})}),(0,r.jsx)(ew,{className:"w-48",onCloseAutoFocus:e=>(c.current&&(null==o||o(),c.current=!1),e.preventDefault()),children:(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eC,{onClick:x,children:[(0,r.jsx)(l_.A,{className:"size-4"}),"Edit comment"]}),(0,r.jsxs)(eC,{onClick:u,children:[(0,r.jsx)(lS.A,{className:"size-4"}),"Delete comment"]})]})})]})}lM.displayName="Editor";let lF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.FI)({id:"comment",plugins:A,value:[],...e},t)};function lL(e){var t;let{autoFocus:l=!1,className:a,discussionId:n,focusOnMount:o=!1}=e,d=(0,s.gO)(lK,"discussions"),c=(0,s.Q_)(),u=(0,lo.Y)(),x=n??u,m=(0,s.gO)(lK,"currentUser"),[h,p]=z.useState(),g=z.useMemo(()=>h?ti.lZ.string({children:h,type:i.t.p}):"",[h]),f=lF();z.useEffect(()=>{f&&o&&f.tf.focus()},[f,o]);let b=z.useCallback(async()=>{if(!h)return;if(f.tf.reset(),x){let e=d.find(e=>e.id===x);if(!e){let e={id:x,comments:[{id:(0,lB.Ak)(),contentRich:h,createdAt:new Date,discussionId:x,isEdited:!1,userId:c.getOption(lK,"currentUserId")}],createdAt:new Date,isResolved:!1,userId:c.getOption(lK,"currentUserId")};c.setOption(lK,"discussions",[...d,e]);return}let t={id:(0,lB.Ak)(),contentRich:h,createdAt:new Date,discussionId:x,isEdited:!1,userId:c.getOption(lK,"currentUserId")},l={...e,comments:[...e.comments,t]},a=d.filter(e=>e.id!==x).concat(l);c.setOption(lK,"discussions",a);return}let e=c.getApi(lo.j).comment.nodes({at:[],isDraft:!0});if(0===e.length)return;let t=e.map(e=>{let[t]=e;return t.text}).join(""),l=(0,lB.Ak)(),a={id:l,comments:[{id:(0,lB.Ak)(),contentRich:h,createdAt:new Date,discussionId:l,isEdited:!1,userId:c.getOption(lK,"currentUserId")}],createdAt:new Date,documentContent:t,isResolved:!1,userId:c.getOption(lK,"currentUserId")};c.setOption(lK,"discussions",[...d,a]);let r=a.id;e.forEach(e=>{let[,t]=e;c.tf.setNodes({[(0,tZ.s)(r)]:!0},{at:t,split:!0}),c.tf.unsetNodes([(0,tZ.u)()],{at:t})})},[h,f.tf,x,c,d]);return(0,r.jsxs)("div",{className:C("flex w-full",a),children:[(0,r.jsx)("div",{className:"mt-2 mr-1 shrink-0",children:(0,r.jsxs)(lv,{className:"size-5",children:[(0,r.jsx)(lj,{alt:null==m?void 0:m.name,src:null==m?void 0:m.avatarUrl}),(0,r.jsx)(ly,{children:null==m||null==(t=m.name)?void 0:t[0]})]})}),(0,r.jsx)("div",{className:"relative flex grow gap-2",children:(0,r.jsx)(s.T6,{editor:f,onChange:e=>{let{value:t}=e;p(t)},children:(0,r.jsxs)(lD,{variant:"comment",children:[(0,r.jsx)(lM,{autoComplete:"off",autoFocus:l,className:"min-h-[25px] grow pt-0.5 pr-8",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Reply...",variant:"comment"}),(0,r.jsx)(X,{className:"absolute right-0.5 bottom-0.5 ml-auto size-6 shrink-0",disabled:0===g.trim().length,onClick:e=>{e.stopPropagation(),b()},size:"icon",variant:"ghost",children:(0,r.jsx)("div",{className:"flex size-6 items-center justify-center rounded-full",children:(0,r.jsx)(lz.A,{})})})]})})})]})}let lR=e=>{let t=new Date,l=(0,lw.o)(t,e),a=(0,lk.M)(t,e),r=(0,lC.c)(t,e);return l<60?`${l}m`:a<24?`${a}h`:r<2?`${r}d`:(0,lN.GP)(e,"MM/dd/yyyy")},lP="__block__",lH={[i.t.audio]:()=>"Audio",[i.t.blockquote]:()=>"Blockquote",[i.t.callout]:()=>"Callout",[i.t.codeBlock]:()=>"Code Block",[i.t.column]:()=>"Column",[i.t.equation]:()=>"Equation",[i.t.file]:()=>"File",[i.t.h1]:()=>"Heading 1",[i.t.h2]:()=>"Heading 2",[i.t.h3]:()=>"Heading 3",[i.t.h4]:()=>"Heading 4",[i.t.h5]:()=>"Heading 5",[i.t.h6]:()=>"Heading 6",[i.t.hr]:()=>"Horizontal Rule",[i.t.img]:()=>"Image",[i.t.mediaEmbed]:()=>"Media",[i.t.p]:e=>(null==e?void 0:e[i.t.listType])===i.t.listTodo?"Todo List":(null==e?void 0:e[i.t.listType])===i.t.ol?"Ordered List":(null==e?void 0:e[i.t.listType])===i.t.ul?"List":"Paragraph",[i.t.table]:()=>"Table",[i.t.toc]:()=>"Table of Contents",[i.t.toggle]:()=>"Toggle",[i.t.video]:()=>"Video"};function lq(e){var t;let{idx:l,isLast:a,suggestion:n}=e,{api:o,editor:i}=(0,s.CF)(ld.I),d=(0,s.gO)(lK,"user",n.userId),[c,u]=z.useState(!1),x=e=>e===lP?["line breaks"]:e.split(lP).filter(Boolean),[m,h]=z.useState(null);return(0,r.jsxs)("div",{className:"relative",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsxs)(lv,{className:"size-5",children:[(0,r.jsx)(lj,{alt:null==d?void 0:d.name,src:null==d?void 0:d.avatarUrl}),(0,r.jsx)(ly,{children:null==d||null==(t=d.name)?void 0:t[0]})]}),(0,r.jsx)("h4",{className:"mx-2 font-semibold text-sm leading-none",children:null==d?void 0:d.name}),(0,r.jsx)("div",{className:"text-muted-foreground/80 text-xs leading-none",children:(0,r.jsx)("span",{className:"mr-1",children:lR(new Date(n.createdAt))})})]}),(0,r.jsx)("div",{className:"relative mt-1 mb-4 pl-[32px]",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:["remove"===n.type&&x(n.text).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground text-sm",children:"Delete:"}),(0,r.jsx)("span",{className:"text-sm",children:e},t)]},t)),"insert"===n.type&&x(n.newText).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground text-sm",children:"Add:"}),(0,r.jsx)("span",{className:"text-sm",children:e||"line breaks"},t)]},t)),"replace"===n.type&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[x(n.newText).map((e,t)=>(0,r.jsx)(z.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-start gap-2 text-brand/80",children:[(0,r.jsx)("span",{className:"text-sm",children:"with:"}),(0,r.jsx)("span",{className:"text-sm",children:e||"line breaks"})]},t)},t)),x(n.text).map((e,t)=>(0,r.jsx)(z.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground text-sm",children:0===t?"Replace:":"Delete:"}),(0,r.jsx)("span",{className:"text-sm",children:e||"line breaks"})]},t)},t))]}),"update"===n.type&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-muted-foreground text-sm",children:[Object.keys(n.properties).map(e=>(0,r.jsxs)("span",{children:["Un",e]},e)),Object.keys(n.newProperties).map(e=>(0,r.jsx)("span",{children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,r.jsx)("span",{className:"text-sm",children:n.newText})]})]})}),n.comments.map((e,t)=>(0,r.jsx)(lT,{comment:e,discussionLength:n.comments.length,documentContent:"__suggestion__",editingId:m,index:t,setEditingId:h},e.id??t)),c&&(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2",children:[(0,r.jsx)(X,{className:"size-6 p-1 text-muted-foreground",onClick:()=>{o.suggestion.withoutSuggestions(()=>{(0,li.i)(i,n)})},variant:"ghost",children:(0,r.jsx)(ef.A,{className:"size-4"})}),(0,r.jsx)(X,{className:"size-6 p-1 text-muted-foreground",onClick:()=>{o.suggestion.withoutSuggestions(()=>{(0,li.n)(i,n)})},variant:"ghost",children:(0,r.jsx)(eu.A,{className:"size-4"})})]}),(0,r.jsx)(lL,{discussionId:n.suggestionId})]}),!a&&(0,r.jsx)("div",{className:"h-px w-full bg-muted"})]},`${n.suggestionId}-${l}`)}let lV=e=>{let{blockPath:t,children:l,commentNodes:a,draftCommentNode:n,suggestionNodes:o}=e,d=(0,s.Q_)(),c=((e,t)=>{let l=(0,s.gO)(lK,"discussions"),{api:a,editor:r,getOption:n,setOption:o}=(0,s.CF)(lg);return e.forEach(e=>{let[l]=e,r=a.suggestion.nodeId(l),s=n("uniquePathMap");if(!r)return;let i=s.get(r);if(ti.s2.isPath(i)){let e=a.suggestion.node({id:r,at:i,isText:!0}),l=a.node(i),n=null;l&&ti.$7.isElement(l[0])&&(n=a.suggestion.nodeId(l[0])??null),e||n===r||o("uniquePathMap",new Map(s).set(r,t))}else o("uniquePathMap",new Map(s).set(r,t))}),z.useMemo(()=>{let s=n("uniquePathMap");if(0===e.length)return[];let o=new Set(e.flatMap(e=>{let[t]=e;if(ti.Qg.isText(t)){let e=a.suggestion.dataList(t);return e.some(e=>"update"===e.type)?e.filter(e=>"update"===e.type).map(e=>e.id):a.suggestion.nodeId(t)??[]}return ti.$7.isElement(t)?a.suggestion.nodeId(t)??[]:[]}).filter(Boolean)),d=[];return o.forEach(e=>{var n;if(!e)return;let o=s.get(e);if(!o||!ti.s2.isPath(o)||!ti.s2.equals(o,t))return;let c=[...r.api.nodes({at:[],mode:"all",match:t=>t[i.t.suggestion]&&t[(0,li.b)(e)]||a.suggestion.nodeId(t)===e})];c.sort((e,t)=>{let[,l]=e,[,a]=t;return ti.s2.isChild(l,a)?-1:1});let u="",x="",m={},h={};if(c.forEach(t=>{let[l]=t;if(ti.Qg.isText(l))a.suggestion.dataList(l).forEach(t=>{if(t.id===e)switch(t.type){case"insert":u+=l.text;break;case"remove":x+=l.text;break;case"update":m={...m,...t.properties},h={...h,...t.newProperties},u+=l.text}});else{let t=a.suggestion.isBlockSuggestion(l)?l.suggestion:void 0;(null==t?void 0:t.id)===(0,li.k)(e)&&("insert"===t.type?u+=t.isLineBreak?lP:lP+lH[l.type](l):"remove"===t.type&&(x+=t.isLineBreak?lP:lP+lH[l.type](l)))}}),0===c.length)return;let p=a.suggestion.suggestionData(c[0][0]);if(!p)return;let g=(null==(n=l.find(t=>t.id===e))?void 0:n.comments)||[],f=new Date(p.createdAt),b=(0,li.b)(e);"update"===p.type?d.push({comments:g,createdAt:f,keyId:b,newProperties:h,newText:u,properties:m,suggestionId:(0,li.k)(e),type:"update",userId:p.userId}):u.length>0&&x.length>0?d.push({comments:g,createdAt:f,keyId:b,newText:u,suggestionId:(0,li.k)(e),text:x,type:"replace",userId:p.userId}):u.length>0?d.push({comments:g,createdAt:f,keyId:b,newText:u,suggestionId:(0,li.k)(e),type:"insert",userId:p.userId}):x.length>0&&d.push({comments:g,createdAt:f,keyId:b,suggestionId:(0,li.k)(e),text:x,type:"remove",userId:p.userId})}),d},[a.suggestion,t,l,r.api,n,e])})(o,t),u=lU(a,t),x=c.length,m=u.length,h=x+m,p=(0,s.gO)(lg,"activeId"),g=p&&c.find(e=>e.suggestionId===p),f=(0,s.gO)(tY,"commentingBlock"),b=(0,s.gO)(tY,"activeId"),v=b===(0,tZ.u)(),j=b&&u.find(e=>e.id===b),y=!g&&!j,w=[...u,...c].sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()),k=u.some(e=>e.id===b)||c.some(e=>e.suggestionId===p),[C,N]=z.useState(k),A=!!f&&ti.s2.equals(t,f),_=C||k||v&&!!n&&A,S=z.useMemo(()=>{let e;return(g&&(e=o.find(e=>{let[t]=e;return ti.Qg.isText(t)&&d.getApi(ld.I).suggestion.nodeId(t)===g.suggestionId})),b&&(e=b===(0,tZ.u)()?n:a.find(e=>{let[t]=e;return d.getApi(tY).comment.nodeId(t)===b})),e)?d.api.toDOMNode(e[0]):null},[_,g,b,d.api,o,n,a]);return x+u.length!==0||n?(0,r.jsx)("div",{className:"flex w-full justify-between",children:(0,r.jsxs)(tN,{onOpenChange:e=>{!e&&v&&n&&d.tf.unsetNodes((0,tZ.u)(),{at:[],mode:"lowest",match:e=>e[(0,tZ.u)()]}),N(e)},open:_,children:[(0,r.jsx)("div",{className:"w-full",children:l}),S&&(0,r.jsx)(tS,{asChild:!0,className:"w-full",virtualRef:{current:S}}),(0,r.jsx)(t_,{align:"center",className:"max-h-[min(50dvh,calc(-24px+var(--radix-popper-available-height)))] w-[380px] min-w-[130px] max-w-[calc(100vw-24px)] overflow-y-auto p-0 data-[state=closed]:opacity-0",onCloseAutoFocus:e=>e.preventDefault(),onOpenAutoFocus:e=>e.preventDefault(),side:"bottom",children:v?(0,r.jsx)(lL,{className:"p-4",focusOnMount:!0}):y?w.map((e,t)=>"suggestionId"in e?(0,r.jsx)(lq,{idx:t,isLast:t===w.length-1,suggestion:e},e.suggestionId):(0,r.jsx)(lQ,{discussion:e,isLast:t===w.length-1},e.id)):(0,r.jsxs)(r.Fragment,{children:[g&&(0,r.jsx)(lq,{idx:0,isLast:!0,suggestion:g},g.suggestionId),j&&(0,r.jsx)(lQ,{discussion:j,isLast:!0})]})}),h>0&&(0,r.jsx)("div",{className:"relative left-0 size-0 select-none",children:(0,r.jsx)(tA,{asChild:!0,children:(0,r.jsxs)(X,{className:"!px-1.5 mt-1 ml-1 flex h-6 gap-1 py-0 text-muted-foreground/80 hover:text-muted-foreground/80 data-[active=true]:bg-muted",contentEditable:!1,"data-active":_,variant:"ghost",children:[x>0&&0===m&&(0,r.jsx)(lc.A,{className:"size-4 shrink-0"}),0===x&&m>0&&(0,r.jsx)(lu.A,{className:"size-4 shrink-0"}),x>0&&m>0&&(0,r.jsx)(lx.A,{className:"size-4 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-xs",children:h})]})})})]})}):(0,r.jsx)("div",{className:"w-full",children:l})};function lQ(e){let{discussion:t,isLast:l}=e,[a,s]=z.useState(null);return(0,r.jsxs)(z.Fragment,{children:[(0,r.jsxs)("div",{className:"p-4",children:[t.comments.map((e,l)=>(0,r.jsx)(lT,{comment:e,discussionLength:t.comments.length,documentContent:null==t?void 0:t.documentContent,editingId:a,index:l,setEditingId:s,showDocumentContent:!0},e.id??l)),(0,r.jsx)(lL,{discussionId:t.id})]}),!l&&(0,r.jsx)("div",{className:"h-px w-full bg-muted"})]},t.id)}let lU=(e,t)=>{let{api:l,getOption:a,setOption:r}=(0,s.CF)(tY),n=(0,s.gO)(lK,"discussions");e.forEach(e=>{let[s]=e,n=l.comment.nodeId(s),o=a("uniquePathMap");if(!n)return;let i=o.get(n);ti.s2.isPath(i)&&l.comment.node({id:n,at:i})||r("uniquePathMap",new Map(o).set(n,t))});let o=new Set(e.map(e=>{let[t]=e;return l.comment.nodeId(t)}).filter(Boolean));return n.map(e=>({...e,createdAt:new Date(e.createdAt)})).filter(e=>{let r=a("uniquePathMap").get(e.id);return!!r&&!!ti.s2.equals(r,t)&&l.comment.has({id:e.id})&&o.has(e.id)&&!e.isResolved})},lW=[{id:"discussion1",comments:[{id:"comment1",contentRich:[{children:[{text:"Comments are a great way to provide feedback and discuss changes."}],type:"p"}],createdAt:new Date(Date.now()-6e5),discussionId:"discussion1",isEdited:!1,userId:"charlie"},{id:"comment2",contentRich:[{children:[{text:"Agreed! The link to the docs makes it easy to learn more."}],type:"p"}],createdAt:new Date(Date.now()-5e5),discussionId:"discussion1",isEdited:!1,userId:"bob"}],createdAt:new Date,documentContent:"comments",isResolved:!1,userId:"charlie"},{id:"discussion2",comments:[{id:"comment1",contentRich:[{children:[{text:"Nice demonstration of overlapping annotations with both comments and suggestions!"}],type:"p"}],createdAt:new Date(Date.now()-3e5),discussionId:"discussion2",isEdited:!1,userId:"bob"},{id:"comment2",contentRich:[{children:[{text:"This helps users understand how powerful the editor can be."}],type:"p"}],createdAt:new Date(Date.now()-2e5),discussionId:"discussion2",isEdited:!1,userId:"charlie"}],createdAt:new Date,documentContent:"overlapping",isResolved:!1,userId:"bob"}],l$=e=>`https://api.dicebear.com/9.x/glass/svg?seed=${e}`,lG={alice:{id:"alice",avatarUrl:l$("alice6"),name:"Alice"},bob:{id:"bob",avatarUrl:l$("bob4"),name:"Bob"},charlie:{id:"charlie",avatarUrl:l$("charlie2"),name:"Charlie"}},lK=(0,s.SU)({key:"discussion",options:{currentUserId:"alice",discussions:lW,users:lG}}).configure({render:{aboveNodes:e=>{let{editor:t,element:l}=e,a=t.getApi(lo.j).comment,s=t.api.findPath(l);if(!s||s.length>1)return;let n=a.node({at:s,isDraft:!0}),o=[...a.nodes({at:s})],i=[...t.getApi(ld.I).suggestion.nodes({at:s})].filter(e=>{let[t]=e;return!t[(0,li._)()]});if(0!==o.length||0!==i.length||n)return e=>(0,r.jsx)(lV,{blockPath:s,commentNodes:o,draftCommentNode:n,suggestionNodes:i,...e})}}}).extendSelectors(e=>{let{getOption:t}=e;return{currentUser:()=>t("users")[t("currentUserId")],user:e=>t("users")[e]}}),lZ=[lK];var lY=l(87061),lJ=l(10026),lX=l(48794),l0=l(21436),l1=l(85300);let l2=[i.t.column,i.t.tr,i.t.td];function l5(e){var t;let{children:l,editor:a,element:s,path:n}=e,o=a.getApi(_.vO).blockSelection,{isAboutToDrag:i,isDragging:d,nodeRef:c,previewRef:u,handleRef:x}=(0,V.PM)({element:s,onDropHandler:(e,t)=>{let{dragItem:l}=t,a=l.id;o&&o.add(a),f()}}),m=3===n.length,h=4===n.length,[p,g]=z.useState(0),f=()=>{if(u.current){var e;u.current.replaceChildren(),null==(e=u.current)||e.classList.add("hidden")}};z.useEffect(()=>{d||f()},[d]),z.useEffect(()=>{if(i){var e;null==(e=u.current)||e.classList.remove("opacity-0")}},[i]);let[b,v]=z.useState(0);return(0,r.jsxs)("div",{className:C("relative",d&&"opacity-50",(null==(t=(0,H.zt)(a,s.type))?void 0:t.node.isContainer)?"group/container":"group"),onMouseEnter:()=>{d||v(l9(a,s))},children:[!h&&(0,r.jsx)(l3,{children:(0,r.jsx)("div",{className:C("slate-blockToolbarWrapper","flex h-[1.5em]",m&&"h-4"),children:(0,r.jsx)("div",{className:C("slate-blockToolbar relative w-4.5","pointer-events-auto mr-1 flex items-center",m&&"mr-1.5"),children:(0,r.jsx)(X,{className:"-left-0 absolute h-6 w-full p-0","data-plate-prevent-deselect":!0,ref:x,style:{top:`${b+3}px`},variant:"ghost",children:(0,r.jsx)(l4,{isDragging:d,previewRef:u,resetPreview:f,setPreviewTop:g})})})})}),(0,r.jsx)("div",{className:C("-left-0 absolute hidden w-full"),contentEditable:!1,ref:u,style:{top:`${-p}px`}}),(0,r.jsxs)("div",{className:"slate-blockWrapper flow-root",onContextMenu:e=>a.getApi(_.vO).blockSelection.addOnContextMenu({element:s,event:e}),ref:c,children:[(0,r.jsx)(tF.wu,{children:l}),(0,r.jsx)(l7,{})]})]})}function l3(e){var t;let{children:l,className:a,...n}=e,o=(0,s.Q_)(),i=(0,s.iQ)(),d=(0,s.gO)(_.vO,"isSelectionAreaVisible"),c=(0,y.f7)();return(0,r.jsx)("div",{...n,className:C("slate-gutterLeft","-translate-x-full absolute top-0 z-50 flex h-full cursor-text hover:opacity-100 sm:opacity-0",(null==(t=(0,H.zt)(o,i.type))?void 0:t.node.isContainer)?"group-hover/container:opacity-100":"group-hover:opacity-100",d&&"hidden",!c&&"opacity-0",a),contentEditable:!1,children:l})}let l4=z.memo(function(e){let{isDragging:t,previewRef:l,resetPreview:a,setPreviewTop:n}=e,o=(0,s.Q_)(),i=(0,s.iQ)();return(0,r.jsxs)(eI,{children:[(0,r.jsx)(eF,{asChild:!0,children:(0,r.jsx)("div",{className:"flex size-full items-center justify-center","data-plate-prevent-deselect":!0,onClick:e=>{e.preventDefault(),o.getApi(_.vO).blockSelection.focus()},onMouseDown:e=>{var t,r,s;if(a(),0!==e.button&&2!==e.button||e.shiftKey)return;let n=o.getApi(_.vO).blockSelection.getNodes({sort:!0}),d=n.length>0?n:o.api.blocks({mode:"highest"});d.some(e=>{let[t]=e;return t.id===i.id})||(d=[[i,o.api.findPath(i)]]);let c=(0,x.k)(o,d).map(e=>{let[t]=e;return t});0===n.length&&(o.tf.blur(),o.tf.collapse());let u=l8(o,c);null==(t=l.current)||t.append(...u),null==(r=l.current)||r.classList.remove("hidden"),null==(s=l.current)||s.classList.add("opacity-0"),o.setOption(V.qp,"multiplePreviewRef",l),o.getApi(_.vO).blockSelection.set(c.map(e=>e.id))},onMouseEnter:()=>{if(t)return;let e=o.getApi(_.vO).blockSelection.getNodes({sort:!0}),l=e.length>0?e:o.api.blocks({mode:"highest"});l.some(e=>{let[t]=e;return t.id===i.id})||(l=[[i,o.api.findPath(i)]]);let a=(0,x.k)(o,l),r=a.map(e=>e[0].id);r.length>1&&r.includes(i.id)?n(l6(o,{blocks:a.map(e=>e[0]),element:i})):n(0)},onMouseUp:()=>{a()},role:"button",children:(0,r.jsx)(l0.A,{className:"text-muted-foreground"})})}),(0,r.jsx)(eL,{children:"Drag to move"})]})}),l7=z.memo(function(e){let{className:t,...l}=e,{dropLine:a}=(0,V.P8)();return a?(0,r.jsx)("div",{...l,className:C("slate-dropLine","absolute inset-x-0 h-0.5 opacity-100 transition-opacity","bg-brand/50","top"===a&&"-top-px","bottom"===a&&"-bottom-px",t)}):null}),l8=(e,t)=>{let l=[],a=[],r=e=>{Array.from(e.attributes).forEach(t=>{(t.name.startsWith("data-slate")||t.name.startsWith("data-block-id"))&&e.removeAttribute(t.name)}),Array.from(e.children).forEach(e=>{r(e)})};return t.forEach((s,n)=>{((s,n)=>{let o=e.api.toDOMNode(s),i=o.cloneNode(!0),d=o.scrollLeft;if(d>0){let e=document.createElement("div");e.style.overflow="hidden",e.style.width=`${o.clientWidth}px`;let t=document.createElement("div");for(t.style.transform=`translateX(-${d}px)`,t.style.width=`${o.scrollWidth}px`;i.firstChild;)t.append(i.firstChild);let l=window.getComputedStyle(o);i.style.padding="0",t.style.padding=l.padding,e.append(t),i.append(e)}a.push(s.id);let c=document.createElement("div");c.append(i),c.style.display="flow-root";let u=t[n-1];if(u){let t=e.api.toDOMNode(u).parentElement.getBoundingClientRect(),l=o.parentElement.getBoundingClientRect().top-t.bottom;l>15&&(c.style.marginTop=`${l}px`)}r(i),l.push(c)})(s,n)}),e.setOption(V.qp,"draggingId",a),l},l6=(e,t)=>{let{blocks:l,element:a}=t,r=e.api.toDOMNode(a),s=e.api.toDOMNode(e),n=l[0],o=e.api.toDOMNode(n),i=Number(window.getComputedStyle(s).paddingTop.replace("px","")),d=o.getBoundingClientRect().top-s.getBoundingClientRect().top-i,c=Number(window.getComputedStyle(o).marginTop.replace("px",""));return r.getBoundingClientRect().top-s.getBoundingClientRect().top-i-d+c-Number(window.getComputedStyle(r).marginTop.replace("px",""))},l9=(e,t)=>{let l=e.api.toDOMNode(t);return Number(window.getComputedStyle(l).marginTop.replace("px",""))},ae=[V.qp.configure({options:{enableScroller:!0,onDropFiles:e=>{let{dragItem:t,editor:l,target:a}=e;l.getTransforms(lY.rD).insert.media(t.files,{at:a,nextBlock:!1})}},render:{aboveNodes:e=>{let{editor:t,element:l,path:a}=e;if(z.useMemo(()=>!t.dom.readOnly&&(!!(1===a.length&&!(0,l1.Xj)(t,l,l2)||3===a.length&&!(0,l1.Xj)(t,l,l2)&&t.api.some({at:a,match:{type:t.getType(i.t.column)}})||4===a.length&&!(0,l1.Xj)(t,l,l2)&&t.api.some({at:a,match:{type:t.getType(i.t.table)}}))||!1),[t,l,a]))return e=>(0,r.jsx)(l5,{...e})},aboveSlate:e=>{let{children:t}=e;return(0,r.jsx)(lJ.Q,{backend:lX.t2,children:t})}}})];var at=l(20135),al=l(82361);let aa=[at.wT,al.C];var ar=l(70410),as=l(18059);let an=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,[l,a]=z.useState(e);return z.useEffect(()=>{let l=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(l)}},[e,t]),l};var ao=l(80224),ai=l(30326),ad=l(43222),ac=l(44405),au=l(30673),ax=l(34327),am=l(92315),ah=l(6785),ap=l(40472),ag=l(54800),af=l(88404);let ab=z.createContext(null),av=(e,t)=>{let{group:l,keywords:a=[],label:r,value:s}=e;return Array.from(new Set([s,...a,l,r].filter(Boolean))).some(e=>(0,ag.k)(e,t))},aj=e=>{let{children:t,element:l,filter:a=av,hideWhenNoValue:n=!1,setValue:o,showTrigger:i=!0,trigger:d,value:c}=e,u=(0,s.Q_)(),x=z.useRef(null),m=(0,af.U)(x),[h,p]=z.useState(""),g=void 0!==c,f=g?c:h,b=z.useCallback(e=>{null==o||o(e),g||p(e)},[o,g]),v=z.useRef(null);z.useEffect(()=>{let e=u.api.findPath(l);if(!e)return;let t=u.api.before(e);if(!t)return;let a=u.api.pointRef(t);return v.current=a.current,()=>{a.unref()}},[u,l]);let{props:j,removeInput:y}=(0,af.F)({cancelInputOnBlur:!0,cursorState:m,ref:x,onCancelInput:e=>{"backspace"!==e&&u.tf.insertText(d+f,{at:(null==v?void 0:v.current)??void 0}),("arrowLeft"===e||"arrowRight"===e)&&u.tf.move({distance:1,reverse:"arrowLeft"===e})}}),[w,k]=z.useState(!1),C=z.useMemo(()=>({filter:a,inputProps:j,inputRef:x,removeInput:y,setHasEmpty:k,showTrigger:i,trigger:d}),[d,i,a,x,j,y,k]),N=(0,ao.KQ)({setValue:e=>z.startTransition(()=>b(e))}),A=N.useState("items");return z.useEffect(()=>{N.getState().activeId||N.setActiveId(N.first())},[A,N]),(0,r.jsx)("span",{contentEditable:!1,children:(0,r.jsx)(ai.v,{open:(A.length>0||w)&&(!n||f.length>0),store:N,children:(0,r.jsx)(ab.Provider,{value:C,children:t})})})},ay=e=>{let{className:t,ref:l,...a}=e,{inputProps:s,inputRef:n,showTrigger:o,trigger:i}=z.useContext(ab),d=(0,ad.Ay)().useState("value"),c=(0,tF.rF)(l,n);return(0,r.jsxs)(r.Fragment,{children:[o&&i,(0,r.jsxs)("span",{className:"relative min-h-[1lh]",children:[(0,r.jsx)("span",{"aria-hidden":"true",className:"invisible overflow-hidden text-nowrap",children:d||"​"}),(0,r.jsx)(ac.G,{autoSelect:!0,className:C("absolute top-0 left-0 size-full bg-transparent outline-none",t),ref:c,value:d,...s,...a})]})]})};ay.displayName="InlineComboboxInput";let aw=e=>{let{className:t,...l}=e;return(0,r.jsx)(au.Z,{children:(0,r.jsx)(ax.N,{className:C("z-500 max-h-[288px] w-[300px] overflow-y-auto rounded-md bg-popover shadow-md",t),...l})})},ak=(0,b.F)("relative mx-1 flex h-[28px] select-none items-center rounded-sm px-2 text-foreground text-sm outline-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{defaultVariants:{interactive:!0},variants:{interactive:{false:"",true:"cursor-pointer transition-colors hover:bg-accent hover:text-accent-foreground data-[active-item=true]:bg-accent data-[active-item=true]:text-accent-foreground"}}}),aC=e=>{let{className:t,focusEditor:l=!0,group:a,keywords:s,label:n,onClick:o,...i}=e,{value:d}=i,{filter:c,removeInput:u}=z.useContext(ab),x=(0,ad.Ay)(),m=c&&x.useState("value");return z.useMemo(()=>!c||c({group:a,keywords:s,label:n,value:d},m),[c,a,s,n,d,m])?(0,r.jsx)(am.x,{className:C(ak(),t),onClick:e=>{u(l),null==o||o(e)},...i}):null},aN=e=>{let{children:t,className:l}=e,{setHasEmpty:a}=z.useContext(ab),s=(0,ad.Ay)().useState("items");return(z.useEffect(()=>(a(!0),()=>{a(!1)}),[a]),s.length>0)?null:(0,r.jsx)("div",{className:C(ak({interactive:!1}),l),children:t})};function aA(e){let{className:t,...l}=e;return(0,r.jsx)(ah.D,{...l,className:C("hidden not-last:border-b py-1.5 [&:has([role=option])]:block",t)})}function a_(e){let{className:t,...l}=e;return(0,r.jsx)(ap.r,{...l,className:C("mt-1.5 mb-2 px-3 font-medium text-muted-foreground text-xs",t)})}let aS=/:$/,az=[Z.yD.configure({options:{data:ar}}),Z.WK.withComponent(function(e){let{children:t,editor:l,element:a}=e,n=(0,s.gO)(Z.yD,"data"),[o,i]=z.useState(""),d=an(o,100),c=o!==d,u=z.useMemo(()=>0===d.trim().length?[]:as.qc.getInstance(n).search(d.replace(aS,"")).get(),[n,d]);return(0,r.jsxs)(s.tc,{as:"span",...e,children:[(0,r.jsxs)(aj,{element:a,filter:!1,hideWhenNoValue:!0,setValue:i,trigger:":",value:o,children:[(0,r.jsx)(ay,{}),(0,r.jsxs)(aw,{children:[!c&&(0,r.jsx)(aN,{children:"No results"}),(0,r.jsx)(aA,{children:u.map(e=>(0,r.jsxs)(aC,{onClick:()=>(0,ee.o)(l,e),value:e.name,children:[e.skins[0].native," ",e.name]},e.id))})]})]}),t]})})],aB=[n.BX.configure({shortcuts:{insert:{keys:"mod+enter"},insertBefore:{keys:"mod+shift+enter"}}})];function aE(e){return(0,r.jsx)(eR,{...e,className:C("scrollbar-hide sticky top-0 left-0 z-50 w-full justify-between overflow-x-auto rounded-t-lg border-b border-b-border bg-background/95 p-1 backdrop-blur-sm supports-backdrop-blur:bg-background/60",e.className)})}var aD=l(62139),aO=l(84390),aM=l(84009),aT=l(62345),aI=l(17050),aF=l(93672),aL=l(46678),aR=l(27760),aP=l(24682),aH=l(23588),aq=l(23526),aV=l(23082),aQ=l(49739);let aU=[{icon:aH.A,value:"left"},{icon:aq.A,value:"center"},{icon:aV.A,value:"right"},{icon:aQ.A,value:"justify"}];function aW(e){var t;let{editor:l,tf:a}=(0,s.CF)(o.G6),n=(0,$.$2)({defaultValue:"start",getProp:e=>e.align})??"left",[i,d]=z.useState(!1),c=(null==(t=aU.find(e=>e.value===n))?void 0:t.icon)??aH.A;return(0,r.jsxs)(ev,{modal:!1,onOpenChange:d,open:i,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:i,tooltip:"Align",children:(0,r.jsx)(c,{})})}),(0,r.jsx)(ew,{align:"start",className:"min-w-0",children:(0,r.jsx)(eA,{onValueChange:e=>{a.textAlign.setNodes(e),l.tf.focus()},value:n,children:aU.map(e=>{let{icon:t,value:l}=e;return(0,r.jsx)(e_,{className:"pl-2 data-[state=checked]:bg-accent *:first:[span]:hidden",value:l,children:(0,r.jsx)(t,{})},l)})})})]})}function a$(){let e=(0,s.Q_)();return(0,r.jsx)(eV,{"data-plate-prevent-overlay":!0,onClick:()=>{e.getTransforms(tY).comment.setDraft()},tooltip:"Comment",children:(0,r.jsx)(lu.A,{})})}var aG=l(69750),aK=l(7245),aZ=l(1694);let aY=[aZ.a.configure({inject:{nodeProps:{defaultNodeValue:"start",nodeKey:"align",styleKey:"textAlign",validNodeValues:["start","left","center","right","end","justify"]},targetPlugins:[...i.t.heading,i.t.p,i.t.img,i.t.mediaEmbed]}})];var aJ=l(8701);let aX=(0,b.F)("relative mb-1",{variants:{variant:{h1:"mt-[1.6em] pb-1 font-bold font-heading text-4xl",h2:"mt-[1.4em] pb-px font-heading font-semibold text-2xl tracking-tight",h3:"mt-[1em] pb-px font-heading font-semibold text-xl tracking-tight",h4:"mt-[0.75em] font-heading font-semibold text-lg tracking-tight",h5:"mt-[0.75em] font-semibold text-lg tracking-tight",h6:"mt-[0.75em] font-semibold text-base tracking-tight"}}});function a0(e){let{variant:t="h1",...l}=e;return(0,r.jsx)(aK.y,{as:t,className:aX({variant:t}),...l,children:l.children})}let a1=[H.Pt.withComponent(function(e){return(0,r.jsx)(aK.y,{...e,className:C("m-0 px-0 py-1"),children:e.children})}),aJ.f.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h1",...e})}),aJ.p.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h2",...e})}),aJ.m.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h3",...e})}),aJ.h.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h4",...e})}),aJ.g.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h5",...e})}),aJ._.withComponent(function(e){return(0,r.jsx)(a0,{variant:"h6",...e})}),aJ.y.withComponent(function(e){return(0,r.jsx)(aK.y,{as:"blockquote",className:"my-1 border-l-2 pl-6 italic",...e})}),aJ.d.withComponent(function(e){return(0,r.jsxs)(aK.y,{...e,children:[(0,r.jsx)("div",{className:"cursor-text py-6",contentEditable:!1,children:(0,r.jsx)("hr",{className:C("h-0.5 rounded-sm border-none bg-muted bg-clip-content")})}),e.children]})})],a2=[aJ.u,aJ.c,aJ.i,aJ.l.withComponent(function(e){return(0,r.jsx)(aK.b,{...e,as:"code",className:"whitespace-pre-wrap rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm",children:e.children})}),aJ.s,aJ.o,aJ.a,aJ.n.withComponent(function(e){return(0,r.jsx)(aK.b,{...e,as:"mark",className:"bg-highlight/30 text-inherit",children:e.children})}),aJ.t.withComponent(function(e){return(0,r.jsx)(aK.b,{...e,as:"kbd",className:"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]",children:e.children})})];var a5=l(48754);let a3=[a5.t.withComponent(function(e){let{children:t,className:l,...a}=e;return(0,r.jsx)(aK.y,{className:C("my-1 flex rounded-sm bg-muted p-4 pl-3",l),style:{backgroundColor:a.element.backgroundColor},...a,children:(0,r.jsxs)("div",{className:"flex w-full gap-2 rounded-md",children:[(0,r.jsx)("div",{className:"size-6 select-none text-[18px]",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols'},children:(0,r.jsx)("span",{"data-plate-prevent-deserialization":!0,children:a.element.icon||"\uD83D\uDCA1"})}),(0,r.jsx)("div",{className:"w-full",children:t})]})})})];var a4=l(82251);let a7=(0,tr.$)(ts.l),a8=[a4.t.configure({node:{component:function(e){return(0,r.jsx)(aK.y,{className:"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] dark:**:[.hljs-addition]:bg-[#3c5743] dark:**:[.hljs-addition]:text-[#ceead5] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] dark:**:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#6596cf] **:[.hljs-built\\\\\\\\_in,.hljs-symbol]:text-[#e36209] dark:**:[.hljs-built\\\\\\\\_in,.hljs-symbol]:text-[#c3854e] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] dark:**:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] dark:**:[.hljs-deletion]:bg-[#473235] dark:**:[.hljs-deletion]:text-[#e7c7cb] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language\\\\\\\\_]:text-[#d73a49] dark:**:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language\\\\\\\\_]:text-[#ee6960] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] dark:**:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#36a84f] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] dark:**:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#3593ff] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] dark:**:[.hljs-section]:text-[#61a5f2] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class\\\\\\\\_,.hljs-title.class\\\\\\\\_.inherited\\\\\\\\_\\\\\\\\_,.hljs-title.function\\\\\\\\_]:text-[#6f42c1] dark:**:[.hljs-title,.hljs-title.class\\\\\\\\_,.hljs-title.class\\\\\\\\_.inherited\\\\\\\\_\\\\\\\\_,.hljs-title.function\\\\\\\\_]:text-[#a77bfa]",...e,children:(0,r.jsx)("div",{className:"relative rounded-md bg-muted/50",children:(0,r.jsx)("pre",{className:"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid",children:(0,r.jsx)("code",{children:e.children})})})})}},options:{lowlight:a7}}),a4.n.withComponent(function(e){return(0,r.jsx)(aK.y,{...e})}),a4.r.withComponent(function(e){let t=e.leaf.className;return(0,r.jsx)(aK.b,{className:t,...e})})];var a6=l(56311);let a9=[a6.n.withComponent(function(e){return(0,r.jsx)(aK.y,{className:"mb-2",...e,children:(0,r.jsx)("div",{className:"flex size-full rounded",children:e.children})})}),a6.t.withComponent(function(e){let{width:t}=e.element;return(0,r.jsx)("div",{className:"group/column relative",style:{width:t??"100%"},children:(0,r.jsx)(aK.y,{className:"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0",...e,children:(0,r.jsx)("div",{className:"relative h-full border border-transparent p-1.5",children:e.children})})})})],re=[tZ.t.withComponent(function(e){return(0,r.jsx)(aK.b,{...e,className:"border-b-2 border-b-highlight/35 bg-highlight/15",children:e.children})})];var rt=l(22282);let rl=[rt.t.withComponent(function(e){let t,l,a,s,n,{element:o}=e;return(0,r.jsxs)(aK.y,{className:"inline-block",...e,children:[(0,r.jsx)("span",{className:"w-fit rounded-sm bg-muted px-1 text-muted-foreground",children:o.date?(t=new Date,a=(l=new Date(o.date)).getDate()===t.getDate()&&l.getMonth()===t.getMonth()&&l.getFullYear()===t.getFullYear(),s=new Date(t.setDate(t.getDate()-1)).toDateString()===l.toDateString(),n=new Date(t.setDate(t.getDate()+2)).toDateString()===l.toDateString(),a?"Today":s?"Yesterday":n?"Tomorrow":l.toLocaleDateString(void 0,{day:"numeric",month:"long",year:"numeric"})):(0,r.jsx)("span",{children:"Pick a date"})}),e.children]})})],ra={inject:{targetPlugins:[i.t.p]}},rr=[aZ.l.configure(ra),aZ.u.configure(ra),aZ.s.configure(ra),aZ.c.configure(ra)],rs=[aZ.n.configure({inject:{nodeProps:{defaultNodeValue:1.5,validNodeValues:[1,1.2,1.5,2,3]},targetPlugins:[...i.t.heading,i.t.p]}})];var rn=l(56588);let ro=[rn.t.withComponent(function(e){return(0,r.jsx)(aK.y,{...e,as:"a",attributes:{...e.attributes,...(0,rn.u)(e.editor,e.element)},className:"font-medium text-primary underline decoration-primary underline-offset-4",children:e.children})})],ri=[l(6667).t.configure({inject:{targetPlugins:[...i.t.heading,i.t.p,i.t.blockquote,i.t.codeBlock,i.t.toggle]},options:{offset:24}})],rd={todo:{Li:function(e){return(0,r.jsx)("li",{className:C("list-none",e.element.checked&&"text-muted-foreground line-through"),children:e.children})},Marker:function(e){let t=e.element.checked;return(0,r.jsx)("div",{contentEditable:!1,children:(0,r.jsx)("button",{className:C("peer -left-6 pointer-events-none absolute top-1 size-4 shrink-0 rounded-sm border border-primary bg-background ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e.className),"data-state":t?"checked":"unchecked",type:"button",children:(0,r.jsx)("div",{className:C("flex items-center justify-center text-current"),children:t&&(0,r.jsx)(ef.A,{className:"size-4"})})})})}}};function rc(e){let{listStart:t,listStyleType:l}=e.element,{Li:a,Marker:s}=rd[l]??{},n=(0,x.S)(e.element)?"ol":"ul";return(0,r.jsxs)(n,{className:"relative m-0 p-0",start:t,style:{listStyleType:l},children:[s&&(0,r.jsx)(s,{...e}),a?(0,r.jsx)(a,{...e}):(0,r.jsx)("li",{children:e.children})]})}let ru=[...ri,x.t.configure({inject:{targetPlugins:[...i.t.heading,i.t.p,i.t.blockquote,i.t.codeBlock,i.t.toggle]},render:{belowNodes:e=>{if(e.element.listStyleType)return e=>(0,r.jsx)(rc,{...e})}}})];var rx=l(47116),rm=l(70731),rh=l(8447);let rp=[rx.t.withComponent(function(e){let t=(0,rm.Q1)({element:e.element,options:{displayMode:!0,errorColor:"#cc0000",fleqn:!1,leqno:!1,macros:{"\\f":"#1f(#2)"},output:"htmlAndMathml",strict:"warn",throwOnError:!1,trust:!1}});return(0,r.jsxs)(aK.y,{...e,className:"inline-block select-none rounded-sm [&_.katex-display]:my-0",children:[(0,r.jsx)("div",{className:C('after:-top-0.5 after:-left-1 after:absolute after:inset-0 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[""]',"h-6",0===e.element.texExpression.length&&"text-muted-foreground after:bg-neutral-500/10"),children:(0,r.jsx)("span",{className:C(0===e.element.texExpression.length&&"hidden","font-mono leading-none"),dangerouslySetInnerHTML:{__html:t}})}),e.children]})}),rx.n.withComponent(function(e){let{element:t}=e,l=(0,rm.Q1)({element:t,options:{displayMode:!0,errorColor:"#cc0000",fleqn:!1,leqno:!1,macros:{"\\f":"#1f(#2)"},output:"htmlAndMathml",strict:"warn",throwOnError:!1,trust:!1}});return(0,r.jsxs)(aK.y,{className:"my-1",...e,children:[(0,r.jsx)("div",{className:C("group flex select-none items-center justify-center rounded-sm hover:bg-primary/10 data-[selected=true]:bg-primary/10",0===t.texExpression.length?"bg-muted p-3 pr-9":"px-2 py-1"),children:t.texExpression.length>0?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:l}}):(0,r.jsxs)("div",{className:"flex h-7 w-full items-center gap-2 whitespace-nowrap text-muted-foreground text-sm",children:[(0,r.jsx)(rh.A,{className:"size-6 text-muted-foreground/80"}),(0,r.jsx)("div",{children:"Add a Tex equation"})]})}),e.children]})})];var rg=l(10805),rf=l(12990),rb=l(23681);let rv=[rf.g.withComponent(function(e){let{align:t="center",caption:l,url:a,width:s}=e.element;return(0,r.jsxs)(aK.y,{...e,className:"py-2.5",children:[(0,r.jsx)("figure",{className:"group relative m-0 inline-block",style:{width:s},children:(0,r.jsxs)("div",{className:"relative min-w-[92px] max-w-full",style:{textAlign:t},children:[(0,r.jsx)("img",{alt:e.attributes.alt,className:C("w-full max-w-full cursor-default object-cover px-0","rounded-sm"),src:a}),l&&(0,r.jsx)("figcaption",{className:"mx-auto mt-2 h-[24px] max-w-full",children:ti.lZ.string(l[0])})]})}),e.children]})}),rf.S.withComponent(function(e){let{align:t="center",caption:l,url:a,width:s}=e.element;return(0,r.jsxs)(aK.y,{className:"py-2.5",...e,children:[(0,r.jsx)("div",{style:{textAlign:t},children:(0,r.jsxs)("figure",{className:"group relative m-0 inline-block cursor-default",style:{width:s},children:[(0,r.jsx)("video",{className:"w-full max-w-full rounded-sm object-cover px-0",controls:!0,src:a}),l&&(0,r.jsx)("figcaption",{children:ti.lZ.string(l[0])})]})}),e.children]})}),rf.w.withComponent(function(e){return(0,r.jsxs)(aK.y,{...e,className:"mb-1",children:[(0,r.jsx)("figure",{className:"group relative cursor-default",children:(0,r.jsx)("div",{className:"h-16",children:(0,r.jsx)("audio",{className:"size-full",controls:!0,src:e.element.url})})}),e.children]})}),rf.C.withComponent(function(e){let{name:t,url:l}=e.element;return(0,r.jsxs)(aK.y,{className:"my-px rounded-sm",...e,children:[(0,r.jsx)("a",{className:"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted",contentEditable:!1,download:t,href:l,rel:"noopener noreferrer",role:"button",target:"_blank",children:(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1",children:[(0,r.jsx)(rb.A,{className:"size-5"}),(0,r.jsx)("div",{children:t})]})}),e.children]})}),rg.t.configure({options:{query:{allow:[i.t.img,i.t.video,i.t.audio,i.t.file,i.t.mediaEmbed]}}}),rf.f,rf.t],rj=[l(14889).n.withComponent(function(e){let{prefix:t}=e,l=e.element;return(0,r.jsxs)(aK.y,{...e,attributes:{...e.attributes,"data-slate-value":l.value},className:C("inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline font-medium text-sm",!0===l.children[0][i.t.bold]&&"font-bold",!0===l.children[0][i.t.italic]&&"italic",!0===l.children[0][i.t.underline]&&"underline"),children:[e.children,t,l.value]})})],ry=[li.a.withComponent(function(e){let{editor:t,leaf:l}=e,a=t.getApi(li.a).suggestion.dataList(l).some(e=>"remove"===e.type);return(0,r.jsx)(aK.b,{...e,as:{delete:"del",insert:"ins",update:"span"}[a?"delete":"insert"],className:C("border-b-2 border-b-brand/[.24] bg-brand/[.08] text-brand/80 no-underline transition-colors duration-200",a&&"border-b-gray-300 bg-gray-300/25 text-gray-400 line-through"),children:e.children})})];var rw=l(40235);function rk(e){var t,l,a,s;let{isHeader:n,...o}=e,{editor:i,element:d}=o,{api:c}=i.getPlugin(rw.i),{minHeight:u,width:x}=c.table.getCellSize({element:d}),m=c.table.getCellBorders({element:d});return(0,r.jsx)(aK.y,{...o,as:n?"th":"td",attributes:{...o.attributes,colSpan:c.table.getColSpan(d),rowSpan:c.table.getRowSpan(d)},className:C("h-full overflow-visible border-none bg-background p-0",d.background?"bg-(--cellBackground)":"bg-background",n&&"text-left font-normal *:m-0","before:size-full","before:absolute before:box-border before:select-none before:content-['']",m&&C((null==(t=m.bottom)?void 0:t.size)&&"before:border-b before:border-b-border",(null==(l=m.right)?void 0:l.size)&&"before:border-r before:border-r-border",(null==(a=m.left)?void 0:a.size)&&"before:border-l before:border-l-border",(null==(s=m.top)?void 0:s.size)&&"before:border-t before:border-t-border")),style:{"--cellBackground":d.background,maxWidth:x||240,minWidth:x||120},children:(0,r.jsx)("div",{className:"relative z-20 box-border h-full px-4 py-2",style:{minHeight:u},children:o.children})})}let rC=[rw.i.withComponent(function(e){let{children:t,...l}=e,{disableMarginLeft:a}=l.editor.getOptions(rw.i),s=a?0:l.element.marginLeft;return(0,r.jsx)(aK.y,{...l,className:"overflow-x-auto py-5",style:{paddingLeft:s},children:(0,r.jsx)("div",{className:"group/table relative w-fit",children:(0,r.jsx)("table",{className:"mr-0 ml-px table h-px table-fixed border-collapse",children:(0,r.jsx)("tbody",{className:"min-w-full",children:t})})})})}),rw.a.withComponent(function(e){return(0,r.jsx)(aK.y,{...e,as:"tr",className:"h-full",children:e.children})}),rw.r.withComponent(rk),rw.n.withComponent(function(e){return(0,r.jsx)(rk,{...e,isHeader:!0})})];var rN=l(27559);let rA=(0,b.F)("block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground",{variants:{depth:{1:"pl-0.5",2:"pl-[26px]",3:"pl-[50px]"}}}),r_={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6},rS=[rN.n.withComponent(function(e){let{editor:t}=e,l=(e=>{if(!e)return[];let t=e.getOptions(rN.n);if(t.queryHeading)return t.queryHeading(e);let l=[],a=e.api.nodes({at:[],match:e=>(0,rN.t)(e)});return a?(Array.from(a).forEach(e=>{let[t,a]=e,{type:r}=t,s=ti.lZ.string(t),n=r_[r],o=t.id;s&&l.push({id:o,depth:n,path:a,title:s,type:r})}),l):[]})(t);return(0,r.jsxs)(aK.y,{...e,className:"mb-1 p-0",children:[(0,r.jsx)("div",{children:l.length>0?l.map(e=>(0,r.jsx)(X,{className:rA({depth:e.depth}),variant:"ghost",children:e.title},e.title)):(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:"Create a heading to display the table of contents."})}),e.children]})})],rz=[...a1,...a8,...rC,l(16980).n.withComponent(function(e){return(0,r.jsxs)(aK.y,{...e,className:"pl-6",children:[(0,r.jsx)("div",{className:"-left-0.5 absolute top-0 size-6 cursor-pointer select-none items-center justify-center rounded-md p-px text-muted-foreground transition-colors hover:bg-accent [&_svg]:size-4",contentEditable:!1,children:(0,r.jsx)(D.A,{className:"rotate-0 transition-transform duration-75"})}),e.children]})}),...rS,...rv,...a3,...a9,...rp,...rl,...ro,...rj,...a2,...rr,...ru,...aY,...rs,...re,...ry,...t4],rB=(0,b.F)(C("group/editor","relative w-full cursor-text select-text overflow-x-hidden whitespace-pre-wrap break-words","rounded-md ring-offset-background focus-visible:outline-none","placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!","[&_strong]:font-bold"),{defaultVariants:{variant:"none"},variants:{disabled:{true:"cursor-not-allowed opacity-50"},focused:{true:"ring-2 ring-ring ring-offset-2"},variant:{ai:"w-full px-0 text-base md:text-sm",aiChat:"max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-5 py-3 text-base md:text-sm",default:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",demo:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",fullWidth:"size-full px-16 pt-4 pb-72 text-base sm:px-24",none:"",select:"px-3 py-2 text-base data-readonly:w-fit"}}});function rE(e){let{className:t,variant:l,...a}=e;return(0,r.jsx)(aK.s,{className:C(rB({variant:l}),t),...a})}function rD(e){let t=(0,s.Q_)(),[a,n]=z.useState(!1),o=async()=>{let{default:e}=await l.e("799").then(l.t.bind(l,50386,23)),a=document.createElement("style");document.head.append(a);let r=await e(t.api.toDOMNode(t),{onclone:e=>{let t=e.querySelector('[contenteditable="true"]');t&&Array.from(t.querySelectorAll("*")).forEach(e=>{let t=e.getAttribute("style")||"";e.setAttribute("style",`${t}; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important`)})}});return a.remove(),r},i=async(e,t)=>{let l=await fetch(e),a=await l.blob(),r=window.URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=t,document.body.append(s),s.click(),s.remove(),window.URL.revokeObjectURL(r)},d=async()=>{let e=await o(),t=await l.e("322").then(l.bind(l,77505)),a=await t.PDFDocument.create(),r=a.addPage([e.width,e.height]),s=await a.embedPng(e.toDataURL("PNG")),{height:n,width:d}=s.scale(1);r.drawImage(s,{height:n,width:d,x:0,y:0});let c=await a.saveAsBase64({dataUri:!0});await i(c,"plate.pdf")},c=async()=>{let e=await o();await i(e.toDataURL("image/png"),"plate.png")},u=async()=>{let e=(0,H.t)({plugins:rz,value:t.children}),l=await (0,aK.n)(e,{editorComponent:rE,props:{style:{padding:"0 calc(50% - 350px)",paddingBottom:""}}}),a=`<!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="color-scheme" content="light dark" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
          href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=JetBrains+Mono:wght@400..700&display=swap"
          rel="stylesheet"
        />
        <link rel="stylesheet" href="https://platejs.org/tailwind.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.css" integrity="sha384-9PvLvaiSKCPkFKB1ZsEoTjgnJn+O3KvEwtsz37/XrkYft3DTk2gHdYvd9oWgW3tV" crossorigin="anonymous">
        <style>
          :root {
            --font-sans: 'Inter', 'Inter Fallback';
            --font-mono: 'JetBrains Mono', 'JetBrains Mono Fallback';
          }
        </style>
      </head>
      <body>
        ${l}
      </body>
    </html>`,r=`data:text/html;charset=utf-8,${encodeURIComponent(a)}`;await i(r,"plate.html")},x=async()=>{let e=t.getApi(t0.LK).markdown.serialize(),l=`data:text/markdown;charset=utf-8,${encodeURIComponent(e)}`;await i(l,"plate.md")};return(0,r.jsxs)(ev,{modal:!1,onOpenChange:n,open:a,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:a,tooltip:"Export",children:(0,r.jsx)(aG.A,{className:"size-4"})})}),(0,r.jsx)(ew,{align:"start",children:(0,r.jsxs)(ek,{children:[(0,r.jsx)(eC,{onSelect:u,children:"Export as HTML"}),(0,r.jsx)(eC,{onSelect:d,children:"Export as PDF"}),(0,r.jsx)(eC,{onSelect:c,children:"Export as Image"}),(0,r.jsx)(eC,{onSelect:x,children:"Export as Markdown"})]})})]})}var rO=l(38221),rM=l.n(rO),rT=l(41585),rI=l(80697);function rF(e){let{children:t,nodeType:l,tooltip:a}=e,n=(0,s.Q_)(),o=(0,s.QR)(e=>!!e.selection,[]),i=(0,s.QR)(e=>e.api.mark(l),[l]),[d,c]=B().useState(),[u,x]=B().useState(!1),m=B().useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!u;x(e)},[u,x]),h=B().useCallback(e=>{n.selection&&(c(e),n.tf.select(n.selection),n.tf.focus(),n.tf.addMarks({[l]:e}))},[n,l]),p=B().useCallback(e=>{h(e),m()},[m,h]),g=B().useCallback(()=>{n.selection&&(n.tf.select(n.selection),n.tf.focus(),d&&n.tf.removeMarks(l),m())},[n,d,m,l]);return B().useEffect(()=>{o&&c(i)},[i,o]),(0,r.jsxs)(ev,{modal:!1,onOpenChange:e=>{x(e)},open:u,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{pressed:u,tooltip:a,children:t})}),(0,r.jsx)(ew,{align:"start",children:(0,r.jsx)(rL,{clearColor:g,color:d||i,colors:rV,customColors:rQ,updateColor:p,updateCustomColor:h})})]})}let rL=B().memo(function(e){let{className:t,clearColor:l,color:a,colors:s,customColors:n,updateColor:o,updateCustomColor:i,...d}=e;return(0,r.jsxs)("div",{className:C("flex flex-col",t),...d,children:[(0,r.jsx)(eZ,{label:"Custom Colors",children:(0,r.jsx)(rR,{className:"px-2",color:a,colors:s,customColors:n,updateColor:o,updateCustomColor:i})}),(0,r.jsx)(eZ,{label:"Default Colors",children:(0,r.jsx)(rq,{className:"px-2",color:a,colors:s,updateColor:o})}),a&&(0,r.jsx)(eZ,{children:(0,r.jsxs)(eC,{className:"p-2",onClick:l,children:[(0,r.jsx)(rT.A,{}),(0,r.jsx)("span",{children:"Clear"})]})})]})},(e,t)=>e.color===t.color&&e.colors===t.colors&&e.customColors===t.customColors);function rR(e){let{className:t,color:l,colors:a,customColors:s,updateColor:n,updateCustomColor:o,...i}=e,[d,c]=B().useState(),[u,x]=B().useState(l||"#000000");B().useEffect(()=>{!l||s.some(e=>e.value===l)||a.some(e=>e.value===l)||c(l)},[l,a,s]);let m=B().useMemo(()=>d?[...s,{isBrightColor:!1,name:"",value:d}]:s,[d,s]),h=B().useCallback(rM()(o,100),[o]);return(0,r.jsx)("div",{className:C("relative flex flex-col gap-4",t),...i,children:(0,r.jsx)(rq,{color:l,colors:m,updateColor:n,children:(0,r.jsx)(rP,{onChange:e=>{x(e.target.value),h(e.target.value)},value:u,children:(0,r.jsxs)(eC,{className:C(J({size:"icon",variant:"outline"}),"absolute top-1 right-2 bottom-2 flex size-8 items-center justify-center rounded-full"),onSelect:e=>{e.preventDefault()},children:[(0,r.jsx)("span",{className:"sr-only",children:"Custom"}),(0,r.jsx)(rI.A,{})]})})})})}function rP(e){let{children:t,className:l,value:a="#000000",...s}=e,n=B().useRef(null);return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[B().Children.map(t,e=>e?B().cloneElement(e,{onClick:()=>{var e;return null==(e=n.current)?void 0:e.click()}}):e),(0,r.jsx)("input",{...s,className:C("size-0 overflow-hidden border-0 p-0",l),ref:(0,tF.rF)(s.ref,n),type:"color",value:a})]})}function rH(e){let{className:t,isBrightColor:l,isSelected:a,name:s,updateColor:n,value:o,...i}=e,d=(0,r.jsx)(eC,{className:C(J({size:"icon",variant:"outline"}),"my-1 flex size-6 items-center justify-center rounded-full border border-muted border-solid p-0 transition-all hover:scale-125",!l&&"border-transparent",a&&"border-2 border-primary",t),onSelect:e=>{e.preventDefault(),n(o)},style:{backgroundColor:o},...i});return s?(0,r.jsxs)(eI,{children:[(0,r.jsx)(eF,{children:d}),(0,r.jsx)(eL,{className:"mb-1 capitalize",children:s})]}):d}function rq(e){let{className:t,color:l,colors:a,updateColor:s,...n}=e;return(0,r.jsx)("div",{className:C("grid grid-cols-[repeat(10,1fr)] place-items-center gap-x-1",t),...n,children:(0,r.jsxs)(eT,{children:[a.map(e=>{let{isBrightColor:t,name:a,value:n}=e;return(0,r.jsx)(rH,{isBrightColor:t,isSelected:l===n,name:a,updateColor:s,value:n},a??n)}),n.children]})})}let rV=[{isBrightColor:!1,name:"black",value:"#000000"},{isBrightColor:!1,name:"dark grey 4",value:"#434343"},{isBrightColor:!1,name:"dark grey 3",value:"#666666"},{isBrightColor:!1,name:"dark grey 2",value:"#999999"},{isBrightColor:!1,name:"dark grey 1",value:"#B7B7B7"},{isBrightColor:!1,name:"grey",value:"#CCCCCC"},{isBrightColor:!1,name:"light grey 1",value:"#D9D9D9"},{isBrightColor:!0,name:"light grey 2",value:"#EFEFEF"},{isBrightColor:!0,name:"light grey 3",value:"#F3F3F3"},{isBrightColor:!0,name:"white",value:"#FFFFFF"},{isBrightColor:!1,name:"red berry",value:"#980100"},{isBrightColor:!1,name:"red",value:"#FE0000"},{isBrightColor:!1,name:"orange",value:"#FE9900"},{isBrightColor:!0,name:"yellow",value:"#FEFF00"},{isBrightColor:!1,name:"green",value:"#00FF00"},{isBrightColor:!1,name:"cyan",value:"#00FFFF"},{isBrightColor:!1,name:"cornflower blue",value:"#4B85E8"},{isBrightColor:!1,name:"blue",value:"#1300FF"},{isBrightColor:!1,name:"purple",value:"#9900FF"},{isBrightColor:!1,name:"magenta",value:"#FF00FF"},{isBrightColor:!1,name:"light red berry 3",value:"#E6B8AF"},{isBrightColor:!1,name:"light red 3",value:"#F4CCCC"},{isBrightColor:!0,name:"light orange 3",value:"#FCE4CD"},{isBrightColor:!0,name:"light yellow 3",value:"#FFF2CC"},{isBrightColor:!0,name:"light green 3",value:"#D9EAD3"},{isBrightColor:!1,name:"light cyan 3",value:"#D0DFE3"},{isBrightColor:!1,name:"light cornflower blue 3",value:"#C9DAF8"},{isBrightColor:!0,name:"light blue 3",value:"#CFE1F3"},{isBrightColor:!0,name:"light purple 3",value:"#D9D2E9"},{isBrightColor:!0,name:"light magenta 3",value:"#EAD1DB"},{isBrightColor:!1,name:"light red berry 2",value:"#DC7E6B"},{isBrightColor:!1,name:"light red 2",value:"#EA9999"},{isBrightColor:!1,name:"light orange 2",value:"#F9CB9C"},{isBrightColor:!0,name:"light yellow 2",value:"#FFE598"},{isBrightColor:!1,name:"light green 2",value:"#B7D6A8"},{isBrightColor:!1,name:"light cyan 2",value:"#A1C4C9"},{isBrightColor:!1,name:"light cornflower blue 2",value:"#A4C2F4"},{isBrightColor:!1,name:"light blue 2",value:"#9FC5E8"},{isBrightColor:!1,name:"light purple 2",value:"#B5A7D5"},{isBrightColor:!1,name:"light magenta 2",value:"#D5A6BD"},{isBrightColor:!1,name:"light red berry 1",value:"#CC4125"},{isBrightColor:!1,name:"light red 1",value:"#E06666"},{isBrightColor:!1,name:"light orange 1",value:"#F6B26B"},{isBrightColor:!1,name:"light yellow 1",value:"#FFD966"},{isBrightColor:!1,name:"light green 1",value:"#93C47D"},{isBrightColor:!1,name:"light cyan 1",value:"#76A5AE"},{isBrightColor:!1,name:"light cornflower blue 1",value:"#6C9EEB"},{isBrightColor:!1,name:"light blue 1",value:"#6FA8DC"},{isBrightColor:!1,name:"light purple 1",value:"#8D7CC3"},{isBrightColor:!1,name:"light magenta 1",value:"#C27BA0"},{isBrightColor:!1,name:"dark red berry 1",value:"#A61B00"},{isBrightColor:!1,name:"dark red 1",value:"#CC0000"},{isBrightColor:!1,name:"dark orange 1",value:"#E59138"},{isBrightColor:!1,name:"dark yellow 1",value:"#F1C231"},{isBrightColor:!1,name:"dark green 1",value:"#6AA74F"},{isBrightColor:!1,name:"dark cyan 1",value:"#45818E"},{isBrightColor:!1,name:"dark cornflower blue 1",value:"#3B78D8"},{isBrightColor:!1,name:"dark blue 1",value:"#3E84C6"},{isBrightColor:!1,name:"dark purple 1",value:"#664EA6"},{isBrightColor:!1,name:"dark magenta 1",value:"#A64D78"},{isBrightColor:!1,name:"dark red berry 2",value:"#84200D"},{isBrightColor:!1,name:"dark red 2",value:"#990001"},{isBrightColor:!1,name:"dark orange 2",value:"#B45F05"},{isBrightColor:!1,name:"dark yellow 2",value:"#BF9002"},{isBrightColor:!1,name:"dark green 2",value:"#38761D"},{isBrightColor:!1,name:"dark cyan 2",value:"#124F5C"},{isBrightColor:!1,name:"dark cornflower blue 2",value:"#1155CB"},{isBrightColor:!1,name:"dark blue 2",value:"#0C5394"},{isBrightColor:!1,name:"dark purple 2",value:"#351C75"},{isBrightColor:!1,name:"dark magenta 2",value:"#741B47"},{isBrightColor:!1,name:"dark red berry 3",value:"#5B0F00"},{isBrightColor:!1,name:"dark red 3",value:"#660000"},{isBrightColor:!1,name:"dark orange 3",value:"#783F04"},{isBrightColor:!1,name:"dark yellow 3",value:"#7E6000"},{isBrightColor:!1,name:"dark green 3",value:"#274E12"},{isBrightColor:!1,name:"dark cyan 3",value:"#0D343D"},{isBrightColor:!1,name:"dark cornflower blue 3",value:"#1B4487"},{isBrightColor:!1,name:"dark blue 3",value:"#083763"},{isBrightColor:!1,name:"dark purple 3",value:"#1F124D"},{isBrightColor:!1,name:"dark magenta 3",value:"#4C1130"}],rQ=[{isBrightColor:!1,name:"dark orange 3",value:"#783F04"},{isBrightColor:!1,name:"dark grey 3",value:"#666666"},{isBrightColor:!1,name:"dark grey 2",value:"#999999"},{isBrightColor:!1,name:"light cornflower blue 1",value:"#6C9EEB"},{isBrightColor:!1,name:"dark magenta 3",value:"#4C1130"}];var rU=l(37344),rW=l(86241);let r$={h1:"36",h2:"24",h3:"20"},rG=["8","9","10","12","14","16","18","24","30","36","48","60","72","96"];function rK(){let[e,t]=z.useState("16"),[l,a]=z.useState(!1),{editor:n,tf:d}=(0,s.CF)(o.uL),c=(0,s.QR)(e=>{var t;let l=null==(t=e.api.marks())?void 0:t[i.t.fontSize];if(l)return(0,rU.FN)(l);let[a]=e.api.block()||[];return(null==a?void 0:a.type)&&a.type in r$?r$[a.type]:"16"},[]),u=()=>{let t=(0,rU.FN)(e);1>Number.parseInt(t,10)||Number.parseInt(t,10)>100||t!==(0,rU.FN)(c)&&d.fontSize.addMark(`${t}px`),n.tf.focus()},x=e=>{let t=Number(m)+e;d.fontSize.addMark(`${t}px`),n.tf.focus()},m=l?e:c;return(0,r.jsxs)("div",{className:"flex h-7 items-center gap-1 rounded-md bg-muted/60 p-0",children:[(0,r.jsx)(eV,{onClick:()=>x(-1),children:(0,r.jsx)(rW.A,{})}),(0,r.jsxs)(tN,{modal:!1,open:l,children:[(0,r.jsx)(tA,{asChild:!0,children:(0,r.jsx)("input",{className:C("h-full w-10 shrink-0 bg-transparent px-1 text-center text-sm hover:bg-muted"),"data-plate-focus":"true",onBlur:()=>{a(!1),u()},onChange:e=>t(e.target.value),onFocus:()=>{a(!0),t((0,rU.FN)(c))},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),u())},type:"text",value:m})}),(0,r.jsx)(t_,{className:"w-10 px-px py-1",onOpenAutoFocus:e=>e.preventDefault(),children:rG.map(e=>(0,r.jsx)("button",{className:C("flex h-8 w-full items-center justify-center text-sm hover:bg-accent data-[highlighted=true]:bg-accent"),"data-highlighted":e===m,onClick:()=>{d.fontSize.addMark(`${e}px`),a(!1)},type:"button",children:e},e))})]}),(0,r.jsx)(eV,{onClick:()=>x(1),children:(0,r.jsx)(rI.A,{})})]})}var rZ=l(40494),rY=l(63420);function rJ(e){let t=(0,s.Q_)(),l=(0,s.QR)(e=>0===e.history.redos.length,[]);return(0,r.jsx)(eV,{...e,disabled:l,onClick:()=>t.redo(),onMouseDown:e=>e.preventDefault(),tooltip:"Redo",children:(0,r.jsx)(rZ.A,{})})}function rX(e){let t=(0,s.Q_)(),l=(0,s.QR)(e=>0===e.history.undos.length,[]);return(0,r.jsx)(eV,{...e,disabled:l,onClick:()=>t.undo(),onMouseDown:e=>e.preventDefault(),tooltip:"Undo",children:(0,r.jsx)(rY.A,{})})}var r0=l(91532);function r1(e){let t=(0,s.Q_)(),[l,a]=z.useState(!1),n=(e,l)=>{if("html"===l){let l=(0,aK.t)(e);return t.api.html.deserialize({element:l})}return"markdown"===l?t.getApi(t0.LK).markdown.deserialize(e):[]},{openFilePicker:o}=(0,r0.g)({accept:[".md",".mdx"],multiple:!1,onFilesSelected:async e=>{let{plainFiles:l}=e,a=n(await l[0].text(),"markdown");t.tf.insertNodes(a)}}),{openFilePicker:i}=(0,r0.g)({accept:["text/html"],multiple:!1,onFilesSelected:async e=>{let{plainFiles:l}=e,a=n(await l[0].text(),"html");t.tf.insertNodes(a)}});return(0,r.jsxs)(ev,{modal:!1,onOpenChange:a,open:l,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:l,tooltip:"Import",children:(0,r.jsx)(aD.A,{className:"size-4"})})}),(0,r.jsx)(ew,{align:"start",children:(0,r.jsxs)(ek,{children:[(0,r.jsx)(eC,{onSelect:()=>{i()},children:"Import from HTML"}),(0,r.jsx)(eC,{onSelect:()=>{o()},children:"Import from Markdown"})]})})]})}var r2=l(48491),r5=l(79209),r3=l(29265);function r4(e){let{props:t}=(0,r2.qL)();return(0,r.jsx)(eV,{...e,...t,tooltip:"Indent",children:(0,r.jsx)(r5.A,{})})}function r7(e){let{props:t}=(0,r2.x4)();return(0,r.jsx)(eV,{...e,...t,tooltip:"Outdent",children:(0,r.jsx)(r3.A,{})})}var r8=l(11091),r6=l(35257),r9=l(24256),se=l(39383),st=l(31929),sl=l(9245),sa=l(56265),sr=l(90737),ss=l(31845),sn=l(78834),so=l(59612),si=l(56163),sd=l(35558),sc=l(31598),su=l(16597),sx=l(44854),sm=l(32307),sh=l(78761),sp=l(60177),sg=l(10005),sf=l(92907);let sb="action_three_columns",sv=(e,t)=>{e.tf.insertNodes(e.api.create.block({indent:1,listStyleType:t}),{select:!0})},sj={[i.t.listTodo]:sv,[i.t.ol]:sv,[i.t.ul]:sv,[sb]:e=>(0,tT.lw)(e,{columns:3,select:!0}),[i.t.audio]:e=>(0,rf.r)(e,{select:!0}),[i.t.callout]:e=>(0,a5.r)(e,{select:!0}),[i.t.codeBlock]:e=>(0,u.cc)(e,{select:!0}),[i.t.equation]:e=>(0,rx.i)(e,{select:!0}),[i.t.excalidraw]:e=>(0,sh.A)(e,{},{select:!0}),[i.t.file]:e=>(0,rf.i)(e,{select:!0}),[i.t.img]:e=>(0,rf.h)(e,{select:!0,type:i.t.img}),[i.t.mediaEmbed]:e=>(0,rf.h)(e,{select:!0,type:i.t.mediaEmbed}),[i.t.table]:e=>e.getTransforms(sg.AJ).insert.table({},{select:!0}),[i.t.toc]:e=>(0,sf.MQ)(e,{select:!0}),[i.t.video]:e=>(0,rf.s)(e,{select:!0})},sy={[i.t.date]:e=>(0,rt.n)(e,{select:!0}),[i.t.inlineEquation]:e=>(0,rx.r)(e,"",{select:!0}),[i.t.link]:e=>(0,sp.f$)(e,{focused:!0})},sw=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{upsert:a=!1}=l;e.tf.withoutNormalizing(()=>{let l=e.api.block();if(!l)return;let[r,s]=l,n=e.api.isEmpty(r),o=t===s_(r);a&&n&&o||(t in sj?sj[t](e,t):e.tf.insertNodes(e.api.create.block({type:t}),{at:ti.s2.next(s),select:!0}),o||e.getApi(ld.I).suggestion.withoutSuggestions(()=>{e.tf.removeNodes({previousEmptyBlock:!0})}))})},sk=(e,t)=>{sy[t]&&sy[t](e,t)},sC=(e,t,l)=>{e.tf.setNodes(e.api.create.block({indent:1,listStyleType:t}),{at:l[1]})},sN={[i.t.listTodo]:sC,[i.t.ol]:sC,[i.t.ul]:sC,[sb]:e=>(0,tT.uP)(e,{columns:3}),[i.t.codeBlock]:e=>(0,u.xy)(e)},sA=function(e,t){let{at:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.tf.withoutNormalizing(()=>{let a=l=>{let[a,r]=l;if(a[i.t.listType]&&e.tf.unsetNodes([i.t.listType,"indent"],{at:r}),t in sN)return sN[t](e,t,l);a.type!==t&&e.tf.setNodes({type:t},{at:r})};if(l){let t=e.api.node(l);if(t)return void a(t)}e.api.blocks({mode:"lowest"}).forEach(e=>{a(e)})})},s_=e=>e[i.t.listType]?e[i.t.listType]===i.t.ol?i.t.ol:e[i.t.listType]===i.t.listTodo?i.t.listTodo:i.t.ul:e.type,sS=[{group:"Basic blocks",items:[{icon:(0,r.jsx)(r8.A,{}),label:"Paragraph",value:i.t.p},{icon:(0,r.jsx)(r6.A,{}),label:"Heading 1",value:"h1"},{icon:(0,r.jsx)(r9.A,{}),label:"Heading 2",value:"h2"},{icon:(0,r.jsx)(se.A,{}),label:"Heading 3",value:"h3"},{icon:(0,r.jsx)(st.A,{}),label:"Table",value:i.t.table},{icon:(0,r.jsx)(sl.A,{}),label:"Code",value:i.t.codeBlock},{icon:(0,r.jsx)(sa.A,{}),label:"Quote",value:i.t.blockquote},{icon:(0,r.jsx)(rW.A,{}),label:"Divider",value:i.t.hr}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t)}}))},{group:"Lists",items:[{icon:(0,r.jsx)(sr.A,{}),label:"Bulleted list",value:i.t.ul},{icon:(0,r.jsx)(ss.A,{}),label:"Numbered list",value:i.t.ol},{icon:(0,r.jsx)(sn.A,{}),label:"To-do list",value:i.t.listTodo},{icon:(0,r.jsx)(D.A,{}),label:"Toggle list",value:i.t.toggle}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t)}}))},{group:"Media",items:[{icon:(0,r.jsx)(so.A,{}),label:"Image",value:i.t.img},{icon:(0,r.jsx)(si.A,{}),label:"Embed",value:i.t.mediaEmbed}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t)}}))},{group:"Advanced blocks",items:[{icon:(0,r.jsx)(sd.A,{}),label:"Table of contents",value:i.t.toc},{icon:(0,r.jsx)(sc.A,{}),label:"3 columns",value:"action_three_columns"},{focusEditor:!1,icon:(0,r.jsx)(rh.A,{}),label:"Equation",value:i.t.equation},{icon:(0,r.jsx)(su.A,{}),label:"Excalidraw",value:i.t.excalidraw}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t)}}))},{group:"Inline",items:[{icon:(0,r.jsx)(sx.A,{}),label:"Link",value:i.t.link},{focusEditor:!0,icon:(0,r.jsx)(sm.A,{}),label:"Date",value:i.t.date},{focusEditor:!1,icon:(0,r.jsx)(rh.A,{}),label:"Inline Equation",value:i.t.inlineEquation}].map(e=>({...e,onSelect:(e,t)=>{sk(e,t)}}))}];function sz(e){let t=(0,s.Q_)(),[l,a]=z.useState(!1);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:a,open:l,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:l,tooltip:"Insert",children:(0,r.jsx)(rI.A,{})})}),(0,r.jsx)(ew,{align:"start",className:"flex max-h-[500px] min-w-0 flex-col overflow-y-auto",children:sS.map(e=>{let{group:l,items:a}=e;return(0,r.jsx)(eZ,{label:l,children:a.map(e=>{let{icon:l,label:a,value:s,onSelect:n}=e;return(0,r.jsxs)(eC,{className:"min-w-[180px]",onSelect:()=>{n(t,s),t.tf.focus()},children:[l,a]},s)})},l)})})]})}var sB=l(52991);function sE(e){let t=(0,s.Q_)(),{defaultNodeValue:l,validNodeValues:a=[]}=t.getInjectProps(o.pJ),n=(0,$.$2)({defaultValue:l,getProp:e=>e.lineHeight}),[i,d]=z.useState(!1);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:d,open:i,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:i,tooltip:"Line height",children:(0,r.jsx)(sB.A,{})})}),(0,r.jsx)(ew,{align:"start",className:"min-w-0",children:(0,r.jsx)(eA,{onValueChange:e=>{t.getTransforms(o.pJ).lineHeight.setNodes(Number(e)),t.tf.focus()},value:n,children:a.map(e=>(0,r.jsxs)(e_,{className:"min-w-[180px] pl-2 *:first:[span]:hidden",value:e,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(eg.ly,{children:(0,r.jsx)(ef.A,{})})}),e]},e))})})]})}var sD=l(82853);function sO(e){let t=(0,sp._M)(),{props:l}=(0,sp.j6)(t);return(0,r.jsx)(eV,{...e,...l,"data-plate-focus":!0,tooltip:"Link",children:(0,r.jsx)(sD.A,{})})}var sM=l(95881),sT=l(7298);function sI(){let e=(0,s.Q_)(),[t,l]=z.useState(!1),a=(0,s.QR)(e=>(0,x.x)(e,[x.M.Disc,x.M.Circle,x.M.Square]),[]);return(0,r.jsxs)(eQ,{pressed:t,children:[(0,r.jsx)(eU,{className:"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground","data-state":a?"on":"off",onClick:()=>{(0,x.o)(e,{listStyleType:x.M.Disc})},children:(0,r.jsx)(sr.A,{className:"size-4"})}),(0,r.jsxs)(ev,{modal:!1,onOpenChange:l,open:t,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eW,{})}),(0,r.jsx)(ew,{align:"start",alignOffset:-32,children:(0,r.jsxs)(ek,{children:[(0,r.jsx)(eC,{onClick:()=>(0,x.o)(e,{listStyleType:x.M.Disc}),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full border border-current bg-current"}),"Default"]})}),(0,r.jsx)(eC,{onClick:()=>(0,x.o)(e,{listStyleType:x.M.Circle}),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full border border-current"}),"Circle"]})}),(0,r.jsx)(eC,{onClick:()=>(0,x.o)(e,{listStyleType:x.M.Square}),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 border border-current bg-current"}),"Square"]})})]})})]})]})}function sF(){let e=(0,s.Q_)(),[t,l]=z.useState(!1),a=(0,s.QR)(e=>(0,x.x)(e,[x.M.Decimal,x.M.LowerAlpha,x.M.UpperAlpha,x.M.LowerRoman,x.M.UpperRoman]),[]);return(0,r.jsxs)(eQ,{pressed:t,children:[(0,r.jsx)(eU,{className:"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground","data-state":a?"on":"off",onClick:()=>(0,x.o)(e,{listStyleType:x.M.Decimal}),children:(0,r.jsx)(ss.A,{className:"size-4"})}),(0,r.jsxs)(ev,{modal:!1,onOpenChange:l,open:t,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eW,{})}),(0,r.jsx)(ew,{align:"start",alignOffset:-32,children:(0,r.jsxs)(ek,{children:[(0,r.jsx)(eC,{onSelect:()=>(0,x.o)(e,{listStyleType:x.M.Decimal}),children:"Decimal (1, 2, 3)"}),(0,r.jsx)(eC,{onSelect:()=>(0,x.o)(e,{listStyleType:x.M.LowerAlpha}),children:"Lower Alpha (a, b, c)"}),(0,r.jsx)(eC,{onSelect:()=>(0,x.o)(e,{listStyleType:x.M.UpperAlpha}),children:"Upper Alpha (A, B, C)"}),(0,r.jsx)(eC,{onSelect:()=>(0,x.o)(e,{listStyleType:x.M.LowerRoman}),children:"Lower Roman (i, ii, iii)"}),(0,r.jsx)(eC,{onSelect:()=>(0,x.o)(e,{listStyleType:x.M.UpperRoman}),children:"Upper Roman (I, II, III)"})]})})]})]})}function sL(e){let t=(0,sM.er)({nodeType:"todo"}),{props:l}=(0,sM.hG)(t);return(0,r.jsx)(eV,{...e,...l,tooltip:"Todo",children:(0,r.jsx)(sT.A,{})})}function sR(e){let{clear:t,nodeType:l,...a}=e,s=(0,$.l4)({clear:t,nodeType:l}),{props:n}=(0,$._K)(s);return(0,r.jsx)(eV,{...a,...n})}var sP=l(161),sH=l(4368),sq=l(64721),sV=l(70066);function sQ(e){let{...t}=e;return(0,r.jsx)(sV.bL,{"data-slot":"alert-dialog",...t})}function sU(e){let{...t}=e;return(0,r.jsx)(sV.ZL,{"data-slot":"alert-dialog-portal",...t})}function sW(e){let{className:t,...l}=e;return(0,r.jsx)(sV.hJ,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"alert-dialog-overlay",...l})}function s$(e){let{className:t,...l}=e;return(0,r.jsxs)(sU,{children:[(0,r.jsx)(sW,{}),(0,r.jsx)(sV.UC,{className:C("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg",t),"data-slot":"alert-dialog-content",...l})]})}function sG(e){let{className:t,...l}=e;return(0,r.jsx)("div",{className:C("flex flex-col gap-2 text-center sm:text-left",t),"data-slot":"alert-dialog-header",...l})}function sK(e){let{className:t,...l}=e;return(0,r.jsx)("div",{className:C("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),"data-slot":"alert-dialog-footer",...l})}function sZ(e){let{className:t,...l}=e;return(0,r.jsx)(sV.hE,{className:C("font-semibold text-lg",t),"data-slot":"alert-dialog-title",...l})}function sY(e){let{className:t,...l}=e;return(0,r.jsx)(sV.VY,{className:C("text-muted-foreground text-sm",t),"data-slot":"alert-dialog-description",...l})}function sJ(e){let{className:t,...l}=e;return(0,r.jsx)(sV.rc,{className:C(J(),t),...l})}function sX(e){let{className:t,...l}=e;return(0,r.jsx)(sV.ZD,{className:C(J({variant:"outline"}),t),...l})}function s0(e){let{className:t,type:l,...a}=e;return(0,r.jsx)("input",{className:C("h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:font-medium file:text-foreground file:text-sm placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30","focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40",t),"data-slot":"input",type:l,...a})}var s1=l(8319),s2=l(41231);let s5=(0,s1.getInstance)();null==s5||s5.registerPlugins([(0,s2.l)()]),console.log("instance:",s5);let s3=null==s5?void 0:s5.createLazyComponent({loader:()=>s5.loadRemote("material_module/material-picker"),loading:"",fallback:e=>{let{error:t}=e;return(console.log("error:errorerrorerror",t),t instanceof Error&&t.message.includes("not exist"))?(0,r.jsx)("div",{children:"fallback - not existed id"}):(0,r.jsx)("div",{children:"fallback"})}}),s4={[i.t.audio]:{accept:["audio/*"],icon:(0,r.jsx)(sP.A,{className:"size-4"}),title:"Insert Audio",tooltip:"Audio"},[i.t.file]:{accept:["*"],icon:(0,r.jsx)(rb.A,{className:"size-4"}),title:"Insert File",tooltip:"File"},[i.t.img]:{accept:["image/*"],icon:(0,r.jsx)(so.A,{className:"size-4"}),title:"Insert Image",tooltip:"Image"},[i.t.video]:{accept:["video/*"],icon:(0,r.jsx)(si.A,{className:"size-4"}),title:"Insert Video",tooltip:"Video"}};function s7(e){let{nodeType:t,...l}=e,a=s4[t],n=(0,s.Q_)(),[o,i]=z.useState(!1),[d,c]=z.useState(!1),[u,x]=z.useState(!1),m=()=>{x(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eQ,{onClick:()=>{m()},onKeyDown:e=>{"ArrowDown"===e.key&&(e.preventDefault(),i(!0))},pressed:o,children:[(0,r.jsx)(eU,{children:a.icon}),(0,r.jsxs)(ev,{modal:!1,onOpenChange:i,open:o,...l,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eW,{})}),(0,r.jsx)(ew,{align:"start",alignOffset:-32,onClick:e=>e.stopPropagation(),children:(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eC,{onSelect:()=>m(),children:[a.icon,"Upload from computer"]}),(0,r.jsxs)(eC,{onSelect:()=>c(!0),children:[(0,r.jsx)(sD.A,{}),"Insert via URL"]})]})})]})]}),u&&(0,r.jsx)(s3,{open:u,onClose:()=>x(!1),repo:"levenx-world",features:["delete","uploader","trash","selector"],selectLimit:100,source:"material-store",onSelect:e=>{n.getTransforms(lY.rD).insert.media(e)}}),(0,r.jsx)(sQ,{onOpenChange:e=>{c(e)},open:d,children:(0,r.jsx)(s$,{className:"gap-6",children:(0,r.jsx)(s8,{currentConfig:a,nodeType:t,setOpen:c})})})]})}function s8(e){let{currentConfig:t,nodeType:l,setOpen:a}=e,n=(0,s.Q_)(),[o,d]=z.useState(""),c=z.useCallback(()=>{if(!(0,sH.gU)(o))return sq.oR.error("Invalid URL");a(!1),n.tf.insertNodes({children:[{text:""}],name:l===i.t.file?o.split("/").pop():void 0,type:l,url:o})},[o,n,l,a]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(sG,{children:(0,r.jsx)(sZ,{children:t.title})}),(0,r.jsxs)(sY,{className:"group relative w-full",children:[(0,r.jsx)("label",{className:"-translate-y-1/2 absolute top-1/2 block cursor-text px-1 text-muted-foreground/70 text-sm transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:font-medium group-focus-within:text-foreground group-focus-within:text-xs has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground has-[+input:not(:placeholder-shown)]:text-xs",htmlFor:"url",children:(0,r.jsx)("span",{className:"inline-flex bg-background px-2",children:"URL"})}),(0,r.jsx)(s0,{autoFocus:!0,className:"w-full",id:"url",onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&c()},placeholder:"",type:"url",value:o})]}),(0,r.jsxs)(sK,{children:[(0,r.jsx)(sX,{children:"Cancel"}),(0,r.jsx)(sJ,{onClick:e=>{e.preventDefault(),c()},children:"Accept"})]})]})}var s6=l(84934),s9=l(3160);function ne(e){let t=(0,s.Q_)(),[l,a]=(0,s.x8)("readOnly"),[n,o]=z.useState(!1),i=(0,s.gO)(ld.I,"isSuggesting"),d="editing";l&&(d="viewing"),i&&(d="suggestion");let c={editing:{icon:(0,r.jsx)(s6.A,{}),label:"Editing"},suggestion:{icon:(0,r.jsx)(lc.A,{}),label:"Suggestion"},viewing:{icon:(0,r.jsx)(s9.A,{}),label:"Viewing"}};return(0,r.jsxs)(ev,{modal:!1,onOpenChange:o,open:n,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsxs)(eV,{isDropdown:!0,pressed:n,tooltip:"Editing mode",children:[c[d].icon,(0,r.jsx)("span",{className:"hidden lg:inline",children:c[d].label})]})}),(0,r.jsx)(ew,{align:"start",className:"min-w-[180px]",children:(0,r.jsxs)(eA,{onValueChange:e=>{"viewing"===e?a(!0):(a(!1),"suggestion"===e)?t.setOption(ld.I,"isSuggesting",!0):(t.setOption(ld.I,"isSuggesting",!1),"editing"===e&&t.tf.focus())},value:d,children:[(0,r.jsxs)(e_,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"editing",children:[(0,r.jsx)(nt,{}),c.editing.icon,c.editing.label]}),(0,r.jsxs)(e_,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"viewing",children:[(0,r.jsx)(nt,{}),c.viewing.icon,c.viewing.label]}),(0,r.jsxs)(e_,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"suggestion",children:[(0,r.jsx)(nt,{}),c.suggestion.icon,c.suggestion.label]})]})})]})}function nt(){return(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(eg.ly,{children:(0,r.jsx)(ef.A,{})})})}var nl=l(96372),na=l(59265),nr=l(17016);function ns(e){let t=(0,s.Q_)(),[l,a]=z.useState(!1);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:a,open:l,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{pressed:l,tooltip:"Insert",children:(0,r.jsx)(lA.A,{})})}),(0,r.jsx)(ew,{align:"start",className:"ignore-click-outside/toolbar flex max-h-[500px] min-w-[180px] flex-col overflow-y-auto",children:(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eC,{onSelect:()=>{t.tf.toggleMark(i.t.kbd),t.tf.collapse({edge:"end"}),t.tf.focus()},children:[(0,r.jsx)(nl.A,{}),"Keyboard input"]}),(0,r.jsxs)(eC,{onSelect:()=>{t.tf.toggleMark(i.t.sup,{remove:i.t.sub}),t.tf.focus()},children:[(0,r.jsx)(na.A,{}),"Superscript"]}),(0,r.jsxs)(eC,{onSelect:()=>{t.tf.toggleMark(i.t.sub,{remove:i.t.sup}),t.tf.focus()},children:[(0,r.jsx)(nr.A,{}),"Subscript"]})]})})]})}var nn=l(20468),no=l(10660),ni=l(38063),nd=l(43241),nc=l(90232),nu=l(48635);function nx(e){let t=(0,s.QR)(e=>e.api.some({match:{type:i.t.table}}),[]),{editor:l,tf:a}=(0,s.CF)(sg.AJ),[n,o]=z.useState(!1),d=(0,sg.NM)();return(0,r.jsxs)(ev,{modal:!1,onOpenChange:o,open:n,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{isDropdown:!0,pressed:n,tooltip:"Table",children:(0,r.jsx)(st.A,{})})}),(0,r.jsx)(ew,{align:"start",className:"flex w-[180px] min-w-0 flex-col",children:(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eB,{children:[(0,r.jsxs)(eE,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:[(0,r.jsx)(nn.A,{className:"size-4"}),(0,r.jsx)("span",{children:"Table"})]}),(0,r.jsx)(eD,{className:"m-0 p-0",children:(0,r.jsx)(nm,{})})]}),(0,r.jsxs)(eB,{children:[(0,r.jsxs)(eE,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:!t,children:[(0,r.jsx)("div",{className:"size-4"}),(0,r.jsx)("span",{children:"Cell"})]}),(0,r.jsxs)(eD,{children:[(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!d.canMerge,onSelect:()=>{a.table.merge(),l.tf.focus()},children:[(0,r.jsx)(no.A,{}),"Merge cells"]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!d.canSplit,onSelect:()=>{a.table.split(),l.tf.focus()},children:[(0,r.jsx)(ni.A,{}),"Split cell"]})]})]}),(0,r.jsxs)(eB,{children:[(0,r.jsxs)(eE,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:!t,children:[(0,r.jsx)("div",{className:"size-4"}),(0,r.jsx)("span",{children:"Row"})]}),(0,r.jsxs)(eD,{children:[(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.insert.tableRow({before:!0}),l.tf.focus()},children:[(0,r.jsx)(lz.A,{}),"Insert row before"]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.insert.tableRow(),l.tf.focus()},children:[(0,r.jsx)(nd.A,{}),"Insert row after"]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.remove.tableRow(),l.tf.focus()},children:[(0,r.jsx)(eu.A,{}),"Delete row"]})]})]}),(0,r.jsxs)(eB,{children:[(0,r.jsxs)(eE,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:!t,children:[(0,r.jsx)("div",{className:"size-4"}),(0,r.jsx)("span",{children:"Column"})]}),(0,r.jsxs)(eD,{children:[(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.insert.tableColumn({before:!0}),l.tf.focus()},children:[(0,r.jsx)(nc.A,{}),"Insert column before"]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.insert.tableColumn(),l.tf.focus()},children:[(0,r.jsx)(nu.A,{}),"Insert column after"]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.remove.tableColumn(),l.tf.focus()},children:[(0,r.jsx)(eu.A,{}),"Delete column"]})]})]}),(0,r.jsxs)(eC,{className:"min-w-[180px]",disabled:!t,onSelect:()=>{a.remove.table(),l.tf.focus()},children:[(0,r.jsx)(tR.A,{}),"Delete table"]})]})})]})}function nm(){let{editor:e,tf:t}=(0,s.CF)(sg.AJ),[l,a]=z.useState({grid:Array.from({length:8},()=>Array.from({length:8}).fill(0)),size:{colCount:0,rowCount:0}});return(0,r.jsxs)("div",{className:"flex! m-0 flex-col p-0",onClick:()=>{t.insert.table(l.size,{select:!0}),e.tf.focus()},role:"button",children:[(0,r.jsx)("div",{className:"grid size-[130px] grid-cols-8 gap-0.5 p-1",children:l.grid.map((e,t)=>e.map((e,s)=>(0,r.jsx)("div",{className:C("col-span-1 size-3 border border-solid bg-secondary",!!e&&"border-current"),onMouseMove:()=>{let e=[...l.grid];for(let l=0;l<e.length;l++)for(let a=0;a<e[l].length;a++)e[l][a]=+(l>=0&&l<=t&&a>=0&&a<=s);a({grid:e,size:{colCount:s+1,rowCount:t+1}})}},`(${t},${s})`)))}),(0,r.jsxs)("div",{className:"text-center text-current text-xs",children:[l.size.rowCount," x ",l.size.colCount]})]})}var nh=l(92317),np=l(54237);function ng(e){let t=(0,nh.Un)(),{props:l}=(0,nh.nk)(t);return(0,r.jsx)(eV,{...e,...l,tooltip:"Toggle",children:(0,r.jsx)(np.A,{})})}var nf=l(6518),nb=l(41109),nv=l(34412);let nj=[{icon:(0,r.jsx)(r8.A,{}),keywords:["paragraph"],label:"Text",value:i.t.p},{icon:(0,r.jsx)(r6.A,{}),keywords:["title","h1"],label:"Heading 1",value:"h1"},{icon:(0,r.jsx)(r9.A,{}),keywords:["subtitle","h2"],label:"Heading 2",value:"h2"},{icon:(0,r.jsx)(se.A,{}),keywords:["subtitle","h3"],label:"Heading 3",value:"h3"},{icon:(0,r.jsx)(nf.A,{}),keywords:["subtitle","h4"],label:"Heading 4",value:"h4"},{icon:(0,r.jsx)(nb.A,{}),keywords:["subtitle","h5"],label:"Heading 5",value:"h5"},{icon:(0,r.jsx)(nv.A,{}),keywords:["subtitle","h6"],label:"Heading 6",value:"h6"},{icon:(0,r.jsx)(sr.A,{}),keywords:["unordered","ul","-"],label:"Bulleted list",value:i.t.ul},{icon:(0,r.jsx)(ss.A,{}),keywords:["ordered","ol","1"],label:"Numbered list",value:i.t.ol},{icon:(0,r.jsx)(sn.A,{}),keywords:["checklist","task","checkbox","[]"],label:"To-do list",value:i.t.listTodo},{icon:(0,r.jsx)(D.A,{}),keywords:["collapsible","expandable"],label:"Toggle list",value:i.t.toggle},{icon:(0,r.jsx)(sl.A,{}),keywords:["```"],label:"Code",value:i.t.codeBlock},{icon:(0,r.jsx)(sa.A,{}),keywords:["citation","blockquote",">"],label:"Quote",value:i.t.blockquote},{icon:(0,r.jsx)(sc.A,{}),label:"3 columns",value:"action_three_columns"}];function ny(e){let t=(0,s.Q_)(),[l,a]=z.useState(!1),n=(0,$.$2)({defaultValue:i.t.p,getProp:e=>s_(e)}),o=z.useMemo(()=>nj.find(e=>e.value===(n??i.t.p))??nj[0],[n]);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:a,open:l,...e,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{className:"min-w-[125px]",isDropdown:!0,pressed:l,tooltip:"Turn into",children:o.label})}),(0,r.jsx)(ew,{align:"start",className:"ignore-click-outside/toolbar min-w-0",onCloseAutoFocus:e=>{e.preventDefault(),t.tf.focus()},children:(0,r.jsx)(eZ,{label:"Turn into",onValueChange:e=>{sA(t,e)},value:n,children:nj.map(e=>{let{icon:t,label:l,value:a}=e;return(0,r.jsxs)(e_,{className:"min-w-[180px] pl-2 *:first:[span]:hidden",value:a,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(eg.ly,{children:(0,r.jsx)(ef.A,{})})}),t,l]},a)})})})]})}function nw(){let e=(0,s.fu)();return console.log("readOnlyreadOnlyreadOnly:",e),(0,r.jsxs)("div",{className:"flex flex-wrap w-full",children:[!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eG,{children:[(0,r.jsx)(rX,{}),(0,r.jsx)(rJ,{})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(rD,{children:(0,r.jsx)(aD.A,{})}),(0,r.jsx)(r1,{})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(sz,{}),(0,r.jsx)(ny,{}),(0,r.jsx)(rK,{})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(sR,{nodeType:i.t.bold,tooltip:"Bold (⌘+B)",children:(0,r.jsx)(aO.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.italic,tooltip:"Italic (⌘+I)",children:(0,r.jsx)(aM.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.underline,tooltip:"Underline (⌘+U)",children:(0,r.jsx)(aT.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.strikethrough,tooltip:"Strikethrough (⌘+⇧+M)",children:(0,r.jsx)(aI.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.code,tooltip:"Code (⌘+E)",children:(0,r.jsx)(aF.A,{})}),(0,r.jsx)(rF,{nodeType:i.t.color,tooltip:"Text color",children:(0,r.jsx)(aL.A,{})}),(0,r.jsx)(rF,{nodeType:i.t.backgroundColor,tooltip:"Background color",children:(0,r.jsx)(aR.A,{})})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(aW,{}),(0,r.jsx)(sF,{}),(0,r.jsx)(sI,{}),(0,r.jsx)(sL,{}),(0,r.jsx)(ng,{})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(sO,{}),(0,r.jsx)(nx,{}),(0,r.jsx)(eY,{})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(s7,{nodeType:i.t.img}),(0,r.jsx)(s7,{nodeType:i.t.video}),(0,r.jsx)(s7,{nodeType:i.t.audio}),(0,r.jsx)(s7,{nodeType:i.t.file})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(sE,{}),(0,r.jsx)(r7,{}),(0,r.jsx)(r4,{})]}),(0,r.jsx)(eG,{children:(0,r.jsx)(ns,{})})]}),(0,r.jsx)("div",{className:"grow"}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(sR,{nodeType:i.t.highlight,tooltip:"Highlight",children:(0,r.jsx)(aP.A,{})}),(0,r.jsx)(a$,{})]}),(0,r.jsx)(eG,{children:(0,r.jsx)(ne,{})})]})}let nk=[(0,s.SU)({key:"fixed-toolbar",render:{beforeEditable:()=>(0,r.jsx)(aE,{children:(0,r.jsx)(nw,{})})}})];var nC=l(95417),nN=l(34743);function nA(e){let{children:t,className:l,state:a,...n}=e,o=(0,s.An)(),d=(0,s.cY)("focus"),c=!!(0,s.gO)({key:i.t.link},"mode"),u=(0,s.gO)({key:i.t.aiChat},"open"),x=(0,nC.s_)({editorId:o,focusedEditorId:d,hideToolbar:c||u,...a,floatingOptions:{middleware:[(0,nN.cY)(12),(0,nN.UU)({fallbackPlacements:["top-start","top-end","bottom-start","bottom-end"],padding:12})],placement:"top",...null==a?void 0:a.floatingOptions}}),{clickOutsideRef:m,hidden:h,props:p,ref:g}=(0,nC.V_)(x),f=(0,tF.rF)(n.ref,g);return h?null:(0,r.jsx)("div",{ref:m,children:(0,r.jsx)(eR,{...n,...p,className:C("scrollbar-hide absolute z-50 overflow-x-auto whitespace-nowrap rounded-md border bg-popover p-1 opacity-100 shadow-md print:hidden","max-w-[80vw]",l),ref:f,children:t})})}var n_=l(14379);function nS(e){let{api:t}=(0,s.CF)(S.WB);return(0,r.jsx)(eV,{...e,onClick:()=>{t.aiChat.show()},onMouseDown:e=>{e.preventDefault()}})}function nz(e){let t=(0,s.Q_)();return(0,r.jsx)(eV,{...e,onClick:()=>{(0,rx.r)(t)},tooltip:"Mark as equation",children:(0,r.jsx)(rh.A,{})})}function nB(){let{setOption:e}=(0,s.CF)(ld.I),t=(0,s.gO)(ld.I,"isSuggesting");return(0,r.jsx)(eV,{className:C(t&&"text-brand/80 hover:text-brand/80"),onClick:()=>e("isSuggesting",!t),onMouseDown:e=>e.preventDefault(),tooltip:t?"Turn off suggesting":"Suggestion edits",children:(0,r.jsx)(lc.A,{})})}function nE(){let e=(0,s.fu)();return(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eG,{children:(0,r.jsxs)(nS,{tooltip:"AI commands",children:[(0,r.jsx)(n_.A,{}),"Ask AI"]})}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(ny,{}),(0,r.jsx)(sR,{nodeType:i.t.bold,tooltip:"Bold (⌘+B)",children:(0,r.jsx)(aO.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.italic,tooltip:"Italic (⌘+I)",children:(0,r.jsx)(aM.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.underline,tooltip:"Underline (⌘+U)",children:(0,r.jsx)(aT.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.strikethrough,tooltip:"Strikethrough (⌘+⇧+M)",children:(0,r.jsx)(aI.A,{})}),(0,r.jsx)(sR,{nodeType:i.t.code,tooltip:"Code (⌘+E)",children:(0,r.jsx)(aF.A,{})}),(0,r.jsx)(nz,{}),(0,r.jsx)(sO,{})]})]}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(a$,{}),(0,r.jsx)(nB,{}),!e&&(0,r.jsx)(ns,{})]})]})}let nD=[(0,s.SU)({key:"floating-toolbar",render:{afterEditable:()=>(0,r.jsx)(nA,{children:(0,r.jsx)(nE,{})})}})],nO={inject:{targetPlugins:[i.t.p]}},nM=[o.kN.configure({inject:{...nO.inject,nodeProps:{defaultNodeValue:"black"}}}),o.o7.configure(nO),o.uL.configure(nO),o.dH.configure(nO)],nT=[o.pJ.configure({inject:{nodeProps:{defaultNodeValue:1.5,validNodeValues:[1,1.2,1.5,2,3]},targetPlugins:[...i.t.heading,i.t.p]}})];var nI=l(86398),nF=l(18931);let nL=(0,b.F)("z-50 w-auto rounded-md border bg-popover p-1 text-popover-foreground shadow-md outline-hidden"),nR=(0,b.F)("flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-transparent md:text-sm");function nP(e){let{state:t}=e,l=(0,s.gO)({key:i.t.comment},"activeId"),a=(0,s.gO)({key:i.t.suggestion},"activeId"),n=z.useMemo(()=>({middleware:[(0,nN.cY)(8),(0,nN.UU)({fallbackPlacements:["bottom-end","top-start","top-end"],padding:12})],placement:a||l?"top-start":"bottom-start"}),[l,a]),o=(0,sp.e)({...t,floatingOptions:{...n,...null==t?void 0:t.floatingOptions}}),{hidden:d,props:c,ref:u,textInputProps:x}=(0,sp.lj)(o),m=(0,sp.dX)({...t,floatingOptions:{...n,...null==t?void 0:t.floatingOptions}}),{editButtonProps:h,props:p,ref:g,unlinkButtonProps:f}=(0,sp.Ol)(m),b=(0,$.ao)({preventDefaultOnEnterKeydown:!0});if(d)return null;let v=(0,r.jsxs)("div",{className:"flex w-[330px] flex-col",...b,children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex items-center pr-1 pl-2 text-muted-foreground",children:(0,r.jsx)(sD.A,{className:"size-4"})}),(0,r.jsx)(sp.y6,{className:nR(),"data-plate-focus":!0,placeholder:"Paste link"})]}),(0,r.jsx)(eM,{className:"my-1"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex items-center pr-1 pl-2 text-muted-foreground",children:(0,r.jsx)(aH.A,{className:"size-4"})}),(0,r.jsx)("input",{className:nR(),"data-plate-focus":!0,placeholder:"Text to display",...x})]})]}),j=m.isEditing?v:(0,r.jsxs)("div",{className:"box-content flex items-center",children:[(0,r.jsx)("button",{className:J({size:"sm",variant:"ghost"}),type:"button",...h,children:"Edit link"}),(0,r.jsx)(eM,{orientation:"vertical"}),(0,r.jsx)(nH,{}),(0,r.jsx)(eM,{orientation:"vertical"}),(0,r.jsx)("button",{className:J({size:"sm",variant:"ghost"}),type:"button",...f,children:(0,r.jsx)(nI.A,{width:18})})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:nL(),ref:u,...c,children:v}),(0,r.jsx)("div",{className:nL(),ref:g,...p,children:j})]})}function nH(){let e=(0,s.Q_)(),t=(0,s.Hz)(),l=z.useMemo(()=>{let t=e.api.node({match:{type:e.getType(i.t.link)}});if(!t)return{};let[l]=t;return(0,rn.u)(e,l)},[e,t]);return(0,r.jsx)("a",{...l,"aria-label":"Open link in a new tab",className:J({size:"sm",variant:"ghost"}),onMouseOver:e=>{e.stopPropagation()},target:"_blank",children:(0,r.jsx)(nF.A,{width:18})})}let nq=[sp.Wh.configure({render:{node:function(e){let t=e.editor.getApi(ld.I).suggestion.suggestionData(e.element);return(0,r.jsx)(s.tc,{...e,as:"a",attributes:{...e.attributes,...(0,rn.u)(e.editor,e.element),onMouseOver:e=>{e.stopPropagation()}},className:C("font-medium text-primary underline decoration-primary underline-offset-4",(null==t?void 0:t.type)==="remove"&&"bg-red-100 text-red-700",(null==t?void 0:t.type)==="insert"&&"bg-emerald-100 text-emerald-700"),children:e.children})},afterEditable:()=>(0,r.jsx)(nP,{})}})],nV=[r2.WO.configure({inject:{targetPlugins:[...i.t.heading,i.t.p,i.t.blockquote,i.t.codeBlock,i.t.toggle,i.t.img]},options:{offset:24}})];var nQ=l(61914);function nU(e){let{className:t,...l}=e;return(0,r.jsx)(nQ.bL,{className:C("peer size-4 shrink-0 rounded-[4px] border border-input shadow-xs outline-none transition-shadow focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:bg-input/30 dark:data-[state=checked]:bg-primary dark:aria-invalid:ring-destructive/40",t),"data-slot":"checkbox",...l,children:(0,r.jsx)(nQ.C1,{className:"grid place-content-center text-current transition-none","data-slot":"checkbox-indicator",children:(0,r.jsx)(ef.A,{className:"size-3.5"})})})}let nW={todo:{Li:function(e){return(0,r.jsx)("li",{className:C("list-none",e.element.checked&&"text-muted-foreground line-through"),children:e.children})},Marker:function(e){let t=(0,sM.LL)({element:e.element}),{checkboxProps:l}=(0,sM.CK)(t),a=(0,y.cQ)();return(0,r.jsx)("div",{contentEditable:!1,children:(0,r.jsx)(nU,{className:C("-left-6 absolute top-1",a&&"pointer-events-none"),...l})})}}};function n$(e){let{listStart:t,listStyleType:l}=e.element,{Li:a,Marker:s}=nW[l]??{},n=(0,x.S)(e.element)?"ol":"ul";return(0,r.jsxs)(n,{className:"relative m-0 p-0",start:t,style:{listStyleType:l},children:[s&&(0,r.jsx)(s,{...e}),a?(0,r.jsx)(a,{...e}):(0,r.jsx)("li",{children:e.children})]})}let nG=[...nV,sM.Q0.configure({inject:{targetPlugins:[...i.t.heading,i.t.p,i.t.blockquote,i.t.codeBlock,i.t.toggle,i.t.img]},render:{belowNodes:e=>{if(e.element.listStyleType)return e=>(0,r.jsx)(n$,{...e})}}})];var nK=l(99123),nZ=l(12845);let nY=(0,tF.BI)(nZ.A)({propsHook:nK.cq}),nJ=e=>{let{className:t,isInline:l,open:a,setOpen:n,...o}=e,i=(0,s.Q_)(),d=(0,y.cQ)(),c=(0,s.iQ)();if(z.useEffect(()=>{l&&a&&n(!0)},[l,a,n]),d)return null;let u=()=>{n(!1),l?i.tf.select(c,{focus:!0,next:!0}):i.getApi(_.vO).blockSelection.set(c.id)};return(0,r.jsxs)(t_,{className:"flex gap-2",contentEditable:!1,onEscapeKeyDown:e=>{e.preventDefault()},children:[(0,r.jsx)(nY,{autoFocus:!0,className:C("max-h-[50vh] grow resize-none p-2 text-sm",t),state:{isInline:l,open:a,onClose:u},...o}),(0,r.jsxs)(X,{className:"px-3",onClick:u,variant:"secondary",children:["Done ",(0,r.jsx)(lm.A,{className:"size-3.5"})]})]})},nX=[nK.J_.withComponent(function(e){let t=e.element,l=z.useRef(null),a=(0,y.f7)(),n=(0,s.QR)(e=>e.api.isCollapsed(),[]),[o,i]=z.useState(a&&n);return z.useEffect(()=>{a&&n&&i(!0)},[a,n]),(0,nK.Kx)({element:t,katexRef:l,options:{displayMode:!0,errorColor:"#cc0000",fleqn:!1,leqno:!1,macros:{"\\f":"#1f(#2)"},output:"htmlAndMathml",strict:"warn",throwOnError:!1,trust:!1}}),(0,r.jsxs)(s.tc,{...e,className:C("mx-1 inline-block select-none rounded-sm [&_.katex-display]:my-0!"),children:[(0,r.jsxs)(tN,{modal:!1,onOpenChange:i,open:o,children:[(0,r.jsx)(tA,{asChild:!0,children:(0,r.jsxs)("div",{className:C('after:-top-0.5 after:-left-1 after:absolute after:inset-0 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[""]',"h-6",(t.texExpression.length>0&&o||a)&&"after:bg-brand/15",0===t.texExpression.length&&"text-muted-foreground after:bg-neutral-500/10"),contentEditable:!1,children:[(0,r.jsx)("span",{className:C(0===t.texExpression.length&&"hidden","font-mono leading-none"),ref:l}),0===t.texExpression.length&&(0,r.jsxs)("span",{children:[(0,r.jsx)(rh.A,{className:"mr-1 inline-block h-[19px] w-4 py-[1.5px] align-text-bottom"}),"New equation"]})]})}),(0,r.jsx)(nJ,{className:"my-auto",isInline:!0,open:o,placeholder:"E = mc^2",setOpen:i})]}),e.children]})}),nK.ii.withComponent(function(e){let t=(0,y.f7)(),[l,a]=z.useState(t),n=z.useRef(null);return(0,nK.Kx)({element:e.element,katexRef:n,options:{displayMode:!0,errorColor:"#cc0000",fleqn:!1,leqno:!1,macros:{"\\f":"#1f(#2)"},output:"htmlAndMathml",strict:"warn",throwOnError:!1,trust:!1}}),(0,r.jsxs)(s.tc,{className:"my-1",...e,children:[(0,r.jsxs)(tN,{modal:!1,onOpenChange:a,open:l,children:[(0,r.jsx)(tA,{asChild:!0,children:(0,r.jsx)("div",{className:C("group flex cursor-pointer select-none items-center justify-center rounded-sm hover:bg-primary/10 data-[selected=true]:bg-primary/10",0===e.element.texExpression.length?"bg-muted p-3 pr-9":"px-2 py-1"),contentEditable:!1,"data-selected":t,role:"button",children:e.element.texExpression.length>0?(0,r.jsx)("span",{ref:n}):(0,r.jsxs)("div",{className:"flex h-7 w-full items-center gap-2 whitespace-nowrap text-muted-foreground text-sm",children:[(0,r.jsx)(rh.A,{className:"size-6 text-muted-foreground/80"}),(0,r.jsx)("div",{children:"Add a Tex equation"})]})})}),(0,r.jsx)(nJ,{isInline:!1,open:l,placeholder:"f(x) = \\begin{cases}\n  x^2, &\\quad x > 0 \\\\\n  0, &\\quad x = 0 \\\\\n  -x^2, &\\quad x < 0\n\\end{cases}",setOpen:a})]}),e.children]})})];var n0=l(84375);let n1=(0,b.F)("max-w-full",{defaultVariants:{align:"center"},variants:{align:{center:"mx-auto",left:"mr-auto",right:"ml-auto"}}});function n2(e){let{align:t,className:l,...a}=e;return(0,r.jsx)(n0.HL,{...a,className:C(n1({align:t}),l)})}function n5(e){return(0,r.jsx)(n0.pJ,{...e,className:C("mt-2 w-full resize-none border-none bg-inherit p-0 font-[inherit] text-inherit","focus:outline-none focus:[&::placeholder]:opacity-0","text-center print:placeholder:text-transparent",e.className)})}let n3=(0,tF.BI)(X)({propsHook:n0.gs,stateHook:n0.To}),n4=(0,s.Xf)(tI.vu,function(e){let{align:t="center",readOnly:l,unsafeUrl:a}=(0,lY.nV)();return(0,r.jsxs)(s.tc,{...e,className:"mb-1",children:[(0,r.jsxs)("figure",{className:"group relative cursor-default",contentEditable:!1,children:[(0,r.jsx)("div",{className:"h-16",children:(0,r.jsx)("audio",{className:"size-full",controls:!0,src:a})}),(0,r.jsx)(n2,{align:t,style:{width:"100%"},children:(0,r.jsx)(n5,{className:"h-20",placeholder:"Write a caption...",readOnly:l})})]}),e.children]})});var n7=l(77833),n8=l(27856);let n6=(0,b.F)("flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-transparent md:text-sm");function n9(e){let{children:t,plugin:l}=e,a=(0,s.Q_)(),n=(0,y.cQ)(),o=(0,y.f7)(),i=(0,s.hc)(),d=(0,s.QR)(e=>!e.api.isExpanded(),[]),c=(0,lY.eo)("isOpen",a.id),u=i&&!n&&o&&d&&!c,x=(0,lY.d5)("isEditing");z.useEffect(()=>{!u&&x&&lY.Gt.set("isEditing",!1)},[u]);let m=(0,s.iQ)(),{props:h}=(0,$.W6)({element:m});return(0,r.jsxs)(tN,{modal:!1,open:u,children:[(0,r.jsx)(tS,{children:t}),(0,r.jsx)(t_,{className:"w-auto p-1",onOpenAutoFocus:e=>e.preventDefault(),children:x?(0,r.jsx)("div",{className:"flex w-[330px] flex-col",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex items-center pr-1 pl-2 text-muted-foreground",children:(0,r.jsx)(sD.A,{className:"size-4"})}),(0,r.jsx)(lY.xG.UrlInput,{className:n6(),options:{plugin:l},placeholder:"Paste the embed link..."})]})}):(0,r.jsxs)("div",{className:"box-content flex items-center",children:[(0,r.jsx)(lY.xG.EditButton,{className:J({size:"sm",variant:"ghost"}),children:"Edit link"}),(0,r.jsx)(n3,{size:"sm",variant:"ghost",children:"Caption"}),(0,r.jsx)(eM,{className:"mx-1 h-6",orientation:"vertical"}),(0,r.jsx)(X,{size:"sm",variant:"ghost",...h,children:(0,r.jsx)(tR.A,{})})]})})]})}let oe=(0,b.F)(C("top-0 flex w-6 select-none flex-col justify-center","after:flex after:h-16 after:w-[3px] after:rounded-[6px] after:bg-ring after:opacity-0 after:content-['_'] group-hover:after:opacity-100"),{variants:{direction:{left:"-left-3 -ml-3 pl-3",right:"-right-3 -mr-3 items-end pr-3"}}}),ot=(0,b.F)("absolute z-40",{variants:{direction:{bottom:"w-full cursor-row-resize",left:"h-full cursor-col-resize",right:"h-full cursor-col-resize",top:"w-full cursor-row-resize"}}});function ol(e){let{className:t,options:l,...a}=e,s=(0,tI.rw)(l??{}),n=(0,tI.ud)(s);return s.readOnly?null:(0,r.jsx)("div",{className:C(ot({direction:null==l?void 0:l.direction}),t),"data-resizing":s.isResizing,...n.props,...a})}let oa=(0,b.F)("",{variants:{align:{center:"mx-auto",left:"mr-auto",right:"ml-auto"}}});function or(e){let{align:t,className:l,...a}=e;return(0,r.jsx)(tI.cM,{...a,className:C(oa({align:t}),l)})}let os=(0,s.Xf)(tI.vu,function(e){let{align:t="center",embed:l,focused:a,isTweet:n,isVideo:o,isYoutube:i,readOnly:d,selected:c}=(0,lY.nV)({urlParsers:[rf.d,rf.u]}),u=(0,tI.u5)("width"),x=null==l?void 0:l.provider;return(0,r.jsx)(n9,{plugin:lY.Nf,children:(0,r.jsxs)(s.tc,{className:"py-2.5",...e,children:[(0,r.jsxs)("figure",{className:"group relative m-0 w-full cursor-default",contentEditable:!1,children:[(0,r.jsxs)(or,{align:t,options:{align:t,maxWidth:n?550:"100%",minWidth:n?300:100},children:[(0,r.jsx)(ol,{className:oe({direction:"left"}),options:{direction:"left"}}),o?i?(0,r.jsx)(n7.Ay,{id:l.id,title:"youtube",wrapperClass:C("rounded-sm",a&&c&&"ring-2 ring-ring ring-offset-2","relative block cursor-pointer bg-black bg-center bg-cover [contain:content]","[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]","[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]",'after:block after:pb-[var(--aspect-ratio)] after:content-[""]',"[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full","[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]","[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100",'[&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:content-[""]',"[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]","[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]","[&.lyt-activated]:cursor-[unset]","[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0","[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!")}):(0,r.jsx)("div",{className:C("vimeo"===x&&"pb-[75%]","youku"===x&&"pb-[56.25%]","dailymotion"===x&&"pb-[56.0417%]","coub"===x&&"pb-[51.25%]"),children:(0,r.jsx)("iframe",{allowFullScreen:!0,className:C("absolute top-0 left-0 size-full rounded-sm",o&&"border-0",a&&c&&"ring-2 ring-ring ring-offset-2"),src:l.url,title:"embed"})}):null,n&&(0,r.jsx)("div",{className:C("[&_.react-tweet-theme]:my-0",!d&&c&&"[&_.react-tweet-theme]:ring-2 [&_.react-tweet-theme]:ring-ring [&_.react-tweet-theme]:ring-offset-2"),children:(0,r.jsx)(n8.Y,{id:l.id})}),(0,r.jsx)(ol,{className:oe({direction:"right"}),options:{direction:"right"}})]}),(0,r.jsx)(n2,{align:t,style:{width:u},children:(0,r.jsx)(n5,{placeholder:"Write a caption..."})})]}),e.children]})})}),on=(0,s.Xf)(tI.vu,function(e){let t=(0,y.cQ)(),{name:l,unsafeUrl:a}=(0,lY.nV)();return(0,r.jsxs)(s.tc,{className:"my-px rounded-sm",...e,children:[(0,r.jsxs)("a",{className:"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted",contentEditable:!1,download:l,href:a,rel:"noopener noreferrer",role:"button",target:"_blank",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1",children:[(0,r.jsx)(rb.A,{className:"size-5"}),(0,r.jsx)("div",{children:l})]}),(0,r.jsx)(n2,{align:"left",children:(0,r.jsx)(n5,{className:"text-left",placeholder:"Write a caption...",readOnly:t})})]}),e.children]})}),oo=(0,s.Xf)(tI.vu,function(e){let{align:t="center",focused:l,readOnly:a,selected:n}=(0,lY.nV)(),o=(0,tI.u5)("width"),{isDragging:i,handleRef:d}=(0,V.PM)({element:e.element});return(0,r.jsx)(n9,{plugin:lY.rn,children:(0,r.jsxs)(s.tc,{...e,className:"py-2.5",children:[(0,r.jsxs)("figure",{className:"group relative m-0",contentEditable:!1,children:[(0,r.jsxs)(or,{align:t,options:{align:t,readOnly:a},children:[(0,r.jsx)(ol,{className:oe({direction:"left"}),options:{direction:"left"}}),(0,r.jsx)(lY._V,{alt:e.attributes.alt,className:C("block w-full max-w-full cursor-pointer object-cover px-0","rounded-sm",l&&n&&"ring-2 ring-ring ring-offset-2",i&&"opacity-50"),ref:d}),(0,r.jsx)(ol,{className:oe({direction:"right"}),options:{direction:"right"}})]}),(0,r.jsx)(n2,{align:t,style:{width:o},children:(0,r.jsx)(n5,{onFocus:e=>{e.preventDefault()},placeholder:"Write a caption...",readOnly:a})})]}),e.children]})})});var oi=l(8723),od=l(75616),oc=l(75370);let{uploadFiles:ou,useUploadThing:ox}=(0,od.KB)(),om=null==s5?void 0:s5.createLazyComponent({loader:()=>s5.loadRemote("material_module/material-uploader"),loading:"",fallback:e=>{let{error:t}=e;return(console.log("error:errorerrorerror",t),t instanceof Error&&t.message.includes("not exist"))?(0,r.jsx)("div",{children:"fallback - not existed id"}):(0,r.jsx)("div",{children:"fallback"})}}),oh={[i.t.audio]:{accept:["audio/*"],content:"Add an audio file",icon:(0,r.jsx)(sP.A,{})},[i.t.file]:{accept:["*"],content:"Add a file",icon:(0,r.jsx)(rb.A,{})},[i.t.img]:{accept:["image/*"],content:"Add an image",icon:(0,r.jsx)(so.A,{})},[i.t.video]:{accept:["video/*"],content:"Add a video",icon:(0,r.jsx)(si.A,{})}},op=(0,s.Xf)(lY.Rh,function(e){let{editor:t,element:l}=e,{api:a}=(0,s.CF)(lY.rD),{isUploading:n,progress:o,uploadedFile:d,uploadFile:c,uploadingFile:u}=function(){let{onUploadComplete:e,onUploadError:t,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,r]=z.useState(),[s,n]=z.useState(),[o,i]=z.useState(0),[d,c]=z.useState(!1);return{isUploading:d,progress:o,uploadedFile:a,uploadFile:async function(l){c(!0),n(l);try{let t={key:"mock-key-0",appUrl:"https://cdn.jsdelivr.net/gh/levenx/public-resource/images/yw4bf32djhsuscuzifa676leua2sihin.webp",name:l.name,size:l.size,type:l.type,url:"https://cdn.jsdelivr.net/gh/levenx/public-resource/images/yw4bf32djhsuscuzifa676leua2sihin.webp"};return r(t),null==e||e(t),t}catch(c){var a;let e=(a=c)instanceof oc.ZodError?a.issues.map(e=>e.message).join("\n"):a instanceof Error?a.message:"Something went wrong, please try again later.",s=e.length>0?e:"Something went wrong, please try again later.";sq.oR.error(s),null==t||t(c);let n={key:"mock-key-0",appUrl:`https://mock-app-url.com/${l.name}`,name:l.name,size:l.size,type:l.type,url:URL.createObjectURL(l)},o=0,d=async()=>{for(;o<100;)await new Promise(e=>setTimeout(e,50)),i(Math.min(o+=2,100))};return await d(),r(n),n}finally{i(0),c(!1),n(void 0)}},uploadingFile:s}}(),x=n&&u,m=oh[l.mediaType],h=l.mediaType===i.t.img,p=z.useRef(null),{openFilePicker:g}=(0,r0.g)({accept:m.accept,multiple:!0,onFilesSelected:e=>{let{plainFiles:l}=e,a=l[0],r=l.slice(1);f(a),r.length>0&&t.getTransforms(lY.rD).insert.media(r)}}),f=z.useCallback(e=>{console.log("file:",e);let a=t.api.findPath(l);t.tf.withoutSaving(()=>{var r,s;t.tf.removeNodes({at:a}),console.log(" element.mediaType:",l.mediaType);let n={children:[{text:""}],initialHeight:null==(r=p.current)?void 0:r.height,initialWidth:null==(s=p.current)?void 0:s.width,isUpload:!0,name:l.mediaType===i.t.file?e.fileName:"",placeholderId:l.id,type:"img",url:`${e.prefix}/${e.fileKey}`};t.tf.insertNodes(n,{at:a}),(0,lY.F1)(t,n)})},[t,l]);z.useEffect(()=>{if(!d)return;let e=t.api.findPath(l);t.tf.withoutSaving(()=>{var a,r;t.tf.removeNodes({at:e});let s={children:[{text:""}],initialHeight:null==(a=p.current)?void 0:a.height,initialWidth:null==(r=p.current)?void 0:r.width,isUpload:!0,name:l.mediaType===i.t.file?d.name:"",placeholderId:l.id,type:l.mediaType,url:d.url};t.tf.insertNodes(s,{at:e}),(0,lY.F1)(t,s)}),a.placeholder.removeUploadingFile(l.id)},[d,l.id]);let b=z.useRef(!1),[v,j]=z.useState(!1),[y,w]=z.useState([]);return z.useEffect(()=>{if(b.current)return;b.current=!0;let e=a.placeholder.getUploadingFile(l.id);e&&(w(t=>[...t,e]),j(!0))},[b]),(0,r.jsxs)(s.tc,{className:"my-1",...e,children:[(!x||!h)&&(0,r.jsxs)("div",{className:C("flex cursor-pointer select-none items-center rounded-sm bg-muted p-3 pr-9 hover:bg-primary/10"),contentEditable:!1,onClick:()=>!x&&g(),children:[(0,r.jsx)("div",{className:"relative mr-3 flex text-muted-foreground/80 [&_svg]:size-6",children:m.icon}),(0,r.jsxs)("div",{className:"whitespace-nowrap text-muted-foreground text-sm",children:[(0,r.jsx)("div",{children:x?null==u?void 0:u.name:m.content}),x&&!h&&(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-1.5",children:[(0,r.jsx)("div",{children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{decimals:l=0,sizeType:a="normal"}=t;if(0===e)return"0 Byte";let r=Math.floor(Math.log(e)/Math.log(1024));return`${(e/1024**r).toFixed(l)} ${"accurate"===a?["Bytes","KiB","MiB","GiB","TiB"][r]??"Bytest":["Bytes","KB","MB","GB","TB"][r]??"Bytes"}`}((null==u?void 0:u.size)??0)}),(0,r.jsx)("div",{children:"–"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(oi.A,{className:"mr-1 size-3.5 animate-spin text-muted-foreground"}),o??0,"%"]})]})]})]}),h&&x&&(0,r.jsx)(og,{file:u,imageRef:p,progress:o}),e.children,v&&(0,r.jsx)(om,{repo:"levenx-world",open:v,onClose:e=>{j(!1),w([]),e&&f(null==e?void 0:e[0])},defaultImages:y})]})});function og(e){let{className:t,file:l,imageRef:a,progress:s=0}=e,[n,o]=z.useState(null);return(z.useEffect(()=>{let e=URL.createObjectURL(l);return o(e),()=>{URL.revokeObjectURL(e)}},[l]),n)?(0,r.jsxs)("div",{className:C("relative",t),contentEditable:!1,children:[(0,r.jsx)("img",{alt:l.name,className:"h-auto w-full rounded-sm object-cover",ref:a,src:n}),s<100&&(0,r.jsxs)("div",{className:"absolute right-1 bottom-1 flex items-center space-x-2 rounded-full bg-black/50 px-1 py-0.5",children:[(0,r.jsx)(oi.A,{className:"size-3.5 animate-spin text-muted-foreground"}),(0,r.jsxs)("span",{className:"font-medium text-white text-xs",children:[Math.round(s),"%"]})]})]}):null}var of=l(48309);let ob=(0,b.F)("rounded bg-[rgba(0,0,0,0.5)] px-1",{defaultVariants:{variant:"default"},variants:{variant:{default:"text-white",disabled:"cursor-not-allowed text-gray-400"}}});function ov(e){let{props:t,ref:l}=(0,lY.mh)();return(0,r.jsx)("input",{...t,...e,ref:l})}var oj=l(6041);let oy=(0,s.Xf)(tI.vu,function(e){let{align:t="center",embed:l,isUpload:a,isYoutube:n,readOnly:o,unsafeUrl:i}=(0,lY.nV)({urlParsers:[rf.d,rf.u]}),d=(0,tI.u5)("width"),c=(0,s.Lo)(),{isDragging:u,handleRef:x}=(0,V.PM)({element:e.element});return(0,r.jsxs)(s.tc,{className:"py-2.5",...e,children:[(0,r.jsxs)("figure",{className:"relative m-0 cursor-default",contentEditable:!1,children:[(0,r.jsx)(or,{align:t,className:C(u&&"opacity-50"),options:{align:t,maxWidth:550,minWidth:300,readOnly:o},children:(0,r.jsxs)("div",{className:"group/media",children:[(0,r.jsx)(ol,{className:oe({direction:"left"}),options:{direction:"left"}}),(0,r.jsx)(ol,{className:oe({direction:"right"}),options:{direction:"right"}}),!a&&n&&(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(n7.Ay,{id:l.id,title:"youtube",wrapperClass:C("aspect-video rounded-sm","relative block cursor-pointer bg-black bg-center bg-cover [contain:content]","[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]","[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]",'after:block after:pb-[var(--aspect-ratio)] after:content-[""]',"[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full","[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]","[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100",'[&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:content-[""]',"[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]","[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]","[&.lyt-activated]:cursor-[unset]","[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0","[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!")})}),a&&c&&(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(oj.A,{controls:!0,height:"100%",src:i,width:"100%"})})]})}),(0,r.jsx)(n2,{align:t,style:{width:d},children:(0,r.jsx)(n5,{placeholder:"Write a caption...",readOnly:o})})]}),e.children]})}),ow=[lY.rn.configure({options:{disableUploadInsert:!0},render:{afterEditable:function(){let e=(0,s.Q_)(),t=(0,lY.eo)("isOpen",e.id),l=(0,lY.eo)("scale"),a=(0,lY.eo)("isEditingScale"),{closeProps:n,currentUrlIndex:o,maskLayerProps:i,nextDisabled:d,nextProps:c,prevDisabled:u,prevProps:x,scaleTextProps:m,zommOutProps:h,zoomInDisabled:p,zoomInProps:g,zoomOutDisabled:f}=(0,lY.X)({scrollSpeed:4});return(0,r.jsxs)("div",{className:C("fixed top-0 left-0 z-50 h-screen w-screen select-none",!t&&"hidden"),onContextMenu:e=>e.stopPropagation(),...i,children:[(0,r.jsx)("div",{className:"absolute inset-0 size-full bg-black opacity-30"}),(0,r.jsx)("div",{className:"absolute inset-0 size-full bg-black opacity-30"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative flex max-h-screen w-full items-center",children:[(0,r.jsx)(lY._,{className:C("mx-auto block max-h-[calc(100vh-4rem)] w-auto object-contain transition-transform")}),(0,r.jsxs)("div",{className:"-translate-x-1/2 absolute bottom-0 left-1/2 z-40 flex w-fit justify-center gap-4 p-2 text-center text-white",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("button",{...x,className:C(ob({variant:u?"disabled":"default"})),type:"button",children:(0,r.jsx)(nc.A,{})}),(o??0)+1,(0,r.jsx)("button",{...c,className:C(ob({variant:d?"disabled":"default"})),type:"button",children:(0,r.jsx)(nu.A,{})})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{className:C(ob({variant:f?"disabled":"default"})),...h,type:"button",children:(0,r.jsx)(rW.A,{className:"size-4"})}),(0,r.jsx)("div",{className:"mx-px",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ov,{className:"w-10 rounded px-1 text-slate-500 outline"})," ",(0,r.jsx)("span",{children:"%"})]}):(0,r.jsx)("span",{...m,children:`${100*l}%`})}),(0,r.jsx)("button",{className:C(ob({variant:p?"disabled":"default"})),...g,type:"button",children:(0,r.jsx)(rI.A,{className:"size-4"})})]}),(0,r.jsx)("button",{className:C(ob()),type:"button",children:(0,r.jsx)(of.A,{className:"size-4"})}),(0,r.jsx)("button",{...n,className:C(ob()),type:"button",children:(0,r.jsx)(eu.A,{className:"size-4"})})]})]})})]})},node:oo}}),lY.Nf.withComponent(os),lY.hr.withComponent(oy),lY.wM.withComponent(n4),lY.Mt.withComponent(on),lY.rD.configure({options:{disableEmptyPlaceholder:!0},render:{afterEditable:function(){let e;return e=(0,s.gO)(lY.rD,"error"),z.useEffect(()=>{if(!e)return;let{code:t,data:l}=e;switch(t){case lY.T8.INVALID_FILE_SIZE:sq.oR.error(`The size of files ${l.files.map(e=>e.name).join(", ")} is invalid`);break;case lY.T8.INVALID_FILE_TYPE:sq.oR.error(`The type of files ${l.files.map(e=>e.name).join(", ")} is invalid`);break;case lY.T8.TOO_LARGE:sq.oR.error(`The size of files ${l.files.map(e=>e.name).join(", ")} is too large than ${l.maxFileSize}`);break;case lY.T8.TOO_LESS_FILES:sq.oR.error(`The mini um number of files is ${l.minFileCount} for ${l.fileType}`);break;case lY.T8.TOO_MANY_FILES:sq.oR.error(`The maximum number of files is ${l.maxFileCount} ${l.fileType?`for ${l.fileType}`:""}`)}},[e]),null},node:op}}),n0._p.configure({options:{query:{allow:[i.t.img,i.t.video,i.t.audio,i.t.file,i.t.mediaEmbed]}}})];var ok=l(87351);let oC=(0,l(85255).li)(),oN=[{key:"0",text:"Aayla Secura"},{key:"1",text:"Adi Gallia"},{key:"2",text:"Admiral Dodd Rancit"},{key:"3",text:"Admiral Firmus Piett"},{key:"4",text:"Admiral Gial Ackbar"},{key:"5",text:"Admiral Ozzel"},{key:"6",text:"Admiral Raddus"},{key:"7",text:"Admiral Terrinald Screed"},{key:"8",text:"Admiral Trench"},{key:"9",text:"Admiral U.O. Statura"},{key:"10",text:"Agen Kolar"},{key:"11",text:"Agent Kallus"},{key:"12",text:"Aiolin and Morit Astarte"},{key:"13",text:"Aks Moe"},{key:"14",text:"Almec"},{key:"15",text:"Alton Kastle"},{key:"16",text:"Amee"},{key:"17",text:"AP-5"},{key:"18",text:"Armitage Hux"},{key:"19",text:"Artoo"},{key:"20",text:"Arvel Crynyd"},{key:"21",text:"Asajj Ventress"},{key:"22",text:"Aurra Sing"},{key:"23",text:"AZI-3"},{key:"24",text:"Bala-Tik"},{key:"25",text:"Barada"},{key:"26",text:"Bargwill Tomder"},{key:"27",text:"Baron Papanoida"},{key:"28",text:"Barriss Offee"},{key:"29",text:"Baze Malbus"},{key:"30",text:"Bazine Netal"},{key:"31",text:"BB-8"},{key:"32",text:"BB-9E"},{key:"33",text:"Ben Quadinaros"},{key:"34",text:"Berch Teller"},{key:"35",text:"Beru Lars"},{key:"36",text:"Bib Fortuna"},{key:"37",text:"Biggs Darklighter"},{key:"38",text:"Black Krrsantan"},{key:"39",text:"Bo-Katan Kryze"},{key:"40",text:"Boba Fett"},{key:"41",text:"Bobbajo"},{key:"42",text:"Bodhi Rook"},{key:"43",text:"Borvo the Hutt"},{key:"44",text:"Boss Nass"},{key:"45",text:"Bossk"},{key:"46",text:"Breha Antilles-Organa"},{key:"47",text:"Bren Derlin"},{key:"48",text:"Brendol Hux"},{key:"49",text:"BT-1"}],oA=[ok.I.configure({options:{triggerPreviousCharPattern:/^$|^[\s"']$/}}).withComponent(function(e){let t=e.element,l=(0,y.f7)(),a=(0,y.zL)(),n=function(){let[e,t]=z.useState(!1);return z.useEffect(()=>{t(!0)},[]),e}(),o=(0,y.cQ)();return(0,r.jsx)(s.tc,{...e,attributes:{...e.attributes,contentEditable:!1,"data-slate-value":t.value,draggable:!0},className:C("inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline font-medium text-sm",!o&&"cursor-pointer",l&&a&&"ring-2 ring-ring",!0===t.children[0][i.t.bold]&&"font-bold",!0===t.children[0][i.t.italic]&&"italic",!0===t.children[0][i.t.underline]&&"underline"),children:n&&sH.sY?(0,r.jsxs)(r.Fragment,{children:[e.children,e.prefix,t.value]}):(0,r.jsxs)(r.Fragment,{children:[e.prefix,t.value,e.children]})})}),ok.W.withComponent(function(e){let{editor:t,element:l}=e,[a,n]=z.useState("");return(0,r.jsxs)(s.tc,{...e,as:"span",children:[(0,r.jsxs)(aj,{element:l,setValue:n,showTrigger:!1,trigger:"@",value:a,children:[(0,r.jsx)("span",{className:"inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm ring-ring focus-within:ring-2",children:(0,r.jsx)(ay,{})}),(0,r.jsxs)(aw,{className:"my-1.5",children:[(0,r.jsx)(aN,{children:"No results"}),(0,r.jsx)(aA,{children:oN.map(e=>(0,r.jsx)(aC,{onClick:()=>oC(t,e,a),value:e.text,children:e.text},e.key))})]})]}),e.children]})})];var o_=l(78498),oS=l(46110);let oz=[{group:"AI",items:[{focusEditor:!1,icon:(0,r.jsx)(oS.A,{}),value:"AI",onSelect:e=>{e.getApi(S.WB).aiChat.show()}}]},{group:"Basic blocks",items:[{icon:(0,r.jsx)(r8.A,{}),keywords:["paragraph"],label:"Text",value:i.t.p},{icon:(0,r.jsx)(r6.A,{}),keywords:["title","h1"],label:"Heading 1",value:i.t.h1},{icon:(0,r.jsx)(r9.A,{}),keywords:["subtitle","h2"],label:"Heading 2",value:i.t.h2},{icon:(0,r.jsx)(se.A,{}),keywords:["subtitle","h3"],label:"Heading 3",value:i.t.h3},{icon:(0,r.jsx)(sr.A,{}),keywords:["unordered","ul","-"],label:"Bulleted list",value:i.t.ul},{icon:(0,r.jsx)(ss.A,{}),keywords:["ordered","ol","1"],label:"Numbered list",value:i.t.ol},{icon:(0,r.jsx)(sn.A,{}),keywords:["checklist","task","checkbox","[]"],label:"To-do list",value:i.t.listTodo},{icon:(0,r.jsx)(D.A,{}),keywords:["collapsible","expandable"],label:"Toggle",value:i.t.toggle},{icon:(0,r.jsx)(aF.A,{}),keywords:["```"],label:"Code Block",value:i.t.codeBlock},{icon:(0,r.jsx)(st.A,{}),label:"Table",value:i.t.table},{icon:(0,r.jsx)(sa.A,{}),keywords:["citation","blockquote","quote",">"],label:"Blockquote",value:i.t.blockquote},{description:"Insert a highlighted block.",icon:(0,r.jsx)(ei.A,{}),keywords:["note"],label:"Callout",value:i.t.callout}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t,{upsert:!0})}}))},{group:"Advanced blocks",items:[{icon:(0,r.jsx)(sd.A,{}),keywords:["toc"],label:"Table of contents",value:i.t.toc},{icon:(0,r.jsx)(sc.A,{}),label:"3 columns",value:"action_three_columns"},{focusEditor:!1,icon:(0,r.jsx)(rh.A,{}),label:"Equation",value:i.t.equation},{icon:(0,r.jsx)(su.A,{}),keywords:["excalidraw"],label:"Excalidraw",value:i.t.excalidraw}].map(e=>({...e,onSelect:(e,t)=>{sw(e,t,{upsert:!0})}}))},{group:"Inline",items:[{focusEditor:!0,icon:(0,r.jsx)(sm.A,{}),keywords:["time"],label:"Date",value:i.t.date},{focusEditor:!1,icon:(0,r.jsx)(rh.A,{}),label:"Inline Equation",value:i.t.inlineEquation}].map(e=>({...e,onSelect:(e,t)=>{sk(e,t)}}))}],oB=[o_.f.configure({options:{triggerQuery:e=>!e.api.some({match:{type:e.getType(i.t.codeBlock)}})}}),o_.R.withComponent(function(e){let{editor:t,element:l}=e;return(0,r.jsxs)(s.tc,{...e,as:"span",children:[(0,r.jsxs)(aj,{element:l,trigger:"/",children:[(0,r.jsx)(ay,{}),(0,r.jsxs)(aw,{children:[(0,r.jsx)(aN,{children:"No results"}),oz.map(e=>{let{group:l,items:a}=e;return(0,r.jsxs)(aA,{children:[(0,r.jsx)(a_,{children:l}),a.map(e=>{let{focusEditor:a,icon:s,keywords:n,label:o,value:i,onSelect:d}=e;return(0,r.jsxs)(aC,{focusEditor:a,group:l,keywords:n,label:o,onClick:()=>d(t,i),value:i,children:[(0,r.jsx)("div",{className:"mr-2 text-muted-foreground",children:s}),o??i]},i)})]},l)})]})]}),e.children]})})];var oE=l(29073),oD=l(53912),oO=l(61052);function oM(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border All"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H14C14.4142 0.25 14.75 0.585786 14.75 1V14C14.75 14.4142 14.4142 14.75 14 14.75H1C0.585786 14.75 0.25 14.4142 0.25 14V1ZM1.75 1.75V13.25H13.25V1.75H1.75Z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"11"})]})}function oT(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border Bottom"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M1 13.25L14 13.25V14.75L1 14.75V13.25Z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"11"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"11"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"11"})]})}function oI(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border Left"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M1.75 1L1.75 14L0.249999 14L0.25 1L1.75 1Z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 10 7)",width:"1",x:"10",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 10 13)",width:"1",x:"10",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 12 7)",width:"1",x:"12",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 12 13)",width:"1",x:"12",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 7)",width:"1",x:"8",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 7)",width:"1",x:"14",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 13)",width:"1",x:"8",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 13)",width:"1",x:"14",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 5)",width:"1",x:"8",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 5)",width:"1",x:"14",y:"5"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 3)",width:"1",x:"8",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 3)",width:"1",x:"14",y:"3"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 9)",width:"1",x:"8",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 9)",width:"1",x:"14",y:"9"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 11)",width:"1",x:"8",y:"11"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 11)",width:"1",x:"14",y:"11"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 6 7)",width:"1",x:"6",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 6 13)",width:"1",x:"6",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 4 7)",width:"1",x:"4",y:"7"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 4 13)",width:"1",x:"4",y:"13"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 10 1)",width:"1",x:"10",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 12 1)",width:"1",x:"12",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 8 1)",width:"1",x:"8",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 14 1)",width:"1",x:"14",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 6 1)",width:"1",x:"6",y:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(90 4 1)",width:"1",x:"4",y:"1"})]})}function oF(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border None"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"5.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"5.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"3.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"3.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"5",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"3",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"9",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"11",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"9.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"9.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"7",y:"11.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"13",y:"11.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"5.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"3.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"7.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"13.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"1.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"9.025"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",width:"1",x:"1",y:"11.025"})]})}function oL(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border Right"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M13.25 1L13.25 14L14.75 14L14.75 1L13.25 1Z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 5 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 5 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 3 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 3 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 5)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 5)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 3)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 3)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 9)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 9)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 11)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 11)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 9 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 9 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 11 7)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 11 13)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 5 1)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 3 1)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 7 1)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 1 1)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 9 1)",width:"1"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"matrix(0 1 1 0 11 1)",width:"1"})]})}function oR(e){return(0,r.jsxs)("svg",{fill:"none",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("title",{children:"Border Top"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M14 1.75L1 1.75L1 0.249999L14 0.25L14 1.75Z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 10)",width:"1",x:"8",y:"10"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 10)",width:"1",x:"2",y:"10"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 12)",width:"1",x:"8",y:"12"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 12)",width:"1",x:"2",y:"12"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 8)",width:"1",x:"8",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 14)",width:"1",x:"8",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 8)",width:"1",x:"2",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 14)",width:"1",x:"2",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 10 8)",width:"1",x:"10",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 10 14)",width:"1",x:"10",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 12 8)",width:"1",x:"12",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 12 14)",width:"1",x:"12",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 6 8)",width:"1",x:"6",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 6 14)",width:"1",x:"6",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 4 8)",width:"1",x:"4",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 4 14)",width:"1",x:"4",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 6)",width:"1",x:"8",y:"6"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 6)",width:"1",x:"2",y:"6"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 8 4)",width:"1",x:"8",y:"4"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 2 4)",width:"1",x:"2",y:"4"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 10)",width:"1",x:"14",y:"10"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 12)",width:"1",x:"14",y:"12"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 8)",width:"1",x:"14",y:"8"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 14)",width:"1",x:"14",y:"14"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 6)",width:"1",x:"14",y:"6"}),(0,r.jsx)("rect",{fill:"currentColor",height:"1",rx:".5",transform:"rotate(-180 14 4)",width:"1",x:"14",y:"4"})]})}let oP=(0,s.Xf)(sg.uz,function(e){let{children:t,...l}=e,a=(0,y.cQ)(),n=(0,s.gO)(_.vO,"isSelectionAreaVisible"),{isSelectingCell:o,marginLeft:i,props:d}=(0,sg.Kk)(),c=(0,_._W)(l.element.id),u=(0,r.jsx)(s.tc,{...l,className:C("overflow-x-auto py-5",!a&&!n&&"-ml-2 *:data-[slot=block-selection]:left-2"),style:{paddingLeft:i},children:(0,r.jsxs)("div",{className:"group/table relative w-fit",children:[(0,r.jsx)("table",{className:C("mr-0 ml-px table h-px table-fixed border-collapse",o&&"selection:bg-transparent"),...d,children:(0,r.jsx)("tbody",{className:"min-w-full",children:t})}),c&&(0,r.jsx)("div",{className:Q(),contentEditable:!1})]})});return a?u:(0,r.jsx)(oH,{children:u})});function oH(e){let{children:t,...l}=e,{tf:a}=(0,s.CF)(sg.AJ),n=(0,y.f7)(),o=(0,s.iQ)(),{props:i}=(0,$.W6)({element:o}),d=(0,s.QR)(e=>n&&e.api.isCollapsed(),[n]),c=(0,s.hc)(),{canMerge:u,canSplit:x}=(0,sg.NM)();return(0,r.jsxs)(tN,{modal:!1,open:c&&(u||x||d),children:[(0,r.jsx)(et.dT,{asChild:!0,children:t}),(0,r.jsx)(t_,{asChild:!0,contentEditable:!1,onOpenAutoFocus:e=>e.preventDefault(),...l,children:(0,r.jsxs)(eR,{className:"scrollbar-hide flex w-auto max-w-[80vw] flex-row overflow-x-auto rounded-md border bg-popover p-1 shadow-md print:hidden",contentEditable:!1,children:[(0,r.jsxs)(eG,{children:[(0,r.jsx)(oV,{tooltip:"Background color",children:(0,r.jsx)(aR.A,{})}),u&&(0,r.jsx)(eV,{onClick:()=>a.table.merge(),onMouseDown:e=>e.preventDefault(),tooltip:"Merge cells",children:(0,r.jsx)(no.A,{})}),x&&(0,r.jsx)(eV,{onClick:()=>a.table.split(),onMouseDown:e=>e.preventDefault(),tooltip:"Split cell",children:(0,r.jsx)(oD.A,{})}),(0,r.jsxs)(ev,{modal:!1,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{tooltip:"Cell borders",children:(0,r.jsx)(oO.A,{})})}),(0,r.jsx)(ej,{children:(0,r.jsx)(oq,{})})]}),d&&(0,r.jsx)(eG,{children:(0,r.jsx)(eV,{tooltip:"Delete table",...i,children:(0,r.jsx)(tR.A,{})})})]}),d&&(0,r.jsxs)(eG,{children:[(0,r.jsx)(eV,{onClick:()=>{a.insert.tableRow({before:!0})},onMouseDown:e=>e.preventDefault(),tooltip:"Insert row before",children:(0,r.jsx)(lz.A,{})}),(0,r.jsx)(eV,{onClick:()=>{a.insert.tableRow()},onMouseDown:e=>e.preventDefault(),tooltip:"Insert row after",children:(0,r.jsx)(nd.A,{})}),(0,r.jsx)(eV,{onClick:()=>{a.remove.tableRow()},onMouseDown:e=>e.preventDefault(),tooltip:"Delete row",children:(0,r.jsx)(eu.A,{})})]}),d&&(0,r.jsxs)(eG,{children:[(0,r.jsx)(eV,{onClick:()=>{a.insert.tableColumn({before:!0})},onMouseDown:e=>e.preventDefault(),tooltip:"Insert column before",children:(0,r.jsx)(nc.A,{})}),(0,r.jsx)(eV,{onClick:()=>{a.insert.tableColumn()},onMouseDown:e=>e.preventDefault(),tooltip:"Insert column after",children:(0,r.jsx)(nu.A,{})}),(0,r.jsx)(eV,{onClick:()=>{a.remove.tableColumn()},onMouseDown:e=>e.preventDefault(),tooltip:"Delete column",children:(0,r.jsx)(eu.A,{})})]})]})})]})}function oq(e){let t=(0,s.Q_)(),{getOnSelectTableBorder:l,hasBottomBorder:a,hasLeftBorder:n,hasNoBorders:o,hasOuterBorders:i,hasRightBorder:d,hasTopBorder:c}=(0,sg.RP)();return(0,r.jsxs)(ew,{align:"start",className:"min-w-[220px]",onCloseAutoFocus:e=>{e.preventDefault(),t.tf.focus()},side:"right",sideOffset:0,...e,children:[(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eN,{checked:c,onCheckedChange:l("top"),children:[(0,r.jsx)(oR,{}),(0,r.jsx)("div",{children:"Top Border"})]}),(0,r.jsxs)(eN,{checked:d,onCheckedChange:l("right"),children:[(0,r.jsx)(oL,{}),(0,r.jsx)("div",{children:"Right Border"})]}),(0,r.jsxs)(eN,{checked:a,onCheckedChange:l("bottom"),children:[(0,r.jsx)(oT,{}),(0,r.jsx)("div",{children:"Bottom Border"})]}),(0,r.jsxs)(eN,{checked:n,onCheckedChange:l("left"),children:[(0,r.jsx)(oI,{}),(0,r.jsx)("div",{children:"Left Border"})]})]}),(0,r.jsxs)(ek,{children:[(0,r.jsxs)(eN,{checked:o,onCheckedChange:l("none"),children:[(0,r.jsx)(oF,{}),(0,r.jsx)("div",{children:"No Border"})]}),(0,r.jsxs)(eN,{checked:i,onCheckedChange:l("outer"),children:[(0,r.jsx)(oM,{}),(0,r.jsx)("div",{children:"Outside Borders"})]})]})]})}function oV(e){let{children:t,tooltip:l}=e,[a,n]=z.useState(!1),o=(0,s.Q_)(),i=(0,s.gO)(sg.AJ,"selectedCells"),d=z.useCallback(e=>{n(!1),(0,oE.ji)(o,{color:e,selectedCells:i??[]})},[i,o]),c=z.useCallback(()=>{n(!1),(0,oE.ji)(o,{color:null,selectedCells:i??[]})},[i,o]);return(0,r.jsxs)(ev,{modal:!1,onOpenChange:n,open:a,children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsx)(eV,{tooltip:l,children:t})}),(0,r.jsxs)(ew,{align:"start",children:[(0,r.jsx)(eZ,{label:"Colors",children:(0,r.jsx)(rq,{className:"px-2",colors:rV,updateColor:d})}),(0,r.jsx)(ek,{children:(0,r.jsxs)(eC,{className:"p-2",onClick:c,children:[(0,r.jsx)(rT.A,{}),(0,r.jsx)("span",{children:"Clear"})]})})]})]})}function oQ(e){let{dragRef:t}=e,l=(0,s.Q_)(),a=(0,s.iQ)();return(0,r.jsx)(X,{className:C("-translate-y-1/2 absolute top-1/2 left-0 z-51 h-6 w-4 p-0 focus-visible:ring-0 focus-visible:ring-offset-0","cursor-grab active:cursor-grabbing",'opacity-0 transition-opacity duration-100 group-hover/row:opacity-100 group-has-data-[resizing="true"]/row:opacity-0'),onClick:()=>{l.tf.select(a)},ref:t,variant:"outline",children:(0,r.jsx)(l0.A,{className:"text-muted-foreground"})})}function oU(){let{dropLine:e}=(0,V.P8)();return e?(0,r.jsx)("div",{className:C("absolute inset-x-0 left-2 z-50 h-0.5 bg-brand/50","top"===e?"-top-px":"-bottom-px")}):null}function oW(e){var t,l,a,n;let{isHeader:o,...d}=e,{api:c}=(0,s.CF)(sg.AJ),u=(0,y.cQ)(),x=d.element,m=(0,s.Lz)(e=>{let[t]=e;return t.id},[],{key:i.t.table}),h=(0,s.Lz)(e=>{let[t]=e;return t.id},[],{key:i.t.tr}),p=(0,_._W)(m),g=(0,_._W)(h)||p,f=(0,s.gO)(_.vO,"isSelectionAreaVisible"),{borders:b,colIndex:v,colSpan:j,minHeight:w,rowIndex:k,selected:N,width:A}=(0,sg.EP)(),{bottomProps:S,hiddenLeft:z,leftProps:B,rightProps:E}=(0,sg.bN)({colIndex:v,colSpan:j,rowIndex:k});return(0,r.jsxs)(s.tc,{...d,as:o?"th":"td",attributes:{...d.attributes,colSpan:c.table.getColSpan(x),rowSpan:c.table.getRowSpan(x)},className:C("h-full overflow-visible border-none bg-background p-0",x.background?"bg-(--cellBackground)":"bg-background",o&&"text-left *:m-0","before:size-full",N&&"before:z-10 before:bg-brand/5","before:absolute before:box-border before:select-none before:content-['']",(null==(t=b.bottom)?void 0:t.size)&&"before:border-b before:border-b-border",(null==(l=b.right)?void 0:l.size)&&"before:border-r before:border-r-border",(null==(a=b.left)?void 0:a.size)&&"before:border-l before:border-l-border",(null==(n=b.top)?void 0:n.size)&&"before:border-t before:border-t-border"),style:{"--cellBackground":x.background,maxWidth:A||240,minWidth:A||120},children:[(0,r.jsx)("div",{className:"relative z-20 box-border h-full px-3 py-2",style:{minHeight:w},children:d.children}),!f&&(0,r.jsx)("div",{className:"group absolute top-0 size-full select-none",contentEditable:!1,suppressContentEditableWarning:!0,children:!u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ol,{...E,className:"-top-2 -right-1 h-[calc(100%_+_8px)] w-2","data-col":v}),(0,r.jsx)(ol,{...S,className:"-bottom-1 h-2"}),!z&&(0,r.jsx)(ol,{...B,className:"-left-1 top-0 w-2","data-resizer-left":0===v?"true":void 0}),(0,r.jsx)("div",{className:C("absolute top-0 z-30 hidden h-full w-1 bg-ring","right-[-1.5px]",o$({colIndex:v}))}),0===v&&(0,r.jsx)("div",{className:C("absolute top-0 z-30 h-full w-1 bg-ring","left-[-1.5px]",'fade-in hidden animate-in group-has-[[data-resizer-left]:hover]/table:block group-has-[[data-resizer-left][data-resizing="true"]]/table:block')})]})}),g&&(0,r.jsx)("div",{className:Q(),contentEditable:!1})]})}let o$=(0,b.F)("fade-in hidden animate-in",{variants:{colIndex:{0:'group-has-[[data-col="0"]:hover]/table:block group-has-[[data-col="0"][data-resizing="true"]]/table:block',1:'group-has-[[data-col="1"]:hover]/table:block group-has-[[data-col="1"][data-resizing="true"]]/table:block',2:'group-has-[[data-col="2"]:hover]/table:block group-has-[[data-col="2"][data-resizing="true"]]/table:block',3:'group-has-[[data-col="3"]:hover]/table:block group-has-[[data-col="3"][data-resizing="true"]]/table:block',4:'group-has-[[data-col="4"]:hover]/table:block group-has-[[data-col="4"][data-resizing="true"]]/table:block',5:'group-has-[[data-col="5"]:hover]/table:block group-has-[[data-col="5"][data-resizing="true"]]/table:block',6:'group-has-[[data-col="6"]:hover]/table:block group-has-[[data-col="6"][data-resizing="true"]]/table:block',7:'group-has-[[data-col="7"]:hover]/table:block group-has-[[data-col="7"][data-resizing="true"]]/table:block',8:'group-has-[[data-col="8"]:hover]/table:block group-has-[[data-col="8"][data-resizing="true"]]/table:block',9:'group-has-[[data-col="9"]:hover]/table:block group-has-[[data-col="9"][data-resizing="true"]]/table:block',10:'group-has-[[data-col="10"]:hover]/table:block group-has-[[data-col="10"][data-resizing="true"]]/table:block'}}}),oG=[sg.AJ.withComponent(oP),sg.kQ.withComponent(function(e){let{children:t,...l}=e,{element:a}=l,n=(0,y.cQ)(),o=(0,y.f7)(),i=(0,s.Q_)(),d=(0,s.gO)(_.vO,"isSelectionAreaVisible"),{isDragging:c,previewRef:u,handleRef:x}=(0,V.PM)({element:a,type:a.type,canDropNode:e=>{let{dragEntry:t,dropEntry:l}=e;return ti.s2.equals(ti.s2.parent(t[1]),ti.s2.parent(l[1]))},onDropHandler:(e,t)=>{let{dragItem:l}=t,a=l.element;a&&i.tf.select(a)}});return(0,r.jsxs)(s.tc,{...l,as:"tr",attributes:{...l.attributes,"data-selected":o?"true":void 0},className:C("group/row",c&&"opacity-50"),ref:(0,tF.rF)(l.ref,u),children:[!n&&!d&&(0,r.jsxs)("td",{className:"w-2 select-none",contentEditable:!1,children:[(0,r.jsx)(oQ,{dragRef:x}),(0,r.jsx)(oU,{})]}),t]})}),sg.Md.withComponent(oW),sg.n3.withComponent(function(e){return(0,r.jsx)(oW,{...e,isHeader:!0})})];var oK=l(54451);let oZ=(0,b.F)("block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground",{variants:{depth:{1:"pl-0.5",2:"pl-[26px]",3:"pl-[50px]"}}}),oY=[oK.OX.configure({options:{topOffset:80}}).withComponent(function(e){let t=(0,oK.ne)(),{props:l}=(0,oK.m3)(t),{headingList:a}=t;return(0,r.jsxs)(s.tc,{...e,className:"mb-1 p-0",children:[(0,r.jsx)("div",{contentEditable:!1,children:a.length>0?a.map(e=>(0,r.jsx)(X,{"aria-current":!0,className:oZ({depth:e.depth}),onClick:t=>l.onClick(t,e,"smooth"),variant:"ghost",children:e.title},e.id)):(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:"Create a heading to display the table of contents."})}),e.children]})})],oJ=[...t7,...N,...tO,...oG,...nV,nh.q1.withComponent(function(e){let t=e.element,l=(0,nh.DD)(t.id),{buttonProps:a,open:n}=(0,nh.qQ)(l);return(0,r.jsxs)(s.tc,{...e,className:"pl-6",children:[(0,r.jsx)(X,{className:"-left-0.5 absolute top-0 size-6 cursor-pointer select-none items-center justify-center rounded-md p-px text-muted-foreground transition-colors hover:bg-accent [&_svg]:size-4",contentEditable:!1,size:"icon",variant:"ghost",...a,children:(0,r.jsx)(D.A,{className:n?"rotate-90 transition-transform duration-75":"rotate-0 transition-transform duration-75"})}),e.children]})}),...oY,...ow,...tl,...tK,...nX,...ln,...nq,...oA,...A,...nM,...nG,...d,...nT,...lZ,...tJ,...lf,...oB,...g,...t9,...W,...ae,...az,...aB,n.ft,...aa,...t4,...G,...nk,...nD];var oX=l(93540),o0=l(80964),o1=l(75256),o2=l(80836),o5=l(25005),o3=l(45229),o4=l(89648),o7=l(42391),o8=l(62929),o6=l(98026),o9=l(84304),ie=l(7590),it=l(13426),il=l(84200),ia=l(7611),ir=l(21452);let is=z.memo(function(e){let{content:t}=e,l=(0,s.FI)({plugins:rz});return(0,S.V)(l,t),(0,r.jsx)(rE,{editor:l,variant:"aiChat"})}),io={accept:{icon:(0,r.jsx)(ef.A,{}),label:"Accept",value:"accept",onSelect:e=>{let{aiEditor:t,editor:l}=e,{mode:a,toolName:r}=l.getOptions(S.WB);if("chat"===a&&"generate"===r)return l.getTransforms(S.WB).aiChat.replaceSelection(t);l.getTransforms(S.WB).aiChat.accept(),l.tf.focus({edge:"end"})}},comment:{icon:(0,r.jsx)(()=>(0,r.jsxs)("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none",stroke:"none"}),(0,r.jsx)("path",{d:"M8 9h8"}),(0,r.jsx)("path",{d:"M8 13h4.5"}),(0,r.jsx)("path",{d:"M10 19l-1 -1h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5"}),(0,r.jsx)("path",{d:"M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"})]}),{}),label:"Comment",value:"comment",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{mode:"insert",prompt:"Please comment on the following content and provide reasonable and meaningful feedback.",toolName:"comment"})}},continueWrite:{icon:(0,r.jsx)(o5.A,{}),label:"Continue writing",value:"continueWrite",onSelect:e=>{let{editor:t,input:l}=e,a=t.api.block({highest:!0});if(!a)return;let r=0===ti.lZ.string(a[0]).trim().length;t.getApi(S.WB).aiChat.submit(l,{mode:"insert",prompt:r?`<Document>
{editor}
</Document>
Start writing a new paragraph AFTER <Document> ONLY ONE SENTENCE`:"Continue writing AFTER <Block> ONLY ONE SENTENCE. DONT REPEAT THE TEXT.",toolName:"generate"})}},discard:{icon:(0,r.jsx)(eu.A,{}),label:"Discard",shortcut:"Escape",value:"discard",onSelect:e=>{let{editor:t}=e;t.getTransforms(S.of).ai.undo(),t.getApi(S.WB).aiChat.hide()}},emojify:{icon:(0,r.jsx)(el.A,{}),label:"Emojify",value:"emojify",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Emojify",toolName:"edit"})}},explain:{icon:(0,r.jsx)(o3.A,{}),label:"Explain",value:"explain",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:{default:"Explain {editor}",selecting:"Explain"},toolName:"generate"})}},fixSpelling:{icon:(0,r.jsx)(ef.A,{}),label:"Fix spelling & grammar",value:"fixSpelling",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Fix spelling and grammar",toolName:"edit"})}},generateMarkdownSample:{icon:(0,r.jsx)(o4.A,{}),label:"Generate Markdown sample",value:"generateMarkdownSample",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Generate a markdown sample",toolName:"generate"})}},generateMdxSample:{icon:(0,r.jsx)(o4.A,{}),label:"Generate MDX sample",value:"generateMdxSample",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Generate a mdx sample",toolName:"generate"})}},improveWriting:{icon:(0,r.jsx)(o7.A,{}),label:"Improve writing",value:"improveWriting",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Improve the writing",toolName:"edit"})}},insertBelow:{icon:(0,r.jsx)(o8.A,{}),label:"Insert below",value:"insertBelow",onSelect:e=>{let{aiEditor:t,editor:l}=e;l.getTransforms(S.WB).aiChat.insertBelow(t,{format:"none"})}},makeLonger:{icon:(0,r.jsx)(o6.A,{}),label:"Make longer",value:"makeLonger",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Make longer",toolName:"edit"})}},makeShorter:{icon:(0,r.jsx)(o9.A,{}),label:"Make shorter",value:"makeShorter",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Make shorter",toolName:"edit"})}},replace:{icon:(0,r.jsx)(ef.A,{}),label:"Replace selection",value:"replace",onSelect:e=>{let{aiEditor:t,editor:l}=e;l.getTransforms(S.WB).aiChat.replaceSelection(t)}},simplifyLanguage:{icon:(0,r.jsx)(ie.A,{}),label:"Simplify language",value:"simplifyLanguage",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{prompt:"Simplify the language",toolName:"edit"})}},summarize:{icon:(0,r.jsx)(it.A,{}),label:"Add a summary",value:"summarize",onSelect:e=>{let{editor:t,input:l}=e;t.getApi(S.WB).aiChat.submit(l,{mode:"insert",prompt:{default:"Summarize {editor}",selecting:"Summarize"},toolName:"generate"})}},tryAgain:{icon:(0,r.jsx)(il.A,{}),label:"Try again",value:"tryAgain",onSelect:e=>{let{editor:t}=e;t.getApi(S.WB).aiChat.reload()}}},ii={cursorCommand:[{items:[io.comment,io.generateMdxSample,io.generateMarkdownSample,io.continueWrite,io.summarize,io.explain]}],cursorSuggestion:[{items:[io.accept,io.discard,io.tryAgain]}],selectionCommand:[{items:[io.improveWriting,io.comment,io.emojify,io.makeLonger,io.makeShorter,io.fixSpelling,io.simplifyLanguage]}],selectionSuggestion:[{items:[io.accept,io.discard,io.insertBelow,io.tryAgain]}]},id=e=>{let{input:t,setInput:l,setValue:a}=e,n=(0,s.Q_)(),{messages:o}=(0,s.gO)(S.WB,"chat"),i=(0,s.gO)(S.WB,"aiEditor"),d=(0,_.IV)(),c=z.useMemo(()=>o&&o.length>0?d?"selectionSuggestion":"cursorSuggestion":d?"selectionCommand":"cursorCommand",[d,o]),u=z.useMemo(()=>ii[c],[c]);return z.useEffect(()=>{u.length>0&&u[0].items.length>0&&a(u[0].items[0].value)},[u,a]),(0,r.jsx)(r.Fragment,{children:u.map((e,a)=>(0,r.jsx)(tk,{heading:e.heading,children:e.items.map(e=>(0,r.jsxs)(tC,{className:"[&_svg]:text-muted-foreground",onSelect:()=>{var a;null==(a=e.onSelect)||a.call(e,{aiEditor:i,editor:n,input:t}),l("")},value:e.value,children:[e.icon,(0,r.jsx)("span",{children:e.label})]},e.value))},a))})};var ic=l(59267),iu=l(47819);let ix=tX.a.number.int({max:20,min:5}),im=[[{delay:ix,texts:"Make text "},{delay:ix,texts:"**bold**"},{delay:ix,texts:", "},{delay:ix,texts:"*italic*"},{delay:ix,texts:", "},{delay:ix,texts:"__underlined__"},{delay:ix,texts:", or apply a "},{delay:ix,texts:"***combination***"},{delay:ix,texts:" "},{delay:ix,texts:"of "},{delay:ix,texts:"these "},{delay:ix,texts:"styles "},{delay:ix,texts:"for "},{delay:ix,texts:"a "},{delay:ix,texts:"visually "},{delay:ix,texts:"striking "},{delay:ix,texts:"effect."},{delay:ix,texts:"\n\n"},{delay:ix,texts:"Add "},{delay:ix,texts:"~~strikethrough~~"},{delay:ix,texts:" "},{delay:ix,texts:"to "},{delay:ix,texts:"indicate "},{delay:ix,texts:"deleted "},{delay:ix,texts:"or "},{delay:ix,texts:"outdated "},{delay:ix,texts:"content."},{delay:ix,texts:"\n\n"},{delay:ix,texts:"Write "},{delay:ix,texts:"code "},{delay:ix,texts:"snippets "},{delay:ix,texts:"with "},{delay:ix,texts:"inline "},{delay:ix,texts:"`code`"},{delay:ix,texts:" formatting "},{delay:ix,texts:"for "},{delay:ix,texts:"easy "},{delay:tX.a.number.int({max:100,min:30}),texts:"readability."},{delay:ix,texts:"\n\n"},{delay:ix,texts:"Add "},{delay:ix,texts:"[links](https://example.com)"},{delay:tX.a.number.int({max:100,min:30}),texts:" to "},{delay:tX.a.number.int({max:100,min:30}),texts:"external "},{delay:ix,texts:"resources "},{delay:ix,texts:"or "},{delay:ix,texts:"references.\n\n"},{delay:ix,texts:"Use "},{delay:ix,texts:"inline "},{delay:ix,texts:"math "},{delay:ix,texts:"equations "},{delay:ix,texts:"like "},{delay:ix,texts:"$E = mc^2$ "},{delay:ix,texts:"for "},{delay:ix,texts:"scientific "},{delay:ix,texts:"notation."},{delay:ix,texts:"\n\n"},{delay:ix,texts:"# "},{delay:ix,texts:"Heading "},{delay:ix,texts:"1\n\n"},{delay:ix,texts:"## "},{delay:ix,texts:"Heading "},{delay:ix,texts:"2\n\n"},{delay:ix,texts:"### "},{delay:ix,texts:"Heading "},{delay:ix,texts:"3\n\n"},{delay:ix,texts:"> "},{delay:ix,texts:"Blockquote\n\n"},{delay:ix,texts:"- "},{delay:ix,texts:"Unordered "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"1\n"},{delay:ix,texts:"- "},{delay:ix,texts:"Unordered "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"2\n\n"},{delay:ix,texts:"1. "},{delay:ix,texts:"Ordered "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"1\n"},{delay:ix,texts:"2. "},{delay:ix,texts:"Ordered "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"2\n\n"},{delay:ix,texts:"- "},{delay:ix,texts:"[ "},{delay:ix,texts:"] "},{delay:ix,texts:"Task "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"1\n"},{delay:ix,texts:"- "},{delay:ix,texts:"[x] "},{delay:ix,texts:"Task "},{delay:ix,texts:"list "},{delay:ix,texts:"item "},{delay:ix,texts:"2\n\n"},{delay:ix,texts:"![Alt "},{delay:ix,texts:"text](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\n\n"},{delay:ix,texts:"### Advantage blocks:\n"},{delay:ix,texts:"\n"},{delay:ix,texts:"$$\n"},{delay:ix,texts:"a^2 + b^2 = c^2\n"},{delay:ix,texts:"$$\n"},{delay:ix,texts:"\n"},{delay:ix,texts:"```python\n"},{delay:ix,texts:"# "},{delay:ix,texts:"Code "},{delay:ix,texts:"block\n"},{delay:ix,texts:'print("Hello, '},{delay:ix,texts:'World!")\n'},{delay:ix,texts:"```\n\n"},{delay:ix,texts:"Horizontal "},{delay:ix,texts:"rule\n\n"},{delay:ix,texts:"---\n\n"},{delay:ix,texts:"| "},{delay:ix,texts:"Header "},{delay:ix,texts:"1 "},{delay:ix,texts:"| "},{delay:ix,texts:"Header "},{delay:ix,texts:"2 "},{delay:ix,texts:"|\n"},{delay:ix,texts:"|----------|----------|\n"},{delay:ix,texts:"| "},{delay:ix,texts:"Row "},{delay:ix,texts:"1   "},{delay:ix,texts:" | "},{delay:ix,texts:"Data    "},{delay:ix,texts:" |\n"},{delay:ix,texts:"| "},{delay:ix,texts:"Row "},{delay:ix,texts:"2   "},{delay:ix,texts:" | "},{delay:ix,texts:"Data    "},{delay:ix,texts:" |"}]],ih=[[{delay:ix,texts:"## "},{delay:ix,texts:"Basic "},{delay:ix,texts:"Markdown\n\n"},{delay:ix,texts:"> "},{delay:ix,texts:"The "},{delay:ix,texts:"following "},{delay:ix,texts:"node "},{delay:ix,texts:"and "},{delay:ix,texts:"marks "},{delay:ix,texts:"is "},{delay:ix,texts:"supported "},{delay:ix,texts:"by "},{delay:ix,texts:"the "},{delay:ix,texts:"Markdown "},{delay:ix,texts:"standard.\n\n"},{delay:ix,texts:"Format "},{delay:ix,texts:"text "},{delay:ix,texts:"with **b"},{delay:ix,texts:"old**, _"},{delay:ix,texts:"italic_,"},{delay:ix,texts:" _**comb"},{delay:ix,texts:"ined sty"},{delay:ix,texts:"les**_, "},{delay:ix,texts:"~~strike"},{delay:ix,texts:"through~"},{delay:ix,texts:"~, `code"},{delay:ix,texts:"` format"},{delay:ix,texts:"ting, an"},{delay:ix,texts:"d [hyper"},{delay:ix,texts:"links](https://en.wikipedia.org/wiki/Hypertext).\n\n"},{delay:ix,texts:"```javascript\n"},{delay:ix,texts:"// Use code blocks to showcase code snippets\n"},{delay:ix,texts:"function greet() {\n"},{delay:ix,texts:'  console.info("Hello World!")\n'},{delay:ix,texts:"}\n"},{delay:ix,texts:"```\n\n"},{delay:ix,texts:"- Simple"},{delay:ix,texts:" lists f"},{delay:ix,texts:"or organ"},{delay:ix,texts:"izing co"},{delay:ix,texts:"ntent\n"},{delay:ix,texts:"1. "},{delay:ix,texts:"Numbered "},{delay:ix,texts:"lists "},{delay:ix,texts:"for "},{delay:ix,texts:"sequential "},{delay:ix,texts:"steps\n\n"},{delay:ix,texts:"| **Plugin**  | **Element** | **Inline** | **Void** |\n"},{delay:ix,texts:"| ----------- | ----------- | ---------- | -------- |\n"},{delay:ix,texts:"| **Heading** |             |            | No       |\n"},{delay:ix,texts:"| **Image**   | Yes         | No         | Yes      |\n"},{delay:ix,texts:"| **Ment"},{delay:ix,texts:"ion** | Yes         | Yes        | Yes      |\n\n"},{delay:ix,texts:"![](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\n\n"},{delay:ix,texts:"- [x] Co"},{delay:ix,texts:"mpleted "},{delay:ix,texts:"tasks\n"},{delay:ix,texts:"- [ ] Pe"},{delay:ix,texts:"nding ta"},{delay:ix,texts:"sks\n\n"},{delay:ix,texts:"---\n\n## Advan"},{delay:ix,texts:"ced Feat"},{delay:ix,texts:"ures\n\n"},{delay:ix,texts:"<callout> "},{delay:ix,texts:"The "},{delay:ix,texts:"following "},{delay:ix,texts:"node "},{delay:ix,texts:"and "},{delay:ix,texts:"marks "},{delay:ix,texts:"are "},{delay:ix,texts:"not "},{delay:ix,texts:"supported "},{delay:ix,texts:"in "},{delay:ix,texts:"Markdown "},{delay:ix,texts:"but "},{delay:ix,texts:"can "},{delay:ix,texts:"be "},{delay:ix,texts:"serialized "},{delay:ix,texts:"and "},{delay:ix,texts:"deserialized "},{delay:ix,texts:"using "},{delay:ix,texts:"MDX "},{delay:ix,texts:"or "},{delay:ix,texts:"specialized "},{delay:ix,texts:"UnifiedJS "},{delay:ix,texts:"plugins. "},{delay:ix,texts:"</callout>\n\n"},{delay:ix,texts:"Advanced "},{delay:ix,texts:"marks: "},{delay:ix,texts:"<kbd>⌘ "},{delay:ix,texts:"+ "},{delay:ix,texts:"B</kbd>,<u>underlined</u>, "},{delay:ix,texts:"<mark"},{delay:ix,texts:">highli"},{delay:ix,texts:"ghted</m"},{delay:ix,texts:"ark"},{delay:ix,texts:"> text, "},{delay:ix,texts:"<span s"},{delay:ix,texts:'tyle="co'},{delay:ix,texts:"lor: #93"},{delay:ix,texts:'C47D;">c'},{delay:ix,texts:"olored t"},{delay:ix,texts:"ext</spa"},{delay:ix,texts:"n> and "},{delay:ix,texts:"<spa"},{delay:ix,texts:"n"},{delay:ix,texts:' style="'},{delay:ix,texts:"backgrou"},{delay:ix,texts:"nd-color"},{delay:ix,texts:": #6C9EE"},{delay:ix,texts:'B;">back'},{delay:ix,texts:"ground h"},{delay:ix,texts:"ighlight"},{delay:ix,texts:"s</spa"},{delay:ix,texts:"n> for "},{delay:ix,texts:"visual e"},{delay:ix,texts:"mphasis.\n\n"},{delay:ix,texts:"Superscript "},{delay:ix,texts:"like "},{delay:ix,texts:"E=mc<sup>2</sup> "},{delay:ix,texts:"and "},{delay:ix,texts:"subscript "},{delay:ix,texts:"like "},{delay:ix,texts:"H<sub>2</sub>O "},{delay:ix,texts:"demonstrate "},{delay:ix,texts:"mathematical "},{delay:ix,texts:"and "},{delay:ix,texts:"chemical "},{delay:ix,texts:"notation "},{delay:ix,texts:"capabilities.\n\n"},{delay:ix,texts:"Add "},{delay:ix,texts:"mentions "},{delay:ix,texts:"like "},{delay:ix,texts:"@BB-8, d"},{delay:ix,texts:"ates (<d"},{delay:ix,texts:"ate>2025"},{delay:ix,texts:"-05-08</"},{delay:ix,texts:"date>), "},{delay:ix,texts:"and math"},{delay:ix,texts:" formula"},{delay:ix,texts:"s ($E=mc"},{delay:ix,texts:"^2$).\n\n"},{delay:ix,texts:"The "},{delay:ix,texts:"table "},{delay:ix,texts:"of "},{delay:ix,texts:"contents "},{delay:ix,texts:"feature "},{delay:ix,texts:"automatically "},{delay:ix,texts:"generates "},{delay:ix,texts:"document "},{delay:ix,texts:"structure "},{delay:ix,texts:"for "},{delay:ix,texts:"easy "},{delay:ix,texts:"navigation.\n\n"},{delay:ix,texts:"<toc "},{delay:ix,texts:"/>\n\n"},{delay:ix,texts:"Math "},{delay:ix,texts:"formula "},{delay:ix,texts:"support "},{delay:ix,texts:"makes "},{delay:ix,texts:"displaying "},{delay:ix,texts:"complex "},{delay:ix,texts:"mathematical "},{delay:ix,texts:"expressions "},{delay:ix,texts:"simple.\n\n"},{delay:ix,texts:"$$\n"},{delay:ix,texts:"a^2"},{delay:ix,texts:"+b^2"},{delay:ix,texts:"=c^2\n"},{delay:ix,texts:"$$\n\n"},{delay:ix,texts:"Multi-co"},{delay:ix,texts:"lumn lay"},{delay:ix,texts:"out feat"},{delay:ix,texts:"ures ena"},{delay:ix,texts:"ble rich"},{delay:ix,texts:"er page "},{delay:ix,texts:"designs "},{delay:ix,texts:"and cont"},{delay:ix,texts:"ent layo"},{delay:ix,texts:"uts.\n\n"},{delay:ix,texts:"PDF "},{delay:ix,texts:"embedding "},{delay:ix,texts:"makes "},{delay:ix,texts:"document "},{delay:ix,texts:"referencing "},{delay:ix,texts:"simple "},{delay:ix,texts:"and "},{delay:ix,texts:"intuitive.\n\n"},{delay:ix,texts:"<file "},{delay:ix,texts:'name="sample.pdf" '},{delay:ix,texts:'align="center" '},{delay:ix,texts:'src="https://s26.q4cdn.com/900411403/files/doc_downloads/test.pdf" width="80%" isUpload="true" />\n\n'},{delay:ix,texts:"Audio "},{delay:ix,texts:"players "},{delay:ix,texts:"can "},{delay:ix,texts:"be "},{delay:ix,texts:"embedded "},{delay:ix,texts:"directly "},{delay:ix,texts:"into "},{delay:ix,texts:"documents, "},{delay:ix,texts:"supporting "},{delay:ix,texts:"online "},{delay:ix,texts:"audio "},{delay:ix,texts:"resources.\n\n"},{delay:ix,texts:"<audio "},{delay:ix,texts:'align="center" '},{delay:ix,texts:'src="https://samplelib.com/lib/preview/mp3/sample-3s.mp3" width="80%" />\n\n'},{delay:ix,texts:"Video "},{delay:ix,texts:"playback "},{delay:ix,texts:"features "},{delay:ix,texts:"support "},{delay:ix,texts:"embedding "},{delay:ix,texts:"various "},{delay:ix,texts:"online "},{delay:ix,texts:"video "},{delay:ix,texts:"resources, "},{delay:ix,texts:"enriching "},{delay:ix,texts:"document "},{delay:ix,texts:"content.\n\n"},{delay:ix,texts:"<video "},{delay:ix,texts:'align="center" '},{delay:ix,texts:'src="https://videos.pexels.com/video-files/6769791/6769791-uhd_2560_1440_24fps.mp4" width="80%" isUpload="true" />'}]],ip=e=>{let t=e.getApi(_.vO).blockSelection.getNodes({selectionFallback:!0,sort:!0}).map(e=>{let[t]=e;return t}),l=e.getOption(_.vO,"isSelectingSome"),a=t.length>0&&(e.api.isExpanded()||l)?t:e.children,r=a.length,s=Math.ceil(r/2),n=new Set;for(;n.size<s;){let e=Math.floor(Math.random()*r);n.add(e)}let o=Array.from(n).sort((e,t)=>e-t);return[[{delay:50,texts:'{"data":"comment","type":"data-toolName"}'}],...o.map((e,t)=>{let l=a[e];if(!l)return[];let r=ti.lZ.string(l),s=r.indexOf("."),n=-1===s?r:r.slice(0,s);return[{delay:tX.a.number.int({max:500,min:200}),texts:`{"id":"${(0,lB.Ak)()}","data":{"comment":{"blockId":"${l.id}","comment":"${tX.a.lorem.sentence()}","content":"${n}"},"status":"${t===o.length-1?"finished":"streaming"}"},"type":"data-comment"}`}]}).filter(e=>e.length>0)]},ig=S.WB.extend({options:{chatOptions:{api:"/api/ai/command",body:{}}},render:{afterContainer:function(){let e=(0,s.Q_)(),t=(0,s.gO)(S.WB,"toolName"),l=(0,s.gO)(S.WB,"chat"),a=(0,s.gO)(S.WB,"mode"),{status:n}=l,{api:o}=(0,s.CF)(S.WB),d="streaming"===n||"submitted"===n,c=t=>{"accept"===t&&e.tf.unsetNodes([(0,tZ.i)()],{at:[],match:e=>ti.Qg.isText(e)&&!!e[i.t.comment]}),"reject"===t&&e.getTransforms(tY).comment.unsetMark({transient:!0}),o.aiChat.hide()};return((0,ir.vC)("esc",()=>{o.aiChat.stop(),l._abortFakeStream()}),d&&("insert"===a||"comment"===t||"edit"===t&&"chat"===a))?(0,r.jsxs)("div",{className:C("-translate-x-1/2 absolute bottom-4 left-1/2 z-20 flex items-center gap-3 rounded-md border border-border bg-muted px-3 py-1.5 text-muted-foreground text-sm shadow-md transition-all duration-300"),children:[(0,r.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent"}),(0,r.jsx)("span",{children:"submitted"===n?"Thinking...":"Writing..."}),(0,r.jsxs)(X,{className:"flex items-center gap-1 text-xs",onClick:()=>o.aiChat.stop(),size:"sm",variant:"ghost",children:[(0,r.jsx)(ia.A,{className:"h-4 w-4"}),"Stop",(0,r.jsx)("kbd",{className:"ml-1 rounded bg-border px-1 font-mono text-[10px] text-muted-foreground shadow-sm",children:"Esc"})]})]}):"comment"===t&&"ready"===n?(0,r.jsx)("div",{className:C("-translate-x-1/2 absolute bottom-4 left-1/2 z-50 flex flex-col items-center gap-0 rounded-xl border border-border/50 bg-popover p-1 text-muted-foreground text-sm shadow-xl backdrop-blur-sm","p-3"),children:(0,r.jsx)("div",{className:"flex w-full items-center justify-between gap-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[(0,r.jsx)(X,{disabled:d,onClick:()=>c("accept"),size:"sm",children:"Accept"}),(0,r.jsx)(X,{disabled:d,onClick:()=>c("reject"),size:"sm",children:"Reject"})]})})}):null},afterEditable:function(){var e,t;let{api:l,editor:a}=(0,s.CF)(S.WB),n=(0,s.gO)(S.WB,"mode"),o=(0,s.gO)(S.WB,"toolName"),d=(0,s.gO)(S.WB,"streaming"),c=(0,_.IV)(),u=(0,s.hc)(),x=(0,s.gO)(S.WB,"open")&&u,[m,h]=z.useState(""),[p,g]=z.useState(""),f=(0,s.gO)(S.WB,"chat"),{messages:b,status:v}=f,[j,y]=z.useState(null),w=null==(t=(0,S.DQ)())||null==(e=t.parts.find(e=>"text"===e.type))?void 0:e.text;z.useEffect(()=>{if(d){let e=l.aiChat.node({anchor:!0});setTimeout(()=>{y(a.api.toDOMNode(e[0]))},0)}},[d]);let k=e=>{e?l.aiChat.show():l.aiChat.hide()},N=e=>{y(e),k(!0)};(0,S.FV)({onOpenBlockSelection:e=>{N(a.api.toDOMNode(e.at(-1)[0]))},onOpenChange:e=>{e||(y(null),g(""))},onOpenCursor:()=>{let[e]=a.api.block({highest:!0});a.api.isAt({end:!0})||a.api.isEmpty(e)||a.getApi(_.vO).blockSelection.set(e.id),N(a.api.toDOMNode(e))},onOpenSelection:()=>{N(a.api.toDOMNode(a.api.blocks().at(-1)[0]))}}),(0,ir.vC)("esc",()=>{l.aiChat.stop(),f._abortFakeStream()});let A="streaming"===v||"submitted"===v;return(z.useEffect(()=>{if("edit"===o&&"chat"===n&&!A){let e=a.api.node({at:[],reverse:!0,match:e=>!!e[i.t.suggestion]&&!!e[(0,li._)()]});if(e||(e=a.getApi(_.vO).blockSelection.getNodes({selectionFallback:!0,sort:!0}).at(-1)),!e)return;let t=a.api.block({at:e[1]});y(a.api.toDOMNode(t[0]))}},[A]),A&&"insert"===n||"comment"===o||"edit"===o&&"chat"===n&&A)?null:(0,r.jsxs)(tN,{modal:!1,onOpenChange:k,open:x,children:[(0,r.jsx)(tS,{virtualRef:{current:j}}),(0,r.jsx)(t_,{align:"center",className:"border-none bg-transparent p-0 shadow-none",onEscapeKeyDown:e=>{e.preventDefault(),l.aiChat.hide()},side:"bottom",style:{width:null==j?void 0:j.offsetWidth},children:(0,r.jsxs)(tv,{className:"w-full rounded-lg border shadow-md",onValueChange:h,value:m,children:["chat"===n&&c&&w&&"generate"===o&&(0,r.jsx)(is,{content:w}),A?(0,r.jsxs)("div",{className:"flex grow select-none items-center gap-2 p-2 text-muted-foreground text-sm",children:[(0,r.jsx)(oi.A,{className:"size-4 animate-spin"}),b.length>1?"Editing...":"Thinking..."]}):(0,r.jsx)(td.uB.Input,{autoFocus:!0,className:C("flex h-9 w-full min-w-0 border-input bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] placeholder:text-muted-foreground md:text-sm dark:bg-input/30","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40","border-b focus-visible:ring-transparent"),"data-plate-focus":!0,onKeyDown:e=>{(0,q.isHotkey)("backspace")(e)&&0===p.length&&(e.preventDefault(),l.aiChat.hide()),!(0,q.isHotkey)("enter")(e)||e.shiftKey||m||(e.preventDefault(),l.aiChat.submit(p),g(""))},onValueChange:g,placeholder:"Ask AI anything...",value:p}),!A&&(0,r.jsx)(ty,{children:(0,r.jsx)(id,{input:p,setInput:g,setValue:h})})]})})]})},node:function(e){return(0,r.jsx)(s.tc,{...e,children:(0,r.jsx)("div",{className:"h-[0.1px]"})})}},shortcuts:{show:{keys:"mod+j"}},useHooks:e=>{let t,l,a,r,{editor:n,getOption:o}=e;t=(0,s.Q_)(),l=(0,s.gO)(ig,"chatOptions"),a=z.useRef(null),r={...(0,ic.Y_)({id:"editor",transport:new iu.rL({api:l.api||"/api/ai/command",fetch:async(e,l)=>{var r,s;let n=null==(r=t.getOptions(ig).chatOptions)?void 0:r.body,o={...JSON.parse(null==l?void 0:l.body),...n},i=await fetch(e,{...l,body:JSON.stringify(o)});if(!i.ok){let e=null;try{let t=null==(s=JSON.parse(null==l?void 0:l.body).messages.at(-1).parts.find(e=>"text"===e.type))?void 0:s.text;t.includes("Generate a markdown sample")?e="markdown":t.includes("Generate a mdx sample")?e="mdx":t.includes("comment")&&(e="comment")}catch{e=null}return a.current=new AbortController,await new Promise(e=>setTimeout(e,400)),new Response((e=>{let{chunkCount:t=10,editor:l,sample:a=null,signal:r}=e,s=new TextEncoder;return new ReadableStream({async start(e){let n="markdown"===a?im:"mdx"===a?ih:"comment"===a?ip(l):[Array.from({length:t},()=>({delay:tX.a.number.int({max:100,min:30}),texts:`${tX.a.lorem.words({max:3,min:1})} `})),Array.from({length:t+2},()=>({delay:tX.a.number.int({max:100,min:30}),texts:`${tX.a.lorem.words({max:3,min:1})} `})),Array.from({length:t+4},()=>({delay:tX.a.number.int({max:100,min:30}),texts:`${tX.a.lorem.words({max:3,min:1})} `}))];if(null==r?void 0:r.aborted)return void e.error(Error("Aborted before start"));let o=()=>{e.error(Error("Stream aborted"))};null==r||r.addEventListener("abort",o);let i=`msg_${tX.a.string.alphanumeric(40)}`;if("comment"===a){for(let t of(e.enqueue(s.encode('data: {"type":"start"}\n\n')),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode('data: {"type":"start-step"}\n\n')),await new Promise(e=>setTimeout(e,10)),n))for(let l of t){if(await new Promise(e=>setTimeout(e,l.delay)),null==r?void 0:r.aborted){null==r||r.removeEventListener("abort",o);return}e.enqueue(s.encode(`data: ${l.texts}

`))}e.enqueue(s.encode("data: [DONE]\n\n"))}else{e.enqueue(s.encode('data: {"type":"start"}\n\n')),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode('data: {"type":"start-step"}\n\n')),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode(`data: {"type":"text-start","id":"${i}","providerMetadata":{"openai":{"itemId":"${i}"}}}

`)),await new Promise(e=>setTimeout(e,10));for(let t=0;t<n.length;t++){for(let l of n[t]){if(await new Promise(e=>setTimeout(e,l.delay)),null==r?void 0:r.aborted){null==r||r.removeEventListener("abort",o);return}let t=l.texts.replace(/\\/g,"\\\\").replace(/"/g,String.raw`\"`).replace(/\n/g,String.raw`\n`).replace(/\r/g,String.raw`\r`).replace(/\t/g,String.raw`\t`);e.enqueue(s.encode(`data: {"type":"text-delta","id":"${i}","delta":"${t}"}

`))}t<n.length-1&&e.enqueue(s.encode(`data: {"type":"text-delta","id":"${i}","delta":"\\n\\n"}

`))}e.enqueue(s.encode(`data: {"type":"text-end","id":"${i}"}

`)),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode('data: {"type":"finish-step"}\n\n')),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode('data: {"type":"finish"}\n\n')),await new Promise(e=>setTimeout(e,10)),e.enqueue(s.encode("data: [DONE]\n\n"))}null==r||r.removeEventListener("abort",o),e.close()}})})({editor:t,sample:e,signal:a.current.signal}),{headers:{Connection:"keep-alive","Content-Type":"text/plain"}})}return i}}),onData(e){if("data-toolName"===e.type&&t.setOption(S.WB,"toolName",e.data),"data-comment"===e.type&&e.data){if("finished"===e.data.status)return void t.getApi(_.vO).blockSelection.deselect();let l=e.data.comment,a=(0,S.Sv)(t,l);if(!a)return console.warn("No range found for AI comment");let r=t.getOption(lK,"discussions")||[],s=(0,lB.Ak)(),n={id:(0,lB.Ak)(),contentRich:[{children:[{text:l.comment}],type:"p"}],createdAt:new Date,discussionId:s,isEdited:!1,userId:t.getOption(lK,"currentUserId")},o={id:s,comments:[n],createdAt:new Date,documentContent:(0,t0.$r)(t,l.content).map(e=>ti.lZ.string(e)).join("\n"),isResolved:!1,userId:t.getOption(lK,"currentUserId")},d=[...r,o];t.setOption(lK,"discussions",d),t.tf.withMerging(()=>{t.tf.setNodes({[(0,tZ.s)(o.id)]:!0,[(0,tZ.i)()]:!0,[i.t.comment]:!0},{at:a,match:ti.Qg.isText,split:!0})})}},...l}),_abortFakeStream:()=>{a.current&&(a.current.abort(),a.current=null)}},z.useEffect(()=>{t.setOption(S.WB,"chat",r)},[r.status,r.messages,r.error]);let d=(0,s.gO)(S.WB,"mode"),c=(0,s.gO)(S.WB,"toolName");(0,S.HM)({onChunk:e=>{let{chunk:t,isFirst:l,nodes:a,text:r}=e;l&&"insert"===d&&(n.tf.withoutSaving(()=>{n.tf.insertNodes({children:[{text:""}],type:(0,H.Ht)(n,i.t.aiChat)},{at:ti.s2.next(n.selection.focus.path.slice(0,1))})}),n.setOption(S.WB,"streaming",!0)),"insert"===d&&a.length>0&&(0,o2.r)(n,()=>{o("streaming")&&n.tf.withScrolling(()=>{(0,S.Fi)(n,t,{textProps:{[(0,H.Ht)(n,i.t.ai)]:!0}})})},{split:l}),"edit"===c&&"chat"===d&&(0,o2.r)(n,()=>{(0,S.qv)(n,r)},{split:l})},onFinish:()=>{n.setOption(S.WB,"streaming",!1),n.setOption(S.WB,"_blockChunks",""),n.setOption(S.WB,"_blockPath",null),n.setOption(S.WB,"_mdxName",null)}})}});[...t9,...t4,S.of.withComponent(function(e){let t=(0,s.gO)(S.WB,"streaming"),l=e.editor.getApi(S.WB).aiChat.node({streaming:!0}),a=(null==l?void 0:l[0])===e.text;return(0,r.jsx)(s.uC,{className:C("border-b-2 border-b-purple-100 bg-purple-50 text-purple-800","transition-all duration-200 ease-in-out",a&&t&&'after:ml-1.5 after:inline-block after:h-3 after:w-3 after:rounded-full after:bg-primary after:align-middle after:content-[""]'),...e})})];let ib=[{label:"GPT-3.5 Turbo",value:"openai/gpt-3.5-turbo"},{label:"GPT-3.5 Turbo Instruct",value:"openai/gpt-3.5-turbo-instruct"},{label:"GPT-4 Turbo",value:"openai/gpt-4-turbo"},{label:"GPT-4.1",value:"openai/gpt-4.1"},{label:"GPT-4.1 Mini",value:"openai/gpt-4.1-mini"},{label:"GPT-4.1 Nano",value:"openai/gpt-4.1-nano"},{label:"GPT-4o",value:"openai/gpt-4o"},{label:"GPT-4o Mini",value:"openai/gpt-4o-mini"},{label:"GPT-5",value:"openai/gpt-5"},{label:"GPT-5 Codex",value:"openai/gpt-5-codex"},{label:"GPT-5 Mini",value:"openai/gpt-5-mini"},{label:"GPT-5 Nano",value:"openai/gpt-5-nano"},{label:"GPT-OSS 120B",value:"openai/gpt-oss-120b"},{label:"GPT-OSS 20B",value:"openai/gpt-oss-20b"},{label:"O1",value:"openai/o1"},{label:"O3",value:"openai/o3"},{label:"O3 Mini",value:"openai/o3-mini"},{label:"O4 Mini",value:"openai/o4-mini"},{label:"Gemini 2.0 Flash",value:"google/gemini-2.0-flash"},{label:"Gemini 2.0 Flash Lite",value:"google/gemini-2.0-flash-lite"},{label:"Gemini 2.5 Flash",value:"google/gemini-2.5-flash"},{label:"Gemini 2.5 Flash Image Preview",value:"google/gemini-2.5-flash-image-preview"},{label:"Gemini 2.5 Flash Lite",value:"google/gemini-2.5-flash-lite"},{label:"Gemini 2.5 Pro",value:"google/gemini-2.5-pro"},{label:"Gemma 2 9B",value:"google/gemma-2-9b"},{label:"Qwen 3 14B",value:"alibaba/qwen-3-14b"},{label:"Qwen 3 235B",value:"alibaba/qwen-3-235b"},{label:"Qwen 3 30B",value:"alibaba/qwen-3-30b"},{label:"Qwen 3 32B",value:"alibaba/qwen-3-32b"},{label:"Qwen3 Coder",value:"alibaba/qwen3-coder"},{label:"Qwen3 Coder Plus",value:"alibaba/qwen3-coder-plus"},{label:"Qwen3 Max",value:"alibaba/qwen3-max"},{label:"Qwen3 Max Preview",value:"alibaba/qwen3-max-preview"},{label:"Qwen3 Next 80B A3B Instruct",value:"alibaba/qwen3-next-80b-a3b-instruct"},{label:"Qwen3 Next 80B A3B Thinking",value:"alibaba/qwen3-next-80b-a3b-thinking"},{label:"Qwen3 VL Instruct",value:"alibaba/qwen3-vl-instruct"},{label:"Qwen3 VL Thinking",value:"alibaba/qwen3-vl-thinking"},{label:"Nova Lite",value:"amazon/nova-lite"},{label:"Nova Micro",value:"amazon/nova-micro"},{label:"Nova Pro",value:"amazon/nova-pro"},{label:"Claude 3 Haiku",value:"anthropic/claude-3-haiku"},{label:"Claude 3 Opus",value:"anthropic/claude-3-opus"},{label:"Claude 3.5 Haiku",value:"anthropic/claude-3.5-haiku"},{label:"Claude 3.5 Sonnet",value:"anthropic/claude-3.5-sonnet"},{label:"Claude 3.7 Sonnet",value:"anthropic/claude-3.7-sonnet"},{label:"Claude Opus 4",value:"anthropic/claude-opus-4"},{label:"Claude Opus 4.1",value:"anthropic/claude-opus-4.1"},{label:"Claude Sonnet 4",value:"anthropic/claude-sonnet-4"},{label:"Command A",value:"cohere/command-a"},{label:"Command R",value:"cohere/command-r"},{label:"Command R Plus",value:"cohere/command-r-plus"},{label:"DeepSeek R1",value:"deepseek/deepseek-r1"},{label:"DeepSeek R1 Distill Llama 70B",value:"deepseek/deepseek-r1-distill-llama-70b"},{label:"DeepSeek V3",value:"deepseek/deepseek-v3"},{label:"DeepSeek V3.1",value:"deepseek/deepseek-v3.1"},{label:"DeepSeek V3.1 Base",value:"deepseek/deepseek-v3.1-base"},{label:"DeepSeek V3.1 Terminus",value:"deepseek/deepseek-v3.1-terminus"},{label:"DeepSeek V3.2 Exp",value:"deepseek/deepseek-v3.2-exp"},{label:"DeepSeek V3.2 Exp Thinking",value:"deepseek/deepseek-v3.2-exp-thinking"},{label:"Mercury Coder Small",value:"inception/mercury-coder-small"},{label:"LongCat Flash Chat",value:"meituan/longcat-flash-chat"},{label:"LongCat Flash Thinking",value:"meituan/longcat-flash-thinking"},{label:"Llama 3 70B",value:"meta/llama-3-70b"},{label:"Llama 3 8B",value:"meta/llama-3-8b"},{label:"Llama 3.1 70B",value:"meta/llama-3.1-70b"},{label:"Llama 3.1 8B",value:"meta/llama-3.1-8b"},{label:"Llama 3.2 11B",value:"meta/llama-3.2-11b"},{label:"Llama 3.2 1B",value:"meta/llama-3.2-1b"},{label:"Llama 3.2 3B",value:"meta/llama-3.2-3b"},{label:"Llama 3.2 90B",value:"meta/llama-3.2-90b"},{label:"Llama 3.3 70B",value:"meta/llama-3.3-70b"},{label:"Llama 4 Maverick",value:"meta/llama-4-maverick"},{label:"Llama 4 Scout",value:"meta/llama-4-scout"},{label:"Codestral",value:"mistral/codestral"},{label:"Devstral Small",value:"mistral/devstral-small"},{label:"Magistral Medium",value:"mistral/magistral-medium"},{label:"Magistral Small",value:"mistral/magistral-small"},{label:"Ministral 3B",value:"mistral/ministral-3b"},{label:"Ministral 8B",value:"mistral/ministral-8b"},{label:"Mistral Large",value:"mistral/mistral-large"},{label:"Mistral Medium",value:"mistral/mistral-medium"},{label:"Mistral Small",value:"mistral/mistral-small"},{label:"Mixtral 8x22B Instruct",value:"mistral/mixtral-8x22b-instruct"},{label:"Pixtral 12B",value:"mistral/pixtral-12b"},{label:"Pixtral Large",value:"mistral/pixtral-large"},{label:"Kimi K2",value:"moonshotai/kimi-k2"},{label:"Kimi K2 0905",value:"moonshotai/kimi-k2-0905"},{label:"Kimi K2 Turbo",value:"moonshotai/kimi-k2-turbo"},{label:"Morph V3 Fast",value:"morph/morph-v3-fast"},{label:"Morph V3 Large",value:"morph/morph-v3-large"},{label:"Sonar",value:"perplexity/sonar"},{label:"Sonar Pro",value:"perplexity/sonar-pro"},{label:"Sonar Reasoning",value:"perplexity/sonar-reasoning"},{label:"Sonar Reasoning Pro",value:"perplexity/sonar-reasoning-pro"},{label:"Sonoma Dusk Alpha",value:"stealth/sonoma-dusk-alpha"},{label:"Sonoma Sky Alpha",value:"stealth/sonoma-sky-alpha"},{label:"v0 1.0 MD",value:"vercel/v0-1.0-md"},{label:"v0 1.5 MD",value:"vercel/v0-1.5-md"},{label:"Grok 2",value:"xai/grok-2"},{label:"Grok 2 Vision",value:"xai/grok-2-vision"},{label:"Grok 3",value:"xai/grok-3"},{label:"Grok 3 Fast",value:"xai/grok-3-fast"},{label:"Grok 3 Mini",value:"xai/grok-3-mini"},{label:"Grok 3 Mini Fast",value:"xai/grok-3-mini-fast"},{label:"Grok 4",value:"xai/grok-4"},{label:"Grok Code Fast 1",value:"xai/grok-code-fast-1"},{label:"Grok 4 Fast Non-Reasoning",value:"xai/grok-4-fast-non-reasoning"},{label:"Grok 4 Fast Reasoning",value:"xai/grok-4-fast-reasoning"},{label:"GLM 4.5",value:"zai/glm-4.5"},{label:"GLM 4.5 Air",value:"zai/glm-4.5-air"},{label:"GLM 4.5V",value:"zai/glm-4.5v"}];function iv(){let e,t,l=(0,s.Q_)(),[a,n]=z.useState(ib[7]),[o,i]=z.useState({aiGatewayApiKey:"",uploadthing:""}),[d,c]=z.useState({}),[u,x]=z.useState(!1),[m,h]=z.useState(!1);return(0,r.jsxs)(tu,{onOpenChange:x,open:u,children:[(0,r.jsx)(tx,{asChild:!0,children:(0,r.jsx)(X,{className:C("group fixed right-4 bottom-4 z-50 size-10 overflow-hidden","rounded-full shadow-md hover:shadow-lg"),size:"icon",variant:"default",children:(0,r.jsx)(o0.A,{className:"size-4"})})}),(0,r.jsxs)(tp,{children:[(0,r.jsxs)(tg,{children:[(0,r.jsx)(tf,{className:"text-xl",children:"Settings"}),(0,r.jsx)(tb,{children:"Configure your API keys and preferences."})]}),(0,r.jsxs)("form",{className:"space-y-10",onSubmit:e=>{e.preventDefault();let t=l.getOptions(ig).chatOptions??{};l.setOption(ig,"chatOptions",{...t,body:{...t.body,apiKey:o.aiGatewayApiKey,model:a.value}}),x(!1);let r=l.getOptions(S.EF).completeOptions??{};l.setOption(S.EF,"completeOptions",{...r,body:{...r.body,apiKey:o.aiGatewayApiKey,model:a.value}})},children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-8 rounded-full bg-purple-100 p-2 dark:bg-purple-900",children:(0,r.jsx)(n_.A,{className:"size-4 text-purple-600 dark:text-purple-400"})}),(0,r.jsx)("h4",{className:"font-semibold",children:"AI"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(e="aiGatewayApiKey",t="AI Gateway API Key",(0,r.jsxs)("div",{className:"group relative",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"-translate-y-1/2 absolute top-1/2 block cursor-text px-1 text-muted-foreground/70 text-sm transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:font-medium group-focus-within:text-foreground group-focus-within:text-xs has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground has-[+input:not(:placeholder-shown)]:text-xs",htmlFor:t,children:(0,r.jsx)("span",{className:"inline-flex bg-background px-2",children:t})}),(0,r.jsx)(X,{asChild:!0,className:"absolute top-0 right-[28px] h-full",size:"icon",variant:"ghost",children:(0,r.jsxs)("a",{className:"flex items-center",href:"https://vercel.com/docs/ai-gateway",rel:"noopener noreferrer",target:"_blank",children:[(0,r.jsx)(nF.A,{className:"size-4"}),(0,r.jsxs)("span",{className:"sr-only",children:["Get ",t]})]})})]}),(0,r.jsx)(s0,{className:"pr-10","data-1p-ignore":!0,id:t,onChange:t=>i(l=>({...l,[e]:t.target.value})),placeholder:"",type:d[e]?"text":"password",value:o[e]}),(0,r.jsxs)(X,{className:"absolute top-0 right-0 h-full",onClick:()=>{c(t=>({...t,[e]:!t[e]}))},size:"icon",type:"button",variant:"ghost",children:[d[e]?(0,r.jsx)(oX.A,{className:"size-4"}):(0,r.jsx)(s9.A,{className:"size-4"}),(0,r.jsxs)("span",{className:"sr-only",children:[d[e]?"Hide":"Show"," ",t]})]})]})),(0,r.jsxs)("div",{className:"group relative",children:[(0,r.jsx)("label",{className:"-translate-y-1/2 absolute start-1 top-0 z-10 block bg-background px-2 font-medium text-foreground text-xs group-has-disabled:opacity-50",htmlFor:"select-model",children:"Model"}),(0,r.jsxs)(tN,{onOpenChange:h,open:m,children:[(0,r.jsx)(tA,{asChild:!0,id:"select-model",children:(0,r.jsxs)(X,{"aria-expanded":m,className:"w-full justify-between",role:"combobox",size:"lg",variant:"outline",children:[(0,r.jsx)("code",{children:a.label}),(0,r.jsx)(o1.A,{className:"ml-2 size-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(t_,{className:"w-full p-0",children:(0,r.jsxs)(tv,{children:[(0,r.jsx)(tj,{placeholder:"Search model..."}),(0,r.jsx)(tw,{children:"No model found."}),(0,r.jsx)(ty,{children:(0,r.jsx)(tk,{children:ib.map(e=>(0,r.jsxs)(tC,{onSelect:()=>{n(e),h(!1)},value:e.value,children:[(0,r.jsx)(ef.A,{className:C("mr-2 size-4",a.value===e.value?"opacity-100":"opacity-0")}),(0,r.jsx)("code",{children:e.label})]},e.value))})})]})})]})]})]})]}),(0,r.jsx)(X,{className:"w-full",size:"lg",type:"submit",children:"Save changes"})]}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Not stored anywhere. Used only for current session requests."})]})]})}function ij(e){let{loadMarkdownData:t,onChange:l}=e,[a,n]=(0,z.useState)(""),o=(0,s.FI)({plugins:oJ});return((0,z.useEffect)(()=>{(async()=>{let e=await t();n(e);let l=o.getApi(t0.LK).markdown.deserialize(e);o.tf.init({value:l||[],autoSelect:"end",onReady:e=>{let{editor:t,value:l}=e;console.log("onReady",t,l)}})})()},[o]),a)?(0,r.jsxs)(s.T6,{editor:o,onChange:e=>{let{editor:t,value:a}=e,r=t.api.markdown.serialize({value:a});null==l||l(r,a)},children:[(0,r.jsx)(lD,{children:(0,r.jsx)(lM,{variant:"demo"})}),(0,r.jsx)(iv,{})]}):(0,r.jsx)("div",{className:"h-full w-full flex justify-center items-center",children:"Loading…"})}}}]);